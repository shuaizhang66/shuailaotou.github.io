<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <title>Goå®ç°Proof of Stake å…±è¯†æœºåˆ¶</title>
  <meta name="description" content="Goå®ç°Proof of Stake å…±è¯†æœºåˆ¶">
  <meta name="author" content="å¼ å¸…">

  <meta name="keywords" content="go"
  />

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Goå®ç°Proof of Stake å…±è¯†æœºåˆ¶">
  <meta name="twitter:description" content="Goå®ç°Proof of Stake å…±è¯†æœºåˆ¶">

  <meta property="og:type" content="article">
  <meta property="og:title" content="Goå®ç°Proof of Stake å…±è¯†æœºåˆ¶">
  <meta property="og:description" content="Goå®ç°Proof of Stake å…±è¯†æœºåˆ¶">
  <meta property="og:site_name" content="goe"
  />


  <link rel="icon" type="image/png" href="/images/favicon.png" />
  <link href="/images/favicon.png" rel="shortcut icon" type="image/png">


  <link rel="stylesheet" href=" /css/main.css ">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="canonical" href="http://localhost:4000/2018/05/31/Go%E5%AE%9E%E7%8E%B0Proof-of-Stake-%E5%85%B1%E8%AF%86%E6%9C%BA%E5%88%B6/">
  <link rel="alternate" type="application/rss+xml" title="å¼ å¸…åŒºå—é“¾åšå®¢" href="http://localhost:4000 /feed.xml
    ">

  <meta name="google-site-verification" content="1-1ZlHoRvM0T2FqPbW2S-qLgYXN6rsn52kErlMPd_gw" />

  <!-- ç«™ç‚¹ç»Ÿè®¡ -->
  <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
  </script>
  
  <!-- ç™¾åº¦ç»Ÿè®¡ -->
  
  <script>
    var _hmt = _hmt || [];
    (function () {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?284358d8c366877824099c0d40d52cc3";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
  

  <!-- google ç»Ÿè®¡ -->
  

  <script>
    (function () {
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      } else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>

</head>


<body>

  <span class="mobile btn-mobile-menu">        
      <div class="nav_container">
         <nav class="nav-menu-item" style = "float:right">
            <i class="nav-menu-item">
              <a href="/#blog" title="" class="blog-button">  åšå®¢ä¸»é¡µ
              </a>
            </i>
            
                <i class="nav-menu-item">

                  <a href="/archive" title="archive" class="btn-mobile-menu__icon">
                      æ‰€æœ‰æ–‡ç« 
                  </a>
                </i>
            
                <i class="nav-menu-item">

                  <a href="/tags" title="tags" class="btn-mobile-menu__icon">
                      åˆ†ç±»
                  </a>
                </i>
            
                <i class="nav-menu-item">

                  <a href="/about" title="about" class="btn-mobile-menu__icon">
                      å…³äºæˆ‘
                  </a>
                </i>
            
          </nav>
          
      </div>
    </span> <header class="panel-cover panel-cover--collapsed" style="background-image: url('/images/background-cover.jpg')">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
      <div class="panel-main__content">
        <!-- å¤´åƒæ•ˆæœ-start -->
        <div class="ih-item circle effect right_to_left">
          <a href="/#blog" title="å‰å¾€ å¼ å¸…åŒºå—é“¾åšå®¢ çš„ä¸»é¡µ" class="blog-button">
            <div class="img"><img src="/images/avatar.jpg" alt="img"></div>
            <div class="info">
              <div class="info-back">
                <h2 style="font-size: 14px">
                   ç»ˆèº«å­¦ä¹ è€… 
                </h2>Â´
                <p style="font-size: 6px">
                   å°çº¢ç§‘æŠ€|CTO 
                </p>
              </div>
            </div>
          </a>
        </div>
        <!-- å¤´åƒæ•ˆæœ-end -->
        <h1 class="panel-cover__title panel-title"><a href="/#blog" title="link to homepage for å¼ å¸…åŒºå—é“¾åšå®¢" class="blog-button">å¼ å¸…åŒºå—é“¾åšå®¢</a></h1>
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">å¼ å¸…ï¼Œæ±Ÿæ¹–äººç§°å¸…å“¥ï¼ŒåŒºå—é“¾æŠ€æœ¯å…¨èƒ½æŠ€æœ¯äººæ‰ã€‚</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" /> 


        <div class="navigation-wrapper">
          <div>
            <nav class="cover-navigation cover-navigation--primary">
              <ul class="navigation">
                <li class="navigation__item"><a href="/#blog" title="" class="blog-button">åšå®¢ä¸»é¡µ</a></li>
                
                <li class="navigation__item"><a href="/archive" title="archive">æ‰€æœ‰æ–‡ç« </a></li>
                
                <li class="navigation__item"><a href="/tags" title="tags">åˆ†ç±»</a></li>
                
                <li class="navigation__item"><a href="/about" title="about">å…³äºæˆ‘</a></li>
                
              </ul>
            </nav>
          </div>
        </div>

        <div style="display:flex;justify-content:center;-webkit-justify-content:center">
          <div style="display:flex;flex-direction:column;align-items:center;-webkit-flex-direction:column;-webkit-align-items:center;margin-right:10px">
            <img src="/images/zhishixingqiu.png" style="width:120px;height:120px;margin-top:30px;margin-bottom:10px" />
            <span class="panel-cover__subtitle panel-subtitle" style="font-size: 12px">çŸ¥è¯†æ˜Ÿçƒ</span>
          </div>
          <div style="display:flex;flex-direction:column;align-items:center;-webkit-flex-direction:column;-webkit-align-items:center;margin-left:10px">
            <img src="/images/lianhu.jpg" style="width:120px;height:120px;margin-top:30px;margin-bottom:10px" />
            <span class="panel-cover__subtitle panel-subtitle" style="font-size: 12px">ä¸ªäººå…¬ä¼—å·</span>
          </div>
        </div>

      </div>
    </div>
  </div>

  
  <div class="panel-cover--overlay cover-clear"></div>
  

  </div>
</header>


  <div class="content-wrapper">
    <div class="content-wrapper__inner">
      <article class="post-container post-container--single" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title">Goå®ç°Proof of Stake å…±è¯†æœºåˆ¶</h1>
    <div class="post-meta">
      <img src="/images/calendar.png" width="20px"/>
      <time datetime="2018-05-31 00:00:00 +0800" itemprop="datePublished" class="post-meta__date date">2018-05-31</time>

      <span id="busuanzi_container_page_pv"> | é˜…è¯»ï¼š<span id="busuanzi_value_page_pv"></span>æ¬¡</span>
    </p>
    </div>
  </header>

  <section class="post">
    <h2 id="ä»€ä¹ˆæ˜¯-proof-of-stake">ä»€ä¹ˆæ˜¯ Proof of Stake</h2>

<p>åœ¨PoWä¸­ï¼ŒèŠ‚ç‚¹ä¹‹é—´é€šè¿‡hashçš„è®¡ç®—åŠ›æ¥ç«èµ›ä»¥è·å–ä¸‹ä¸€ä¸ªåŒºå—çš„è®°è´¦æƒï¼Œè€Œåœ¨PoSä¸­ï¼Œå—æ˜¯å·²ç»é“¸é€ å¥½çš„ï¼Œé“¸é€ çš„è¿‡ç¨‹æ˜¯åŸºäºæ¯ä¸ªèŠ‚ç‚¹(Node)æ„¿æ„ä½œä¸ºæŠµæŠ¼çš„ä»¤ç‰Œ(Token)æ•°é‡ã€‚å¦‚æœéªŒè¯è€…æ„¿æ„æä¾›æ›´å¤šçš„ä»¤ç‰Œä½œä¸ºæŠµæŠ¼å“ï¼Œä»–ä»¬å°±æœ‰æ›´å¤§çš„æœºä¼šè®°è´¦ä¸‹ä¸€ä¸ªåŒºå—å¹¶è·å¾—å¥–åŠ±ã€‚</p>

<h2 id="å®ç°-proof-of-stake-ä¸»è¦åŠŸèƒ½ç‚¹">å®ç° Proof of Stake ä¸»è¦åŠŸèƒ½ç‚¹</h2>

<ul>
  <li>æˆ‘ä»¬å°†æœ‰ä¸€ä¸ªä¸­å¿ƒåŒ–çš„TCPæœåŠ¡èŠ‚ç‚¹ï¼Œå…¶ä»–èŠ‚ç‚¹å¯ä»¥è¿æ¥è¯¥æœåŠ¡å™¨</li>
  <li>æœ€æ–°çš„åŒºå—é“¾çŠ¶æ€å°†å®šæœŸå¹¿æ’­åˆ°æ¯ä¸ªèŠ‚ç‚¹</li>
  <li>æ¯ä¸ªèŠ‚ç‚¹éƒ½èƒ½æè®®å»ºç«‹æ–°çš„åŒºå—</li>
  <li>åŸºäºæ¯ä¸ªèŠ‚ç‚¹çš„ä»¤ç‰Œæ•°é‡ï¼Œå…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹å°†éšæœºåœ°(ä»¥ä»¤ç‰Œæ•°ä½œä¸ºåŠ æƒå€¼)ä½œä¸ºè·èƒœè€…ï¼Œå¹¶ä¸”å°†è¯¥åŒºå—æ·»åŠ åˆ°åŒºå—é“¾ä¸­</li>
</ul>

<h2 id="å®ç°-proof-of-stake">å®ç° Proof of Stake</h2>

<h3 id="è®¾ç½®-tcp-æœåŠ¡å™¨çš„ç«¯å£">è®¾ç½® TCP æœåŠ¡å™¨çš„ç«¯å£</h3>

<p>æ–°å»º <code class="highlighter-rouge">.env</code>ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ <code class="highlighter-rouge">PORT=9000</code></p>

<h3 id="å®‰è£…ä¾èµ–è½¯ä»¶">å®‰è£…ä¾èµ–è½¯ä»¶</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>$ go get github.com/davecgh/go-spew/spew

$ go get github.com/joho/godotenv
</code></pre>
</div>

<ul>
  <li>
    <p><code class="highlighter-rouge">spew</code> åœ¨æ§åˆ¶å°ä¸­æ ¼å¼åŒ–è¾“å‡ºç›¸åº”çš„ç»“æœã€‚</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">godotenv</code> å¯ä»¥ä»æˆ‘ä»¬é¡¹ç›®çš„æ ¹ç›®å½•çš„ <code class="highlighter-rouge">.env</code> æ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚</p>
  </li>
</ul>

<h3 id="å¼•å…¥ç›¸åº”çš„åŒ…">å¼•å…¥ç›¸åº”çš„åŒ…</h3>

<p>æ–°å»º <code class="highlighter-rouge">main.go</code>ï¼Œå¼•å…¥ç›¸åº”çš„åŒ…</p>

<div class="highlighter-rouge"><pre class="highlight"><code>package main

import (
	"bufio"
	"crypto/sha256"
	"encoding/hex"
	"encoding/json"
	"fmt"
	"io"
	"log"
	"math/rand"
	"net"
	"os"
	"strconv"
	"sync"
	"time"

	"github.com/davecgh/go-spew/spew"
	"github.com/joho/godotenv"
)
</code></pre>
</div>

<h3 id="å…¨å±€å˜é‡">å…¨å±€å˜é‡</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>// Block represents each 'item' in the blockchain
type Block struct {
	Index     int
	Timestamp string
	BPM       int
	Hash      string
	PrevHash  string
	Validator string
}

// Blockchain is a series of validated Blocks
var Blockchain []Block
var tempBlocks []Block

// candidateBlocks handles incoming blocks for validation
var candidateBlocks = make(chan Block)

// announcements broadcasts winning validator to all nodes
var announcements = make(chan string)

var mutex = &amp;sync.Mutex{}

// validators keeps track of open validators and balances
var validators = make(map[string]int)
</code></pre>
</div>

<ul>
  <li><code class="highlighter-rouge">Block</code> æ˜¯æ¯ä¸ªåŒºå—çš„å†…å®¹</li>
  <li><code class="highlighter-rouge">Blockchain</code> æ˜¯æˆ‘ä»¬çš„å®˜æ–¹åŒºå—é“¾ï¼Œå®ƒåªæ˜¯ä¸€ä¸²ç»è¿‡éªŒè¯çš„åŒºå—é›†åˆã€‚æ¯ä¸ªåŒºå—ä¸­çš„ <code class="highlighter-rouge">PrevHash</code> ä¸å‰é¢å—çš„ <code class="highlighter-rouge">Hash</code> ç›¸æ¯”è¾ƒï¼Œä»¥ç¡®ä¿æˆ‘ä»¬çš„é“¾æ˜¯æ­£ç¡®çš„ã€‚ <code class="highlighter-rouge">tempBlocks</code> æ˜¯ä¸´æ—¶å­˜å‚¨å•å…ƒï¼Œåœ¨åŒºå—è¢«é€‰å‡ºæ¥å¹¶æ·»åŠ åˆ° <code class="highlighter-rouge">BlockChain</code> ä¹‹å‰ï¼Œä¸´æ—¶å­˜å‚¨åœ¨è¿™é‡Œ</li>
  <li><code class="highlighter-rouge">candidateBlocks</code> æ˜¯ <code class="highlighter-rouge">Block</code> çš„é€šé“ï¼Œä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹åœ¨æå‡ºä¸€ä¸ªæ–°å—æ—¶éƒ½å°†å®ƒå‘é€åˆ°è¿™ä¸ªé€šé“</li>
  <li><code class="highlighter-rouge">announcements</code> ä¹Ÿæ˜¯ä¸€ä¸ªé€šé“ï¼Œæˆ‘ä»¬çš„ä¸»Go TCPæœåŠ¡å™¨å°†å‘æ‰€æœ‰èŠ‚ç‚¹å¹¿æ’­æœ€æ–°çš„åŒºå—é“¾</li>
  <li><code class="highlighter-rouge">mutex</code>æ˜¯ä¸€ä¸ªæ ‡å‡†å˜é‡ï¼Œå…è®¸æˆ‘ä»¬æ§åˆ¶è¯»/å†™å’Œé˜²æ­¢æ•°æ®ç«äº‰</li>
  <li><code class="highlighter-rouge">validators</code> æ˜¯èŠ‚ç‚¹çš„å­˜å‚¨mapï¼ŒåŒæ—¶ä¹Ÿä¼šä¿å­˜æ¯ä¸ªèŠ‚ç‚¹æŒæœ‰çš„ä»¤ç‰Œæ•°</li>
</ul>

<h3 id="ç”ŸæˆåŒºå—">ç”ŸæˆåŒºå—</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>func generateBlock(oldBlock Block, BPM int, address string) (Block, error) {

	var newBlock Block

	t := time.Now()

	newBlock.Index = oldBlock.Index + 1
	newBlock.Timestamp = t.String()
	newBlock.BPM = BPM
	newBlock.PrevHash = oldBlock.Hash
	newBlock.Hash = calculateBlockHash(newBlock)
	newBlock.Validator = address

	return newBlock, nil
}
</code></pre>
</div>

<p><code class="highlighter-rouge">generateBlock</code> æ˜¯ç”¨æ¥åˆ›å»ºæ–°å—çš„ã€‚
<code class="highlighter-rouge">newBlock.PrevHash</code> å­˜å‚¨çš„æ˜¯ä¸Šä¸€ä¸ªåŒºå—çš„ <code class="highlighter-rouge">Hash</code>
<code class="highlighter-rouge">newBlock.Hash</code> æ˜¯é€šè¿‡ <code class="highlighter-rouge">calculateBlockHash(newBlock)</code> ç”Ÿæˆçš„ Hash ã€‚
<code class="highlighter-rouge">newBlock.Validator</code> å­˜å‚¨çš„æ˜¯è·å–è®°è´¦æƒçš„èŠ‚ç‚¹åœ°å€</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// SHA256 hasing
// calculateHash is a simple SHA256 hashing function
func calculateHash(s string) string {
	h := sha256.New()
	h.Write([]byte(s))
	hashed := h.Sum(nil)
	return hex.EncodeToString(hashed)
}

//calculateBlockHash returns the hash of all block information
func calculateBlockHash(block Block) string {
	record := string(block.Index) + block.Timestamp + string(block.BPM) + block.PrevHash
	return calculateHash(record)
}
</code></pre>
</div>

<p><code class="highlighter-rouge">calculateHash</code> å‡½æ•°ä¼šæ¥å—ä¸€ä¸ª <code class="highlighter-rouge">string</code> ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ª<code class="highlighter-rouge">SHA256 hash</code> ã€‚</p>

<p><code class="highlighter-rouge">calculateBlockHash</code> æ˜¯å¯¹ä¸€ä¸ª <code class="highlighter-rouge">block</code> è¿›è¡Œ <code class="highlighter-rouge">hash</code>ï¼Œå°†ä¸€ä¸ª <code class="highlighter-rouge">block</code> çš„æ‰€æœ‰å­—æ®µè¿æ¥åˆ°ä¸€èµ·åï¼Œå†è°ƒç”¨ <code class="highlighter-rouge">calculateHash</code> å°†å­—ç¬¦ä¸²è½¬ä¸º <code class="highlighter-rouge">SHA256 hash</code> ã€‚</p>

<h3 id="éªŒè¯åŒºå—">éªŒè¯åŒºå—</h3>

<p>æˆ‘ä»¬é€šè¿‡æ£€æŸ¥ <code class="highlighter-rouge">Index</code> æ¥ç¡®ä¿å®ƒä»¬æŒ‰é¢„æœŸé€’å¢ã€‚æˆ‘ä»¬ä¹Ÿæ£€æŸ¥ä»¥ç¡®ä¿æˆ‘ä»¬ <code class="highlighter-rouge">PrevHash</code> çš„ç¡®ä¸ <code class="highlighter-rouge">Hash</code> å‰ä¸€ä¸ªåŒºå—ç›¸åŒã€‚æœ€åï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡åœ¨å½“å‰å—ä¸Š <code class="highlighter-rouge">calculateBlockHash</code> å†æ¬¡è¿è¡Œè¯¥å‡½æ•°æ¥æ£€æŸ¥å½“å‰å—çš„æ•£åˆ—ã€‚</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// isBlockValid makes sure block is valid by checking index
// and comparing the hash of the previous block
func isBlockValid(newBlock, oldBlock Block) bool {
	if oldBlock.Index+1 != newBlock.Index {
		return false
	}

	if oldBlock.Hash != newBlock.PrevHash {
		return false
	}

	if calculateBlockHash(newBlock) != newBlock.Hash {
		return false
	}

	return true
}
</code></pre>
</div>

<h3 id="éªŒè¯è€…">éªŒè¯è€…</h3>

<p>å½“ä¸€ä¸ªéªŒè¯è€…è¿æ¥åˆ°æˆ‘ä»¬çš„TCPæœåŠ¡ï¼Œæˆ‘ä»¬éœ€è¦æä¾›ä¸€äº›å‡½æ•°è¾¾åˆ°ä»¥ä¸‹ç›®æ ‡ï¼š</p>

<ul>
  <li>è¾“å…¥ä»¤ç‰Œçš„ä½™é¢ï¼ˆä¹‹å‰æåˆ°è¿‡ï¼Œæˆ‘ä»¬ä¸åšé’±åŒ…ç­‰é€»è¾‘)</li>
  <li>æ¥æ”¶åŒºå—é“¾çš„æœ€æ–°å¹¿æ’­</li>
  <li>æ¥æ”¶éªŒè¯è€…èµ¢å¾—åŒºå—çš„å¹¿æ’­ä¿¡æ¯</li>
  <li>å°†è‡ªèº«èŠ‚ç‚¹æ·»åŠ åˆ°å…¨å±€çš„éªŒè¯è€…åˆ—è¡¨ä¸­ï¼ˆvalidators)</li>
  <li>è¾“å…¥Blockçš„BPMæ•°æ®- BPMæ˜¯æ¯ä¸ªéªŒè¯è€…çš„äººä½“è„‰æå€¼</li>
  <li>æè®®åˆ›å»ºä¸€ä¸ªæ–°çš„åŒºå—</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>func handleConn(conn net.Conn) {
	defer conn.Close()

	go func() {
		for {
			msg := &lt;-announcements
			io.WriteString(conn, msg)
		}
	}()
	// éªŒè¯è€…åœ°å€
	var address string

	// éªŒè¯è€…è¾“å…¥ä»–æ‰€æ‹¥æœ‰çš„ tokensï¼Œtokens çš„å€¼è¶Šå¤§ï¼Œè¶Šå®¹æ˜“è·å¾—æ–°åŒºå—çš„è®°è´¦æƒ
	io.WriteString(conn, "Enter token balance:")
	scanBalance := bufio.NewScanner(conn)
	for scanBalance.Scan() {
		// è·å–è¾“å…¥çš„æ•°æ®ï¼Œå¹¶å°†è¾“å…¥çš„å€¼è½¬ä¸º int
		balance, err := strconv.Atoi(scanBalance.Text())
		if err != nil {
			log.Printf("%v not a number: %v", scanBalance.Text(), err)
			return
		}
		t := time.Now()
		// ç”ŸæˆéªŒè¯è€…çš„åœ°å€
		address = calculateHash(t.String())
		// å°†éªŒè¯è€…çš„åœ°å€å’Œtoken å­˜å‚¨åˆ° validators
		validators[address] = balance
		fmt.Println(validators)
		break
	}

	io.WriteString(conn, "\nEnter a new BPM:")

	scanBPM := bufio.NewScanner(conn)

	go func() {
		for {
			// take in BPM from stdin and add it to blockchain after conducting necessary validation
			for scanBPM.Scan() {
				bpm, err := strconv.Atoi(scanBPM.Text())
				// å¦‚æœéªŒè¯è€…è¯•å›¾æè®®ä¸€ä¸ªè¢«æ±¡æŸ“ï¼ˆä¾‹å¦‚ä¼ªé€ ï¼‰çš„blockï¼Œä¾‹å¦‚åŒ…å«ä¸€ä¸ªä¸æ˜¯æ•´æ•°çš„BPMï¼Œé‚£ä¹ˆç¨‹åºä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œæˆ‘ä»¬ä¼šç«‹å³ä»æˆ‘ä»¬çš„éªŒè¯å™¨åˆ—è¡¨validatorsä¸­åˆ é™¤è¯¥éªŒè¯è€…ï¼Œä»–ä»¬å°†ä¸å†æœ‰èµ„æ ¼å‚ä¸åˆ°æ–°å—çš„é“¸é€ è¿‡ç¨‹åŒæ—¶ä¸¢å¤±ç›¸åº”çš„æŠµæŠ¼ä»¤ç‰Œã€‚
				if err != nil {
					log.Printf("%v not a number: %v", scanBPM.Text(), err)
					delete(validators, address)
					conn.Close()
				}

				mutex.Lock()
				oldLastIndex := Blockchain[len(Blockchain)-1]
				mutex.Unlock()

				// åˆ›å»ºæ–°çš„åŒºå—ï¼Œç„¶åå°†å…¶å‘é€åˆ° candidateBlocks é€šé“
				newBlock, err := generateBlock(oldLastIndex, bpm, address)
				if err != nil {
					log.Println(err)
					continue
				}
				if isBlockValid(newBlock, oldLastIndex) {
					candidateBlocks &lt;- newBlock
				}
				io.WriteString(conn, "\nEnter a new BPM:")
			}
		}
	}()

	// å¾ªç¯ä¼šå‘¨æœŸæ€§çš„æ‰“å°å‡ºæœ€æ–°çš„åŒºå—é“¾ä¿¡æ¯
	for {
		time.Sleep(time.Minute)
		mutex.Lock()
		output, err := json.Marshal(Blockchain)
		mutex.Unlock()
		if err != nil {
			log.Fatal(err)
		}
		io.WriteString(conn, string(output)+"\n")
	}

}

</code></pre>
</div>

<ul>
  <li>
    <p><code class="highlighter-rouge">io.WriteString(conn, "Enter token balance:")</code>å…è®¸éªŒè¯è€…è¾“å…¥ä»–æŒæœ‰çš„ä»¤ç‰Œæ•°é‡ï¼Œç„¶åï¼Œè¯¥éªŒè¯è€…è¢«åˆ†é…ä¸€ä¸ª <code class="highlighter-rouge">SHA256</code>åœ°å€ï¼Œéšåè¯¥éªŒè¯è€…åœ°å€å’ŒéªŒè¯è€…çš„ä»¤ç‰Œæ•°è¢«æ·»åŠ åˆ°éªŒè¯è€…åˆ—è¡¨<code class="highlighter-rouge">validators</code> ä¸­ã€‚</p>
  </li>
  <li>
    <p>æ¥ç€æˆ‘ä»¬è¾“å…¥BPMï¼ŒéªŒè¯è€…çš„è„‰æå€¼ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„Goåç¨‹æ¥å¤„ç†è¿™å—å„¿é€»è¾‘</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">delete(validators, address)</code> å¦‚æœéªŒè¯è€…è¯•å›¾æè®®ä¸€ä¸ªè¢«æ±¡æŸ“ï¼ˆä¾‹å¦‚ä¼ªé€ ï¼‰çš„ <code class="highlighter-rouge">block</code>ï¼Œä¾‹å¦‚åŒ…å«ä¸€ä¸ªä¸æ˜¯æ•´æ•°çš„BPMï¼Œé‚£ä¹ˆç¨‹åºä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œæˆ‘ä»¬ä¼šç«‹å³ä»æˆ‘ä»¬çš„éªŒè¯å™¨åˆ—è¡¨ <code class="highlighter-rouge">validators</code> ä¸­åˆ é™¤è¯¥éªŒè¯è€…ï¼Œä»–ä»¬å°†ä¸å†æœ‰èµ„æ ¼å‚ä¸åˆ°æ–°å—çš„é“¸é€ è¿‡ç¨‹åŒæ—¶ä¸¢å¤±ç›¸åº”çš„æŠµæŠ¼ä»¤ç‰Œã€‚</p>
  </li>
  <li>
    <p>æ­£æ˜¯å› ä¸ºè¿™ç§æŠµæŠ¼ä»¤ç‰Œçš„æœºåˆ¶ï¼Œä½¿å¾—PoSåè®®æ˜¯ä¸€ç§æ›´åŠ å¯é çš„æœºåˆ¶ã€‚å¦‚æœä¸€ä¸ªäººè¯•å›¾ä¼ªé€ å’Œç ´åï¼Œé‚£ä¹ˆä»–å°†è¢«æŠ“ä½ï¼Œå¹¶ä¸”å¤±å»æ‰€æœ‰æŠµæŠ¼å’Œæœªæ¥çš„æƒç›Šï¼Œå› æ­¤å¯¹äºæ¶æ„è€…æ¥è¯´ï¼Œæ˜¯éå¸¸å¤§çš„å¨æ…‘ã€‚</p>
  </li>
  <li>
    <p>æ¥ç€ï¼Œæˆ‘ä»¬ç”¨ <code class="highlighter-rouge">generateBlock</code> å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„ <code class="highlighter-rouge">block</code>ï¼Œç„¶åå°†å…¶å‘é€åˆ° <code class="highlighter-rouge">candidateBlocks</code> é€šé“è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†ã€‚å°†<code class="highlighter-rouge">Block</code> å‘é€åˆ°é€šé“ä½¿ç”¨çš„è¯­æ³•: <code class="highlighter-rouge">candidateBlocks &lt;- newBlock</code></p>
  </li>
  <li>
    <p>æœ€åä¼šå¾ªç¯æ‰“å°å‡ºæœ€æ–°çš„åŒºå—é“¾ï¼Œè¿™æ ·æ¯ä¸ªéªŒè¯è€…éƒ½èƒ½è·çŸ¥æœ€æ–°çš„çŠ¶æ€ã€‚</p>
  </li>
</ul>

<h3 id="é€‰æ‹©è·å–è®°è´¦æƒçš„èŠ‚ç‚¹">é€‰æ‹©è·å–è®°è´¦æƒçš„èŠ‚ç‚¹</h3>

<p>ä¸‹é¢æ˜¯PoSçš„ä¸»è¦é€»è¾‘ã€‚æˆ‘ä»¬éœ€è¦ç¼–å†™ä»£ç ä»¥å®ç°è·èƒœéªŒè¯è€…çš„é€‰æ‹©;ä»–ä»¬æ‰€æŒæœ‰çš„ä»¤ç‰Œæ•°é‡è¶Šé«˜ï¼Œä»–ä»¬å°±è¶Šæœ‰å¯èƒ½è¢«é€‰ä¸ºèƒœåˆ©è€…ã€‚</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// pickWinner creates a lottery pool of validators and chooses the validator who gets to forge a block to the blockchain
// by random selecting from the pool, weighted by amount of tokens staked
func pickWinner() {
	time.Sleep(30 * time.Second)
	mutex.Lock()
	temp := tempBlocks
	mutex.Unlock()

	lotteryPool := []string{}
	if len(temp) &gt; 0 {

		// slightly modified traditional proof of stake algorithm
		// from all validators who submitted a block, weight them by the number of staked tokens
		// in traditional proof of stake, validators can participate without submitting a block to be forged
	OUTER:
		for _, block := range temp {
			// if already in lottery pool, skip
			for _, node := range lotteryPool {
				if block.Validator == node {
					continue OUTER
				}
			}

			// lock list of validators to prevent data race
			mutex.Lock()
			setValidators := validators
			mutex.Unlock()

			// è·å–éªŒè¯è€…çš„tokens
			k, ok := setValidators[block.Validator]
			if ok {
				// å‘ lotteryPool è¿½åŠ  k æ¡æ•°æ®ï¼Œk ä»£è¡¨çš„æ˜¯å½“å‰éªŒè¯è€…çš„tokens
				for i := 0; i &lt; k; i++ {
					lotteryPool = append(lotteryPool, block.Validator)
				}
			}
		}

		// é€šè¿‡éšæœºè·å¾—è·èƒœèŠ‚ç‚¹çš„åœ°å€
		s := rand.NewSource(time.Now().Unix())
		r := rand.New(s)
		lotteryWinner := lotteryPool[r.Intn(len(lotteryPool))]

		// æŠŠè·èƒœè€…çš„åŒºå—æ·»åŠ åˆ°æ•´æ¡åŒºå—é“¾ä¸Šï¼Œç„¶åé€šçŸ¥æ‰€æœ‰èŠ‚ç‚¹å…³äºèƒœåˆ©è€…çš„æ¶ˆæ¯
		for _, block := range temp {
			if block.Validator == lotteryWinner {
				mutex.Lock()
				Blockchain = append(Blockchain, block)
				mutex.Unlock()
				for _ = range validators {
					announcements &lt;- "\nwinning validator: " + lotteryWinner + "\n"
				}
				break
			}
		}
	}

	mutex.Lock()
	tempBlocks = []Block{}
	mutex.Unlock()
}
</code></pre>
</div>

<ul>
  <li>
    <p>æ¯éš”30ç§’ï¼Œæˆ‘ä»¬é€‰å‡ºä¸€ä¸ªèƒœåˆ©è€…ï¼Œè¿™æ ·å¯¹äºæ¯ä¸ªéªŒè¯è€…æ¥è¯´ï¼Œéƒ½æœ‰æ—¶é—´æè®®æ–°çš„åŒºå—ï¼Œå‚ä¸åˆ°ç«äº‰ä¸­æ¥ã€‚æ¥ç€åˆ›å»ºä¸€ä¸ª<code class="highlighter-rouge">lotteryPool</code>ï¼Œå®ƒä¼šæŒæœ‰æ‰€æœ‰éªŒè¯è€…çš„åœ°å€ï¼Œè¿™äº›éªŒè¯è€…éƒ½æœ‰æœºä¼šæˆä¸ºä¸€ä¸ªèƒœåˆ©è€…ã€‚ç„¶åï¼Œå¯¹äºæè®®å—çš„æš‚å­˜åŒºåŸŸï¼Œæˆ‘ä»¬ä¼šé€šè¿‡<code class="highlighter-rouge">if len(temp) &gt; 0</code>æ¥åˆ¤æ–­æ˜¯å¦å·²ç»æœ‰äº†è¢«æè®®çš„åŒºå—ã€‚</p>
  </li>
  <li>
    <p>åœ¨<code class="highlighter-rouge">OUTER FOR</code>å¾ªç¯ä¸­ï¼Œè¦æ£€æŸ¥æš‚å­˜åŒºåŸŸæ˜¯å¦å’Œ <code class="highlighter-rouge">lotteryPool</code> ä¸­å­˜åœ¨åŒæ ·çš„éªŒè¯è€…ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™è·³è¿‡ã€‚</p>
  </li>
  <li>
    <p>åœ¨ä»¥ <code class="highlighter-rouge">k, ok := setValidators[block.Validator]</code>å¼€å§‹çš„ä»£ç å—ä¸­ï¼Œæˆ‘ä»¬ç¡®ä¿äº†ä»<code class="highlighter-rouge">temp</code>ä¸­å–å‡ºæ¥çš„éªŒè¯è€…éƒ½æ˜¯åˆæ³•çš„ï¼Œå³è¿™äº›éªŒè¯è€…åœ¨éªŒè¯è€…åˆ—è¡¨<code class="highlighter-rouge">validators</code>å·²å­˜åœ¨ã€‚è‹¥åˆæ³•ï¼Œåˆ™æŠŠè¯¥éªŒè¯è€…åŠ å…¥åˆ°<code class="highlighter-rouge">lotteryPool</code>ä¸­ã€‚</p>
  </li>
  <li>
    <p>é‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆæ ¹æ®è¿™äº›éªŒè¯è€…æŒæœ‰çš„ä»¤ç‰Œæ•°æ¥ç»™äºˆä»–ä»¬åˆé€‚çš„éšæœºæƒé‡å‘¢ï¼Ÿ</p>

    <ul>
      <li>
        <p>é¦–å…ˆï¼Œç”¨éªŒè¯è€…çš„ä»¤ç‰Œå¡«å……<code class="highlighter-rouge">lotteryPool</code>æ•°ç»„ï¼Œä¾‹å¦‚ä¸€ä¸ªéªŒè¯è€…æœ‰100ä¸ªä»¤ç‰Œï¼Œé‚£ä¹ˆåœ¨<code class="highlighter-rouge">lotteryPool</code>ä¸­å°±å°†æœ‰100ä¸ªå…ƒç´ å¡«å……ï¼›å¦‚æœæœ‰1ä¸ªä»¤ç‰Œï¼Œé‚£ä¹ˆå°†ä»…å¡«å……1ä¸ªå…ƒç´ ã€‚</p>
      </li>
      <li>
        <p>ç„¶åï¼Œä»<code class="highlighter-rouge">lotteryPool</code>ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ ï¼Œå…ƒç´ æ‰€å±çš„éªŒè¯è€…å³æ˜¯èƒœåˆ©è€…ï¼ŒæŠŠèƒœåˆ©éªŒè¯è€…çš„åœ°å€èµ‹å€¼ç»™lotteryWinnerã€‚è¿™é‡Œèƒ½å¤Ÿçœ‹å‡ºæ¥ï¼Œå¦‚æœéªŒè¯è€…æŒæœ‰çš„ä»¤ç‰Œè¶Šå¤šï¼Œé‚£ä¹ˆä»–åœ¨æ•°ç»„ä¸­çš„å…ƒç´ ä¹Ÿè¶Šå¤šï¼Œä»–è·èƒœçš„æ¦‚ç‡å°±è¶Šå¤§ï¼›åŒæ—¶ï¼ŒæŒæœ‰ä»¤ç‰Œå¾ˆå°‘çš„éªŒè¯è€…ï¼Œä¹Ÿæ˜¯æœ‰æ¦‚ç‡è·èƒœçš„ã€‚</p>
      </li>
    </ul>
  </li>
  <li>
    <p>æ¥ç€æˆ‘ä»¬æŠŠè·èƒœè€…çš„åŒºå—æ·»åŠ åˆ°æ•´æ¡åŒºå—é“¾ä¸Šï¼Œç„¶åé€šçŸ¥æ‰€æœ‰èŠ‚ç‚¹å…³äºèƒœåˆ©è€…çš„æ¶ˆæ¯ï¼š<code class="highlighter-rouge">announcements &lt;- "\nwinning validator: " + lotteryWinner + "\n" </code>ã€‚</p>
  </li>
  <li>
    <p>æœ€åï¼Œæ¸…ç©ºtempBlocksï¼Œä»¥ä¾¿ä¸‹æ¬¡æè®®çš„è¿›è¡Œã€‚</p>
  </li>
</ul>

<h3 id="ä¸»å‡½æ•°">ä¸»å‡½æ•°</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>func main() {
	err := godotenv.Load()
	if err != nil {
		log.Fatal(err)
	}

	// åˆ›å»ºåˆå§‹åŒºå—
	t := time.Now()
	genesisBlock := Block{}
	genesisBlock = Block{0, t.String(), 0, calculateBlockHash(genesisBlock), "", ""}
	spew.Dump(genesisBlock)
	Blockchain = append(Blockchain, genesisBlock)

	httpPort := os.Getenv("PORT")

	// å¯åŠ¨ TCP æœåŠ¡
	server, err := net.Listen("tcp", ":"+httpPort)
	if err != nil {
		log.Fatal(err)
	}
	log.Println("HTTP Server Listening on port :", httpPort)
	defer server.Close()

	// å¯åŠ¨äº†ä¸€ä¸ªGo routine ä» candidateBlocks é€šé“ä¸­è·å–æè®®çš„åŒºå—ï¼Œç„¶åå¡«å……åˆ°ä¸´æ—¶ç¼“å†²åŒº tempBlocks ä¸­
	go func() {
		for candidate := range candidateBlocks {
			mutex.Lock()
			tempBlocks = append(tempBlocks, candidate)
			mutex.Unlock()
		}
	}()

	// å¯åŠ¨äº†ä¸€ä¸ªGo routine å®Œæˆ pickWinner å‡½æ•°
	go func() {
		for {
			pickWinner()
		}
	}()

	// æ¥æ”¶éªŒè¯è€…èŠ‚ç‚¹çš„è¿æ¥
	for {
		conn, err := server.Accept()
		if err != nil {
			log.Fatal(err)
		}
		go handleConn(conn)
	}
}
</code></pre>
</div>

<ul>
  <li><code class="highlighter-rouge">godotenv.Load()</code> ä¼šè§£æ <code class="highlighter-rouge">.env</code> æ–‡ä»¶å¹¶å°†ç›¸åº”çš„Key/Valueå¯¹éƒ½æ”¾åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œé€šè¿‡ <code class="highlighter-rouge">os.Getenv</code> è·å–</li>
  <li>ç„¶ååˆ›å»ºä¸€ä¸ªåˆ›ä¸–åŒºå—genesisBlockï¼Œå½¢æˆäº†åŒºå—é“¾ã€‚</li>
  <li>æ¥ç€å¯åŠ¨äº†TcpæœåŠ¡ï¼Œç­‰å¾…æ‰€æœ‰éªŒè¯è€…çš„è¿æ¥ã€‚</li>
  <li>å¯åŠ¨äº†ä¸€ä¸ªGoåç¨‹ä» <code class="highlighter-rouge">candidateBlocks</code> é€šé“ä¸­è·å–æè®®çš„åŒºå—ï¼Œç„¶åå¡«å……åˆ°ä¸´æ—¶ç¼“å†²åŒº <code class="highlighter-rouge">tempBlocks</code> ä¸­ï¼Œæœ€åå¯åŠ¨äº†å¦å¤–ä¸€ä¸ªGoåç¨‹æ¥å®Œæˆ <code class="highlighter-rouge">pickWinner</code> å‡½æ•°ã€‚</li>
  <li>æœ€åçš„forå¾ªç¯ï¼Œç”¨æ¥æ¥æ”¶éªŒè¯è€…èŠ‚ç‚¹çš„è¿æ¥ã€‚</li>
</ul>

<h2 id="è¿è¡Œ">è¿è¡Œ</h2>

<p><code class="highlighter-rouge">go run main.go</code> å¯åŠ¨æ‚¨çš„Goç¨‹åºå’ŒTCPæœåŠ¡å™¨ï¼Œå¹¶ä¼šæ‰“å°å‡ºåˆå§‹åŒºå—çš„ä¿¡æ¯ã€‚</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ go run main.go
(main.Block) {
 Index: (int) 0,
 Timestamp: (string) (len=50) "2018-05-08 16:45:27.14287 +0800 CST m=+0.000956793",
 BPM: (int) 0,
 Hash: (string) (len=64) "96a296d224f285c67bee93c30f8a309157f0daa35dc5b87e410b78630a09cfc7",
 PrevHash: (string) "",
 Validator: (string) ""
}
2018/05/08 16:45:27 HTTP Server Listening on port : 9000
</code></pre>
</div>

<p>æ‰“å¼€æ–°çš„ç»ˆç«¯ï¼Œè¿è¡Œ <code class="highlighter-rouge">nc localhost 9000</code>ï¼Œ
è¾“å…¥ <code class="highlighter-rouge">tokens</code> , ç„¶åè¾“å…¥ <code class="highlighter-rouge">BPM</code></p>

<p><img src="http://olgjbx93m.bkt.clouddn.com/WX20180508-165429.png" alt="" /></p>

<p>å¯ä»¥æ‰“å¼€å¤šä¸ªç»ˆç«¯ï¼Œè¾“å…¥ä¸åŒçš„ <code class="highlighter-rouge">tokens</code> ,æ¥æ£€éªŒ PoS ç®—æ³•</p>

<p><img src="http://olgjbx93m.bkt.clouddn.com/WX20180508-165704.png" alt="" /></p>

<hr />
<p><a href="https://github.com/shuailaotou/booksofTN/blob/master/åˆ†å¸ƒå¼ç³»ç»ŸåŸç†ä»‹ç».pdf">githubæºä»£ç </a></p>

<p>å–œæ¬¢å°±starä¸€ä¸‹å§ï¼ğŸ‘»ğŸ‘»ğŸ‘»</p>

<blockquote>
  <p>å¦‚æœ‰é”™è¯¯æè¿°ï¼Œè¯·è¯„è®ºçº æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼ğŸ³ğŸ³ğŸ³</p>
</blockquote>


  </section>
  <h2 style="color:red"><strong>ç‰ˆæƒå£°æ˜ï¼šåšå®¢ä¸­çš„æ–‡ç« ç‰ˆæƒå½’åšä¸»æ‰€æœ‰ï¼Œæœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œåˆä½œè¯·è”ç³»ï¼šzs649704832(å¾®ä¿¡)</strong></h2>
</article>

<section>

            <div class="content-play">
              <p><a href="javascript:void(0)" onclick="dashangToggle()" class="dashang" title="æ‰“èµï¼Œæ”¯æŒä¸€ä¸‹">æ‰“èµä¸€ä¸ªå‘—</a></p>
              <div class="hide_box-play"></div>
              <div class="shang_box-play">
                <a class="shang_close-play" href="javascript:void(0)" onclick="dashangToggle()" title="å…³é—­"><img src="/images/payimg/close.jpg" alt="å–æ¶ˆ" /></a>
                <div class="shang_tit-play">
                  <p>æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼Œæˆ‘ä¼šç»§ç»­åŠªåŠ›çš„!</p>
                </div>
                <div class="shang_payimg">
                    <img src="/images/payimg/alipayimg.jpg" alt="æ‰«ç æ”¯æŒ" title="æ‰«ä¸€æ‰«" />
                </div>
              <div class="shang_payimg">    
                    <img src="/images/payimg/weipayimg.jpg" alt="æ‰«ç æ”¯æŒ" title="æ‰«ä¸€æ‰«" />
                </div>
                <div class="pay_explain">æ‰«ç æ‰“èµï¼Œä½ è¯´å¤šå°‘å°±å¤šå°‘</div>
                <div class="shang_payselect">
                  <div class="pay_item checked" data-id="alipay">
                    <span class="pay_logo"><img src="/images/payimg/alipay.jpg" alt="æ”¯ä»˜å®" /></span>
                  </div>
                  <div class="pay_item" data-id="weipay">
                    <span class="pay_logo"><img src="/images/payimg/wechat.jpg" alt="å¾®ä¿¡" /></span>
                  </div>
                </div>
                <div class="shang_info-play">
                  <p>æ‰“å¼€<span id="shang_pay_txt">æ”¯ä»˜å®</span>æ‰«ä¸€æ‰«ï¼Œå³å¯è¿›è¡Œæ‰«ç æ‰“èµå“¦</p>
                </div>
              </div>
            </div>
            <script type="text/javascript">
            function dashangToggle(){
              $(".hide_box-play").fadeToggle();
              $(".shang_box-play").fadeToggle();
            }
            </script>

            <div style="text-align:center;margin:50px 0; font:normal 14px/24px 'MicroSoft YaHei';"></div>

            <style type="text/css">
              .content-play{width:80%;margin-top: 20px;margin-bottom: 10px;height:40px;}
              .hide_box-play{z-index:999;filter:alpha(opacity=50);background:#666;opacity: 0.5;-moz-opacity: 0.5;left:0;top:0;height:99%;width:100%;position:fixed;display:none;}
              .shang_box-play{width:540px;height:540px;padding:10px;background-color:#fff;border-radius:10px;position:fixed;z-index:1000;left:50%;top:50%;margin-left:-280px;margin-top:-280px;border:1px dotted #dedede;display:none;}
              .shang_box-play img{border:none;border-width:0;}
              .dashang{display:block;width:100px;margin:5px auto;height:25px;line-height:25px;padding:10px;background-color:#E74851;color:#fff;text-align:center;text-decoration:none;border-radius:10px;font-weight:bold;font-size:16px;transition: all 0.3s;}
              .dashang:hover{opacity:0.8;padding:15px;font-size:18px;}
              .shang_close-play{float:right;display:inline-block;
                margin-right: 10px;margin-top: 20px;
              }
              .shang_logo{display:block;text-align:center;margin:20px auto;}
              .shang_tit-play{width: 100%;height: 75px;text-align: center;line-height: 66px;color: #a3a3a3;font-size: 16px;background: url('/images/payimg/cy-reward-title-bg.jpg');font-family: 'Microsoft YaHei';margin-top: 7px;margin-right:2px;}
              .shang_tit-play p{color:#a3a3a3;text-align:center;font-size:16px;}
              .shang_payimg{width:140px;padding:10px;padding-left: 80px; /*border:6px solid #EA5F00;**/margin:0 auto;border-radius:3px;height:140px;display:inline-block;}
              .shang_payimg img{display:inline-block;margin-right:10px;float:left;text-align:center;width:140px;height:140px; }
              .pay_explain{text-align:center;margin:10px auto;font-size:12px;color:#545454;}
              .shang_payselect{text-align:center;margin:0 auto;margin-top:40px;cursor:pointer;height:60px;width:500px;margin-left:110px;}
              .shang_payselect .pay_item{display:inline-block;margin-right:140px;float:left;}
              .shang_info-play{clear:both;}
              .shang_info-play p,.shang_info-play a{color:#C3C3C3;text-align:center;font-size:12px;text-decoration:none;line-height:2em;}
            </style>

       <ul class="pager">
        
        <li class="previous">
            <a href="/2018/05/23/%E4%BD%BF%E7%94%A8Go%E5%AE%9E%E7%8E%B0ProofofWork%E5%85%B1%E8%AF%86%E6%9C%BA%E5%88%B6/" data-toggle="tooltip" data-placement="top" title="ä½¿ç”¨Goå®ç°Proof-of-Work å…±è¯†æœºåˆ¶">ä¸Šä¸€ç¯‡ï¼š  <span>ä½¿ç”¨Goå®ç°Proof-of-Work å…±è¯†æœºåˆ¶</span>
            </a>
        </li>
        
        
        <li class="next">
            <a href="/2018/05/31/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90+-+%E4%B8%8B%E8%BD%BD-%E7%BC%96%E8%AF%91+go-ethereum+-%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E9%93%BE/" data-toggle="tooltip" data-placement="top" title="ä»¥å¤ªåŠæºç è§£æ - ä¸‹è½½ã€ç¼–è¯‘ go-ethereum ï¼Œæ­å»ºç§æœ‰é“¾">ä¸‹ä¸€ç¯‡ï¼š  <span>ä»¥å¤ªåŠæºç è§£æ - ä¸‹è½½ã€ç¼–è¯‘ go-ethereum ï¼Œæ­å»ºç§æœ‰é“¾</span>
            </a>
        </li>
        
    </ul>
</section>

<section class="post-comments">
  <!--PCå’ŒWAPè‡ªé€‚åº”ç‰ˆ-->
<div id="SOHUCS" sid=Goå®ç°Proof of Stake å…±è¯†æœºåˆ¶ ></div>
<script type="text/javascript">
(function(){
var appid = 'cytCUCkTk'; 
var conf = 'prod_15e14289becf46918413c73cdc14c4dc';
var width = window.innerWidth || document.documentElement.clientWidth;
if (width < 960) {
window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="http://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("http://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); </script>
</section>

 <section class="footer">
  <footer>
    <div class="footer_div">
      <nav class="cover-navigation navigation--social">
        <ul class="navigation">

          
          <!-- Weibo -->
          <li class="navigation__item_social">
            <a href="http://weibo.com/u/3127147977" title="@u/3127147977 çš„å¾®åš" target="_blank">
              <i class='social fa fa-weibo fa-2x'></i>
              <span class="label">Weibo</span>
            </a>
          </li>
           
          <!-- Github -->
          <li class="navigation__item_social">
            <a href="https://github.com/shuailaotou" title="@shuailaotou çš„ Github" target="_blank">
              <i class='social fa fa-github fa-2x'></i>
              <span class="label">Github</span>
            </a>
          </li>
            

          <!-- RSS -->
          <li class="navigation__item_social">
            <a href="/feed.xml" rel="author" title="RSS" target="_blank">
              <i class='social fa fa-rss fa-2x'></i>
              <span class="label">RSS</span>
            </a>
          </li>

          
          <!-- Email -->
          <li class="navigation__item_social">
            <a href="mailto:handsomeoldman66@gmail.com" title="Contact me">
              <i class='social fa fa-envelope fa-2x'></i>
              <span class="label">Email</span>
            </a>
          </li>
          

        </ul>
      </nav>

    </div>

    <table width="100%" border="0" cellspacing="0" cellpadding="0">
      <thead>
        <tr id="bar_head">
          <th colspan="11">å‹æƒ…é“¾æ¥</th>
        </tr>
      </thead>

      <tr align="center" valign="middle">
          <td><a href="http://www.kongyixueyuan.com">åŒºå—é“¾æŠ€æœ¯è§†é¢‘ç½‘ç«™</a></td>

          <td><a href="https://www.ethereum.org">ä»¥å¤ªåŠå®˜ç½‘</a></td>

          <td><a href="https://solidity.readthedocs.io/en/develop/">Solidity</a></td>

          <td><a href="http://truffleframework.com/">Truffle FrameWork</a></td>

          <td><a href="http://embark.readthedocs.io">Embark FrameWork</a></td>

      </tr>
      <tr align="center" valign="middle">

          <td><a href="https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=3302cc3b-074e-44da-90b1-5055f1dc0d9c&amp;lang=zh">IBMå¼€æºæŠ€æœ¯å¾®è®²å ‚</a></td>

          <td><a href="https://www.bitcoin.com/">Bitcoin.com</a></td>

          <td><a href="https://github.com/bitshares/bitshares1-core">bitshares1-core</a></td>

          <td><a href="https://ipfs.io">ipfså®˜ç½‘</a></td>

          <td><a href="http://ipfser.org">ipfsä¸­æ–‡ç½‘</a></td>

      </tr>
    </table>

    <div class="footer_div">
      <p class="copyright text-muted">
        Copyright &copy; 2018 å¼ å¸…åŒºå—é“¾åšå®¢ äº¬ICPå¤‡15065741å·. åŒºå—é“¾å¼€å‘_Golang QQç¾¤ï¼š312197108
      </p>
      <div align="right">
        <link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
        <!-- è®¿é—®ç»Ÿè®¡ -->
        <span id="busuanzi_container_site_pv">
            æœ¬ç«™æ€»è®¿é—®é‡
            <span id="busuanzi_value_site_pv"></span>æ¬¡
        </span>

      </div>
      <div>
  </footer>
</section>

    </div>
  </div>

  <script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="/js/main.js"></script>

<script type="text/javascript" src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>




  <script>
    (function () {
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      } else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>


</body>

</html>