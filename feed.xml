<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>å¼ å¸…åŒºå—é“¾åšå®¢</title>
    <description>å¼ å¸…ï¼Œæ±Ÿæ¹–äººç§°å¸…å“¥ï¼ŒåŒºå—é“¾æŠ€æœ¯å…¨èƒ½æŠ€æœ¯äººæ‰ã€‚</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Mon, 04 Jun 2018 21:28:03 +0800</pubDate>
    <lastBuildDate>Mon, 04 Jun 2018 21:28:03 +0800</lastBuildDate>
    <generator>Jekyll v3.5.1</generator>
    
      <item>
        <title>è‡ªå®šä¹‰åŠ å¯†ç®—æ³•å®ç°--Goè¯­è¨€</title>
        <description>&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import (
	&quot;bytes&quot;
	&quot;fmt&quot;
	&quot;encoding/base64&quot;
)


func main() {


//1232cdab89 ä¸ºè‡ªå®šä¹‰çš„ç§˜é’¥
EncryCode :=Encrypt([]byte(&quot;hello world&quot;),[]byte(&quot;1232cdab89&quot;))
    fmt.Println(base64.StdEncoding.EncodeToString(EncryCode))

	// è§£å¯†
	var DeCryptCode = Decrypt(EncryCode,[]byte(&quot;1232cdab89&quot;))
	//æ‰“å°æ˜æ–‡
	fmt.Println(string(DeCryptCode))

	
}
//origæ˜æ–‡ï¼Œkey å¯†é’¥
func Encrypt(orig []byte,key []byte)[]byte  {
 //åŠ å¯†æ–¹å¼ï¼Œå¯¹å¯†é’¥è¿›è¡ŒåŠ æ³•è¿ç®—
	sum := getAddIteam(key)

	//ç»™æ˜æ–‡è¡¥ç ï¼Œé»˜è®¤æŒ‰8å–æ¨¡
	var pk_code = PKCS8Padding(orig,8)
	
	//è¡¥ç ä¹‹åçš„æ¯ä¸€ä½éƒ½åŠ ä¸Šé€šè¿‡å¯†é’¥ç®—å‡ºçš„sumå€¼
	for k := 0; k &amp;lt; len(pk_code); k++ {
		pk_code[k] = pk_code[k] + byte(sum)

	}
    return pk_code


}

func Decrypt(orig []byte,key []byte)[]byte  {
	sum := getAddIteam(key)

	//è§£å¯†
	for k := 0; k &amp;lt; len(orig); k++ {
		orig[k] = orig[k] - byte(sum)
	}

//å»è¡¥ç 
	var pk_up_code  = PKCS8UnPadding(orig)
	return pk_up_code

	
}

//è¡¥ç ï¼ŒæŒ‰8å–æ¨¡ï¼Œå¯¹8å·®å‡ è¡¥å‡ 
func PKCS8Padding(orig []byte,size int)[]byte  {

	length:=len(orig)
	padding :=  size - length%size
	//å‘byteç±»å‹çš„æ•°ç»„ä¸­æ·»åŠ é‡å¤çš„æ·»åŠ padding
	repeats:= bytes.Repeat([]byte{byte(padding)},padding)
	return append(orig,repeats...)

}
//å»ç 

func PKCS8UnPadding(origData []byte)[]byte {

	length:= len(origData)
	updadding:= int(origData[length - 1])
	return origData[:length - updadding]
	
}
 //åŠ å¯†æ–¹å¼ï¼Œå¯¹å¯†é’¥è¿›è¡ŒåŠ æ³•è¿ç®—

func getAddIteam(key []byte) int  {


	var sum  = 0
	//å®ç°å°†ç§˜é’¥ä¸­çš„æ¯ä¸ªå­—èŠ‚ç›¸åŠ ï¼Œé€šè¿‡sumå®ç°origçš„åŠ å¯†å·¥ä½œ
	for i := 0; i &amp;lt; len(key); i++ {

		sum = sum + int(key[i])

	}
	return sum
}


&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;blockquote&gt;
  &lt;p&gt;å¦‚æœ‰é”™è¯¯æè¿°ï¼Œè¯·è¯„è®ºçº æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼ğŸ³ğŸ³ğŸ³&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Mon, 04 Jun 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/06/04/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0-Go%E8%AF%AD%E8%A8%80/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/06/04/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0-Go%E8%AF%AD%E8%A8%80/</guid>
        
        <category>åŠ å¯†ç®—æ³•</category>
        
        
      </item>
    
      <item>
        <title>ä»¥å¤ªåŠæºç è§£æ - ä¸‹è½½ã€ç¼–è¯‘ go-ethereum ï¼Œæ­å»ºç§æœ‰é“¾</title>
        <description>&lt;h2 id=&quot;ä¸‹è½½&quot;&gt;ä¸‹è½½&lt;/h2&gt;
&lt;p&gt;æ‰¾åˆ°&lt;code class=&quot;highlighter-rouge&quot;&gt;Go&lt;/code&gt;è¯­è¨€ç¯å¢ƒçš„&lt;code class=&quot;highlighter-rouge&quot;&gt;src&lt;/code&gt;ç›®å½•ä¸‹é¢çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;github.com&lt;/code&gt;(å¦‚æœæ²¡æœ‰åˆ›å»ºä¸€ä¸ªï¼Œä¸€èˆ¬githubä¸Šçš„ä»£ç ä¸‹è½½åˆ°è¿™ä¸ªç›®å½•)ç›®å½•,ç„¶åä¸‹è½½ä»¥å¤ªåŠæºç &lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-30-01.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ git clone https://github.com/ethereum/go-ethereum.git
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;ç¼–è¯‘&quot;&gt;ç¼–è¯‘&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ cd go-ethereum
$ make geth 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;make geth&lt;/code&gt;ä¹‹åå‡ºç°å¦‚ä¸‹å›¾è¡¨ç¤ºæˆåŠŸ&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-30-04.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;å°† &lt;code class=&quot;highlighter-rouge&quot;&gt;geth&lt;/code&gt; æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­&lt;/p&gt;

&lt;p&gt;Mac ä¸­åœ¨finderä¸­ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;command+shift+g&lt;/code&gt;ç„¶åè¾“å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt;/etc&lt;/code&gt;å‰å¾€ï¼Œç”¨å‘½ä»¤ç«¯å£æ‰“å¼€bashrcç›®å½•ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;vi bashrc&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-30-02.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;export GETH=&quot;$GOPATH/src/github.com/go-ethereum/build&quot;
export PATH=&quot;$PATH:$GETH/bin&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-30-03.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ä¿å­˜é€€å‡ºåï¼Œ
ç„¶åæ‰§è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;source bashrc&lt;/code&gt;ï¼Œä½¿é…ç½®ç”Ÿæ•ˆã€‚&lt;/p&gt;

&lt;p&gt;æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;geth --help
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;å¦‚æœè¾“å‡ºä¸€äº›å¸®åŠ©æç¤ºå‘½ä»¤ï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ­å»ºç§æœ‰é“¾&quot;&gt;æ­å»ºç§æœ‰é“¾&lt;/h2&gt;

&lt;h3 id=&quot;é…ç½®åˆå§‹çŠ¶æ€&quot;&gt;é…ç½®åˆå§‹çŠ¶æ€&lt;/h3&gt;

&lt;p&gt;è¦è¿è¡Œä»¥å¤ªåŠç§æœ‰é“¾ï¼Œéœ€è¦å®šä¹‰è‡ªå·±çš„åˆ›ä¸–åŒºå—ï¼Œåˆ›ä¸–åŒºå—ä¿¡æ¯å†™åœ¨ä¸€ä¸ª JSON æ ¼å¼çš„é…ç½®æ–‡ä»¶ä¸­ã€‚é¦–å…ˆå°†ä¸‹é¢çš„å†…å®¹ä¿å­˜åˆ°ä¸€ä¸ª JSON æ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;genesis.json&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mkdir ~/privatechain
$ cd ~/privatechain
$ mkdir data0
$ vi genesis.json 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;genesis.json çš„ä»£ç &lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;config&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;chainId&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;homesteadBlock&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;eip155Block&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;eip158Block&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;alloc&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;coinbase&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;0x0000000000000000000000000000000000000000&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;difficulty&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;0x20000&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;extraData&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;gasLimit&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;0x2fefd8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;nonce&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;0x0000000000000042&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;mixhash&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;parentHash&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;0x00&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å…¶ä¸­ï¼ŒchainID æŒ‡å®šäº†ç‹¬ç«‹çš„åŒºå—é“¾ç½‘ç»œ IDã€‚ç½‘ç»œ ID åœ¨è¿æ¥åˆ°å…¶ä»–èŠ‚ç‚¹çš„æ—¶å€™ä¼šç”¨åˆ°ï¼Œä»¥å¤ªåŠå…¬ç½‘çš„ç½‘ç»œ ID æ˜¯ 1ï¼Œä¸ºäº†ä¸ä¸å…¬æœ‰é“¾ç½‘ç»œå†²çªï¼Œè¿è¡Œç§æœ‰é“¾èŠ‚ç‚¹çš„æ—¶å€™è¦æŒ‡å®šè‡ªå·±çš„ç½‘ç»œ IDã€‚ä¸åŒ ID ç½‘ç»œçš„èŠ‚ç‚¹æ— æ³•ç›¸äº’è¿æ¥ã€‚é…ç½®æ–‡ä»¶è¿˜å¯¹å½“å‰æŒ–çŸ¿éš¾åº¦ difficultyã€åŒºå— Gas æ¶ˆè€—é™åˆ¶ gasLimit ç­‰å‚æ•°è¿›è¡Œäº†è®¾ç½®ã€‚&lt;/p&gt;

&lt;h3 id=&quot;åˆå§‹åŒ–å†™å…¥åˆ›ä¸–åŒºå—&quot;&gt;åˆå§‹åŒ–ï¼šå†™å…¥åˆ›ä¸–åŒºå—&lt;/h3&gt;

&lt;p&gt;å‡†å¤‡å¥½åˆ›ä¸–åŒºå—é…ç½®æ–‡ä»¶åï¼Œéœ€è¦åˆå§‹åŒ–åŒºå—é“¾ï¼Œå°†ä¸Šé¢çš„åˆ›ä¸–åŒºå—ä¿¡æ¯å†™å…¥åˆ°åŒºå—é“¾ä¸­ã€‚é¦–å…ˆè¦æ–°å»ºä¸€ä¸ªç›®å½•ç”¨æ¥å­˜æ”¾åŒºå—é“¾æ•°æ®ï¼Œå‡è®¾æ–°å»ºçš„æ•°æ®ç›®å½•ä¸º ~/privatechain/data0ï¼Œgenesis.json ä¿å­˜åœ¨ ~/privatechain ä¸­ï¼Œæ­¤æ—¶ç›®å½•ç»“æ„åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;privatechain
â”œâ”€â”€ data0
â””â”€â”€ genesis.json
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;geth --datadir data0 init genesis.json
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„å‘½ä»¤çš„ä¸»ä½“æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;geth init&lt;/code&gt;ï¼Œè¡¨ç¤ºåˆå§‹åŒ–åŒºå—é“¾ï¼Œå‘½ä»¤å¯ä»¥å¸¦æœ‰é€‰é¡¹å’Œå‚æ•°ï¼Œå…¶ä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;--datadir&lt;/code&gt; é€‰é¡¹åé¢è·Ÿä¸€ä¸ªç›®å½•åï¼Œè¿™é‡Œä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;data0&lt;/code&gt;ï¼Œè¡¨ç¤ºæŒ‡å®šæ•°æ®å­˜æ”¾ç›®å½•ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;data0&lt;/code&gt;ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;genesis.json&lt;/code&gt; æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;init&lt;/code&gt; å‘½ä»¤çš„å‚æ•°ã€‚&lt;/p&gt;

&lt;p&gt;è¿è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œä¼šè¯»å– &lt;code class=&quot;highlighter-rouge&quot;&gt;genesis.json&lt;/code&gt; æ–‡ä»¶ï¼Œæ ¹æ®å…¶ä¸­çš„å†…å®¹ï¼Œå°†åˆ›ä¸–åŒºå—å†™å…¥åˆ°åŒºå—é“¾ä¸­ã€‚å¦‚æœçœ‹åˆ°ä»¥ä¸‹çš„è¾“å‡ºå†…å®¹ï¼Œè¯´æ˜åˆå§‹åŒ–æˆåŠŸäº†ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;INFO [01-29|21:21:13] Maximum peer count                       ETH=25 LES=0 total=25
INFO [01-29|21:21:13] Allocated cache and file handles         database=/Users/fujinliang/privatechain/data0/geth/chaindata cache=16 handles=16
INFO [01-29|21:21:13] Writing custom genesis block 
INFO [01-29|21:21:13] Persisted trie from memory database      nodes=0 size=0.00B time=358.89Âµs gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B
INFO [01-29|21:21:13] Successfully wrote genesis state         database=chaindata                                           hash=5e1fc7â€¦d790e0
INFO [01-29|21:21:13] Allocated cache and file handles         database=/Users/fujinliang/privatechain/data0/geth/lightchaindata cache=16 handles=16
INFO [01-29|21:21:13] Writing custom genesis block 
INFO [01-29|21:21:13] Persisted trie from memory database      nodes=0 size=0.00B time=2.633Âµs  gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B
INFO [01-29|21:21:13] Successfully wrote genesis state         database=lightchaindata                                           hash=5e1fc7â€¦d790e0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;åˆå§‹åŒ–æˆåŠŸåï¼Œä¼šåœ¨æ•°æ®ç›®å½• data0 ä¸­ç”Ÿæˆ geth å’Œ keystore ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œæ­¤æ—¶ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;privatechain
â”œâ”€â”€ data0
â”‚   â”œâ”€â”€ geth
â”‚   â”‚   â”œâ”€â”€ chaindata
â”‚   â”‚   â”‚   â”œâ”€â”€ 000001.log
â”‚   â”‚   â”‚   â”œâ”€â”€ CURRENT
â”‚   â”‚   â”‚   â”œâ”€â”€ LOCK
â”‚   â”‚   â”‚   â”œâ”€â”€ LOG
â”‚   â”‚   â”‚   â””â”€â”€ MANIFEST-000000
â”‚   â”‚   â””â”€â”€ lightchaindata
â”‚   â”‚       â”œâ”€â”€ 000001.log
â”‚   â”‚       â”œâ”€â”€ CURRENT
â”‚   â”‚       â”œâ”€â”€ LOCK
â”‚   â”‚       â”œâ”€â”€ LOG
â”‚   â”‚       â””â”€â”€ MANIFEST-000000
â”‚   â””â”€â”€ keystore
â””â”€â”€ genesis.json
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å…¶ä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;geth/chaindata&lt;/code&gt; ä¸­å­˜æ”¾çš„æ˜¯åŒºå—æ•°æ®ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;keystore&lt;/code&gt; ä¸­å­˜æ”¾çš„æ˜¯è´¦æˆ·æ•°æ®ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å¯åŠ¨ç§æœ‰é“¾èŠ‚ç‚¹&quot;&gt;å¯åŠ¨ç§æœ‰é“¾èŠ‚ç‚¹&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;geth --datadir data0 --networkid 110 console
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¸Šé¢å‘½ä»¤çš„ä¸»ä½“æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;geth console&lt;/code&gt;ï¼Œè¡¨ç¤ºå¯åŠ¨èŠ‚ç‚¹å¹¶è¿›å…¥äº¤äº’å¼æ§åˆ¶å°ï¼Œâ€“datadiré€‰é¡¹æŒ‡å®šä½¿ç”¨data0ä½œä¸ºæ•°æ®ç›®å½•ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;--networkid&lt;/code&gt; é€‰é¡¹åé¢è·Ÿä¸€ä¸ªæ•°å­—ï¼Œè¿™é‡Œæ˜¯110ï¼Œè¡¨ç¤ºæŒ‡å®šè¿™ä¸ªç§æœ‰é“¾çš„ç½‘ç»œidä¸º110ã€‚ç½‘ç»œidåœ¨è¿æ¥åˆ°å…¶ä»–èŠ‚ç‚¹çš„æ—¶å€™ä¼šç”¨åˆ°ï¼Œä»¥å¤ªåŠå…¬ç½‘çš„ç½‘ç»œidæ˜¯1ï¼Œä¸ºäº†ä¸ä¸å…¬æœ‰é“¾ç½‘ç»œå†²çªï¼Œè¿è¡Œç§æœ‰é“¾èŠ‚ç‚¹çš„æ—¶å€™è¦æŒ‡å®šè‡ªå·±çš„ç½‘ç»œidã€‚&lt;/p&gt;

&lt;p&gt;è¿è¡Œä¸Šé¢çš„å‘½ä»¤åï¼Œå°±å¯åŠ¨äº†åŒºå—é“¾èŠ‚ç‚¹å¹¶è¿›å…¥äº†è¯¥èŠ‚ç‚¹çš„æ§åˆ¶å°ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;...
Welcome to the Geth JavaScript console!

instance: Geth/v1.8.10-unstable-ccc0debb/darwin-amd64/go1.10.2
 modules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0

&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªäº¤äº’å¼çš„ JavaScript æ‰§è¡Œç¯å¢ƒï¼Œåœ¨è¿™é‡Œé¢å¯ä»¥æ‰§è¡Œ JavaScript ä»£ç ï¼Œå…¶ä¸­ &amp;gt; æ˜¯å‘½ä»¤æç¤ºç¬¦ã€‚åœ¨è¿™ä¸ªç¯å¢ƒé‡Œä¹Ÿå†…ç½®äº†ä¸€äº›ç”¨æ¥æ“ä½œä»¥å¤ªåŠçš„ JavaScript å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›å¯¹è±¡ã€‚è¿™äº›å¯¹è±¡ä¸»è¦åŒ…æ‹¬ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ethï¼šåŒ…å«ä¸€äº›è·Ÿæ“ä½œåŒºå—é“¾ç›¸å…³çš„æ–¹æ³•ï¼›&lt;/li&gt;
  &lt;li&gt;netï¼šåŒ…å«ä¸€äº›æŸ¥çœ‹p2pç½‘ç»œçŠ¶æ€çš„æ–¹æ³•ï¼›&lt;/li&gt;
  &lt;li&gt;adminï¼šåŒ…å«ä¸€äº›ä¸ç®¡ç†èŠ‚ç‚¹ç›¸å…³çš„æ–¹æ³•ï¼›&lt;/li&gt;
  &lt;li&gt;minerï¼šåŒ…å«å¯åŠ¨&amp;amp;åœæ­¢æŒ–çŸ¿çš„ä¸€äº›æ–¹æ³•ï¼›&lt;/li&gt;
  &lt;li&gt;personalï¼šä¸»è¦åŒ…å«ä¸€äº›ç®¡ç†è´¦æˆ·çš„æ–¹æ³•ï¼›&lt;/li&gt;
  &lt;li&gt;txpoolï¼šåŒ…å«ä¸€äº›æŸ¥çœ‹äº¤æ˜“å†…å­˜æ± çš„æ–¹æ³•ï¼›&lt;/li&gt;
  &lt;li&gt;web3ï¼šåŒ…å«äº†ä»¥ä¸Šå¯¹è±¡ï¼Œè¿˜åŒ…å«ä¸€äº›å•ä½æ¢ç®—çš„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;æ§åˆ¶å°æ“ä½œ&quot;&gt;æ§åˆ¶å°æ“ä½œ&lt;/h2&gt;

&lt;p&gt;è¿›å…¥ä»¥å¤ªåŠ Javascript Console åï¼Œå°±å¯ä»¥ä½¿ç”¨é‡Œé¢çš„å†…ç½®å¯¹è±¡åšä¸€äº›æ“ä½œï¼Œè¿™äº›å†…ç½®å¯¹è±¡æä¾›çš„åŠŸèƒ½å¾ˆä¸°å¯Œï¼Œæ¯”å¦‚æŸ¥çœ‹åŒºå—å’Œäº¤æ˜“ã€åˆ›å»ºè´¦æˆ·ã€æŒ–çŸ¿ã€å‘é€äº¤æ˜“ã€éƒ¨ç½²æ™ºèƒ½åˆçº¦ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;å¸¸ç”¨å‘½ä»¤æœ‰ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;personal.newAccount()ï¼šåˆ›å»ºè´¦æˆ·ï¼›&lt;/li&gt;
  &lt;li&gt;personal.unlockAccount()ï¼šè§£é”è´¦æˆ·ï¼›&lt;/li&gt;
  &lt;li&gt;eth.accountsï¼šæšä¸¾ç³»ç»Ÿä¸­çš„è´¦æˆ·ï¼›&lt;/li&gt;
  &lt;li&gt;eth.getBalance()ï¼šæŸ¥çœ‹è´¦æˆ·ä½™é¢ï¼Œè¿”å›å€¼çš„å•ä½æ˜¯ Weiï¼ˆWei æ˜¯ä»¥å¤ªåŠä¸­æœ€å°è´§å¸é¢é¢å•ä½ï¼Œç±»ä¼¼æ¯”ç‰¹å¸ä¸­çš„èªï¼Œ1 ether = 10^18 Weiï¼‰ï¼›&lt;/li&gt;
  &lt;li&gt;eth.blockNumberï¼šåˆ—å‡ºåŒºå—æ€»æ•°ï¼›&lt;/li&gt;
  &lt;li&gt;eth.getTransaction()ï¼šè·å–äº¤æ˜“ï¼›&lt;/li&gt;
  &lt;li&gt;eth.getBlock()ï¼šè·å–åŒºå—ï¼›&lt;/li&gt;
  &lt;li&gt;miner.start()ï¼šå¼€å§‹æŒ–çŸ¿ï¼›&lt;/li&gt;
  &lt;li&gt;miner.stop()ï¼šåœæ­¢æŒ–çŸ¿ï¼›&lt;/li&gt;
  &lt;li&gt;eth.coinbaseï¼šæŒ–çŸ¿å¥–åŠ±çš„è´¦æˆ·&lt;/li&gt;
  &lt;li&gt;web3.fromWei()ï¼šWei æ¢ç®—æˆä»¥å¤ªå¸ï¼›&lt;/li&gt;
  &lt;li&gt;web3.toWei()ï¼šä»¥å¤ªå¸æ¢ç®—æˆ Weiï¼›&lt;/li&gt;
  &lt;li&gt;txpool.statusï¼šäº¤æ˜“æ± ä¸­çš„çŠ¶æ€ï¼›&lt;/li&gt;
  &lt;li&gt;admin.addPeer()ï¼šè¿æ¥åˆ°å…¶ä»–èŠ‚ç‚¹ï¼›&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;åˆ›å»ºè´¦æˆ·&quot;&gt;åˆ›å»ºè´¦æˆ·&lt;/h3&gt;

&lt;p&gt;è¾“å…¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;eth.accounts&lt;/code&gt; æŸ¥è¯¢ç³»ç»Ÿä¸­çš„è´¦æˆ·ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; eth.accounts
[]
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æ˜¾ç¤ºä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;[]&lt;/code&gt;ï¼Œè¡¨ç¤ºæ²¡æœ‰è´¦æˆ·ï¼Œæ¥ä¸‹æ¥ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;personal.newAccount()&lt;/code&gt; æ¥åˆ›å»ºä¸€ä¸ªè´¦æˆ·ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; personal.newAccount()
Passphrase: 
Repeat passphrase: 
&quot;0xfb9cc019fc650a1699d05b7fb564b83c3a72b64d&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Passphrase&lt;/code&gt; è¡¨ç¤ºè¾“å…¥å¯†ç ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;Repeat passphrase&lt;/code&gt; è¡¨ç¤ºè¾“å…¥ç¡®è®¤å¯†ç &lt;/p&gt;

&lt;p&gt;å†æ¬¡åˆ›å»ºä¸€ä¸ªè´¦æˆ·&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; personal.newAccount()
Passphrase: 
Repeat passphrase: 
&quot;0xc6b5702b15a3794374e28f41f36e1e8dbdd564df&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æŸ¥çœ‹åˆšåˆšåˆ›å»ºçš„ç”¨æˆ·ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; eth.accounts
[&quot;0xfb9cc019fc650a1699d05b7fb564b83c3a72b64d&quot;, &quot;0xc6b5702b15a3794374e28f41f36e1e8dbdd564df&quot;]
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è´¦æˆ·é»˜è®¤ä¼šä¿å­˜åœ¨æ•°æ®ç›®å½•çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;data0/keystore&lt;/code&gt; æ–‡ä»¶å¤¹ä¸­ã€‚å¯ä»¥æŸ¥çœ‹å…¶ä¸­çš„æ–‡ä»¶&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;address&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;fb9cc019fc650a1699d05b7fb564b83c3a72b64d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;crypto&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;cipher&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;aes-128-ctr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ciphertext&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;0efae4f94134172b785f1f635be8e70342bf31e1e0ecad21d672594f09ccf572&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;cipherparams&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;iv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;37f4f3fa2cf070b70e3eb668fad6f46f&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;kdf&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;scrypt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;kdfparams&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;dklen&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;262144&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;p&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;r&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;salt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1cdd1cf97fb882c3d3e734223668b47c888170e795346e11d0f521a71fe3aa2a&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;mac&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;902a29db25a3a35a2568b04b30a8194201f07ab37c96ed1fe9af932fc1d38be0&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ecd5beb2-8261-4207-8eff-2fa34678d064&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;æŸ¥çœ‹è´¦æˆ·ä½™é¢&quot;&gt;æŸ¥çœ‹è´¦æˆ·ä½™é¢&lt;/h3&gt;

&lt;p&gt;é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;eth.getBalance()&lt;/code&gt; å¯ä»¥æŸ¥çœ‹è´¦æˆ·ä½™é¢&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; eth.getBalance(eth.accounts[0])
0
&amp;gt; eth.getBalance(eth.accounts[1])
0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ç›®å‰ä¸¤ä¸ªè´¦æˆ·çš„ä»¥å¤ªå¸ä½™é¢éƒ½æ˜¯0ï¼Œè¦ä½¿è´¦æˆ·æœ‰ä½™é¢ï¼Œå¯ä»¥ä»å…¶ä»–è´¦æˆ·è½¬è´¦è¿‡æ¥ï¼Œæˆ–è€…é€šè¿‡æŒ–çŸ¿æ¥è·å¾—ä»¥å¤ªå¸å¥–åŠ±ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å¯åŠ¨åœæ­¢æŒ–çŸ¿&quot;&gt;å¯åŠ¨&amp;amp;åœæ­¢æŒ–çŸ¿&lt;/h3&gt;

&lt;p&gt;é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;miner.start()&lt;/code&gt; å¯åŠ¨æŒ–çŸ¿&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; miner.start(3)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;å…¶ä¸­ start çš„å‚æ•°è¡¨ç¤ºæŒ–çŸ¿ä½¿ç”¨çš„çº¿ç¨‹æ•°ã€‚ç¬¬ä¸€æ¬¡å¯åŠ¨æŒ–çŸ¿ä¼šå…ˆç”ŸæˆæŒ–çŸ¿æ‰€éœ€çš„ DAG æ–‡ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹æœ‰ç‚¹æ…¢ï¼Œç­‰è¿›åº¦è¾¾åˆ° 100% åï¼Œå°±ä¼šå¼€å§‹æŒ–çŸ¿ï¼Œæ­¤æ—¶å±å¹•ä¼šè¢«æŒ–çŸ¿ä¿¡æ¯åˆ·å±ã€‚&lt;/p&gt;

&lt;p&gt;åœæ­¢æŒ–çŸ¿ï¼Œåœ¨ console ä¸­è¾“å…¥ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;miner.stop()
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;**å¤åˆ¶&lt;code class=&quot;highlighter-rouge&quot;&gt;miner.stop()&lt;/code&gt;åˆ°å‘½ä»¤è¡Œï¼Œå¿«é€Ÿçš„å›è½¦ï¼ŒåŒæ ·ç­‰åˆ°100%ä¹‹åï¼Œè‡ªåŠ¨åœæ­¢æŒ–çŸ¿ã€‚&lt;/p&gt;

&lt;p&gt;æŒ–åˆ°ä¸€ä¸ªåŒºå—ä¼šå¥–åŠ±5ä¸ªä»¥å¤ªå¸ï¼ŒæŒ–çŸ¿æ‰€å¾—çš„å¥–åŠ±ä¼šè¿›å…¥çŸ¿å·¥çš„è´¦æˆ·ï¼Œè¿™ä¸ªè´¦æˆ·å«åšcoinbaseï¼Œé»˜è®¤æƒ…å†µä¸‹coinbaseæ˜¯æœ¬åœ°è´¦æˆ·ä¸­çš„ç¬¬ä¸€ä¸ªè´¦æˆ·ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; eth.coinbase
&quot;0xfb9cc019fc650a1699d05b7fb564b83c3a72b64d&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¯ä»¥é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;miner.setEtherbase()&lt;/code&gt; å°†å…¶ä»–è´¦æˆ·è®¾ç½®æˆ &lt;code class=&quot;highlighter-rouge&quot;&gt;coinbase&lt;/code&gt; å³å¯&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; miner.setEtherbase(eth.accounts[1])
true
&amp;gt; eth.coinbase
&quot;0xc6b5702b15a3794374e28f41f36e1e8dbdd564df&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;é‡æ–°å¯åŠ¨æŒ–çŸ¿ï¼ŒæŸ¥çœ‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;eth.accounts[1]&lt;/code&gt; æ˜¯å¦å¯ä»¥è·å¾—ä»¥å¤ªå¸&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; miner.start(3)

//ç­‰å¾…å‡ ç§’å
&amp;gt; miner.stop()
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æŸ¥è¯¢è´¦æˆ·ä½™é¢ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; eth.getBalance(eth.accounts[0])
280000000000000000000
&amp;gt; eth.getBalance(eth.accounts[1])
210000000000000000000
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;å‘ç°è´¦æˆ·0 å’Œ è´¦å·1 éƒ½æœ‰ä»¥å¤ªå¸ï¼Œè¯´æ˜ &lt;code class=&quot;highlighter-rouge&quot;&gt;miner.setEtherbase()&lt;/code&gt; è®¾ç½®æˆåŠŸã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;getBalance()&lt;/code&gt; è¿”å›å€¼çš„å•ä½æ˜¯weiï¼Œweiæ˜¯ä»¥å¤ªå¸çš„æœ€å°å•ä½ï¼Œ1ä¸ªä»¥å¤ªå¸=10çš„18æ¬¡æ–¹ä¸ªweiã€‚è¦æŸ¥çœ‹æœ‰å¤šå°‘ä¸ªä»¥å¤ªå¸ï¼Œå¯ä»¥ç”¨web3.fromWei()å°†è¿”å›å€¼æ¢ç®—æˆä»¥å¤ªå¸ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; web3.fromWei(eth.getBalance(eth.accounts[0]),'ether')
280

&amp;gt; web3.fromWei(eth.getBalance(eth.accounts[1]),'ether')
210
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;å‘é€äº¤æ˜“&quot;&gt;å‘é€äº¤æ˜“&lt;/h3&gt;

&lt;p&gt;æˆ‘ä»¬ä»è´¦æˆ·0è½¬ç§»10ä¸ªä»¥å¤ªå¸åˆ°è´¦æˆ·1,é¦–å…ˆè¦è§£é”è´¦æˆ· 0ï¼Œæ‰èƒ½å‘èµ·äº¤æ˜“ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; personal.unlockAccount(eth.accounts[0])
Unlock account 0xfb9cc019fc650a1699d05b7fb564b83c3a72b64d
Passphrase: 
true
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å‘èµ·äº¤æ˜“&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; amount = web3.toWei(10,'ether')
&quot;10000000000000000000&quot;
&amp;gt; eth.sendTransaction({from:eth.accounts[0],to:eth.accounts[1],value:amount})
INFO [05-29|22:37:32] Submitted transaction                    fullhash=0x493e8aa2bcb6b2a362bdbd86b2c454279e14beea43b444aeb45c7f667bf572e2 recipient=0xc6b5702B15a3794374e28f41F36e1E8dBDd564DF
&quot;0x493e8aa2bcb6b2a362bdbd86b2c454279e14beea43b444aeb45c7f667bf572e2&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æŸ¥è¯¢ è´¦æˆ·1 çš„ä½™é¢ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; web3.fromWei(eth.getBalance(eth.accounts[1]),'ether')
210
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å‘ç°è´¦æˆ·ä½™é¢æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œæ­¤æ—¶äº¤æ˜“å·²ç»æäº¤åˆ°åŒºå—é“¾ï¼Œä½†è¿˜æœªè¢«å¤„ç†ï¼Œè¿™å¯ä»¥é€šè¿‡ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;txpool.status&lt;/code&gt; å‘½ä»¤å¯ä»¥çœ‹åˆ°æœ¬åœ°äº¤æ˜“æ± ä¸­æœ‰ä¸€ä¸ªå¾…ç¡®è®¤çš„äº¤æ˜“ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; txpool.status
{
  pending: 1,
  queued: 0
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;å…¶ä¸­æœ‰ä¸€æ¡pendingçš„äº¤æ˜“ï¼Œpendingè¡¨ç¤ºå·²æäº¤ä½†è¿˜æœªè¢«å¤„ç†çš„äº¤æ˜“ã€‚&lt;/p&gt;

&lt;p&gt;è¦ä½¿äº¤æ˜“è¢«å¤„ç†ï¼Œå¿…é¡»è¦æŒ–çŸ¿ã€‚è¿™é‡Œæˆ‘ä»¬å¯åŠ¨æŒ–çŸ¿ï¼Œç„¶åç­‰å¾…æŒ–åˆ°ä¸€ä¸ªåŒºå—ä¹‹åå°±åœæ­¢æŒ–çŸ¿ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt;miner.start(1);admin.sleepBlocks(1);miner.stop()
&amp;gt; web3.fromWei(eth.getBalance(eth.accounts[1]),'ether')
225.000378
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å‘ç°è´¦æˆ·æ”¶åˆ°äº†è´¦æˆ·çš„é’±ï¼Œè¿˜å¤šäº†5ä¸ªä»¥å¤ªå¸ã€‚å…¶å®å¤šå‡ºçš„5ä¸ªä»¥å¤ªå¸æ˜¯æŒ–çŸ¿å¥–åŠ±ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æŸ¥çœ‹äº¤æ˜“å’ŒåŒºå—&quot;&gt;æŸ¥çœ‹äº¤æ˜“å’ŒåŒºå—&lt;/h3&gt;

&lt;p&gt;æŸ¥çœ‹å½“å‰åŒºå—æ€»æ•°ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; eth.blockNumber
99
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;é€šè¿‡åŒºå—å·æŸ¥çœ‹åŒºå—ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; eth.getBlock(6)
{
  difficulty: 131328,
  extraData: &quot;0xd98301080a846765746888676f312e31302e328664617277696e&quot;,
  gasLimit: 3160033,
  gasUsed: 0,
  hash: &quot;0x9679d0dc01045c3d15cbf29241ae1cd6de2e5661d3387c0980f6397e3fd9ed2c&quot;,
  logsBloom: &quot;0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&quot;,
  miner: &quot;0xfb9cc019fc650a1699d05b7fb564b83c3a72b64d&quot;,
  mixHash: &quot;0x05c369134eac2cb6227860b4ed11527b11825af3541712c5704914576c37c0a0&quot;,
  nonce: &quot;0x00168a9831624417&quot;,
  number: 6,
  parentHash: &quot;0xad68f0a581cf2144b8a05190b6310c7a9d945d9c338fd16b4708651b8813ad8b&quot;,
  receiptsRoot: &quot;0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421&quot;,
  sha3Uncles: &quot;0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347&quot;,
  size: 537,
  stateRoot: &quot;0xfaa0a4ffe160a2937b967f9780ae0de51a465bcce6a3f6f3aa24b903df3d44a0&quot;,
  timestamp: 1527602736,
  totalDifficulty: 918144,
  transactions: [],
  transactionsRoot: &quot;0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421&quot;,
  uncles: []
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;é€šè¿‡äº¤æ˜“hashï¼ˆhash å€¼åŒ…å«åœ¨ä¸Šé¢äº¤æ˜“è¿”å›å€¼ä¸­ï¼‰æŸ¥çœ‹äº¤æ˜“ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;eth.getTransaction(&quot;0x493e8aa2bcb6b2a362bdbd86b2c454279e14beea43b444aeb45c7f667bf572e2&quot;)
{
  blockHash: &quot;0xbe60f7ccddcb7cab39a7b932c0d89d37ac13ae14521cfdcb8ac359a5b6773655&quot;,
  blockNumber: 99,
  from: &quot;0xfb9cc019fc650a1699d05b7fb564b83c3a72b64d&quot;,
  gas: 90000,
  gasPrice: 18000000000,
  hash: &quot;0x493e8aa2bcb6b2a362bdbd86b2c454279e14beea43b444aeb45c7f667bf572e2&quot;,
  input: &quot;0x&quot;,
  nonce: 0,
  r: &quot;0x8da41e865d399fc4d8f813a39116e486db7658a04ea1f89ca0b7f44c02dd3c57&quot;,
  s: &quot;0x15edd22404460cfc5e86c9735774a02aad024bc8c369ec531e4485f1012cbcf6&quot;,
  to: &quot;0xc6b5702b15a3794374e28f41f36e1e8dbdd564df&quot;,
  transactionIndex: 0,
  v: &quot;0x37&quot;,
  value: 10000000000000000000
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å–œæ¬¢å°±starä¸€ä¸‹å§ï¼ğŸ‘»ğŸ‘»ğŸ‘»&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä½œè€…åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œå¦‚æœ‰é”™è¯¯æè¿°ï¼Œè¯·è¯„è®ºçº æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼ğŸ³ğŸ³ğŸ³&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Thu, 31 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/31/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90+-+%E4%B8%8B%E8%BD%BD-%E7%BC%96%E8%AF%91+go-ethereum+-%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E9%93%BE/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/31/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90+-+%E4%B8%8B%E8%BD%BD-%E7%BC%96%E8%AF%91+go-ethereum+-%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E9%93%BE/</guid>
        
        <category>ä»¥å¤ªåŠï¼Œç§é“¾</category>
        
        
      </item>
    
      <item>
        <title>Goå®ç°Proof of Stake å…±è¯†æœºåˆ¶</title>
        <description>&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯-proof-of-stake&quot;&gt;ä»€ä¹ˆæ˜¯ Proof of Stake&lt;/h2&gt;

&lt;p&gt;åœ¨PoWä¸­ï¼ŒèŠ‚ç‚¹ä¹‹é—´é€šè¿‡hashçš„è®¡ç®—åŠ›æ¥ç«èµ›ä»¥è·å–ä¸‹ä¸€ä¸ªåŒºå—çš„è®°è´¦æƒï¼Œè€Œåœ¨PoSä¸­ï¼Œå—æ˜¯å·²ç»é“¸é€ å¥½çš„ï¼Œé“¸é€ çš„è¿‡ç¨‹æ˜¯åŸºäºæ¯ä¸ªèŠ‚ç‚¹(Node)æ„¿æ„ä½œä¸ºæŠµæŠ¼çš„ä»¤ç‰Œ(Token)æ•°é‡ã€‚å¦‚æœéªŒè¯è€…æ„¿æ„æä¾›æ›´å¤šçš„ä»¤ç‰Œä½œä¸ºæŠµæŠ¼å“ï¼Œä»–ä»¬å°±æœ‰æ›´å¤§çš„æœºä¼šè®°è´¦ä¸‹ä¸€ä¸ªåŒºå—å¹¶è·å¾—å¥–åŠ±ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å®ç°-proof-of-stake-ä¸»è¦åŠŸèƒ½ç‚¹&quot;&gt;å®ç° Proof of Stake ä¸»è¦åŠŸèƒ½ç‚¹&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;æˆ‘ä»¬å°†æœ‰ä¸€ä¸ªä¸­å¿ƒåŒ–çš„TCPæœåŠ¡èŠ‚ç‚¹ï¼Œå…¶ä»–èŠ‚ç‚¹å¯ä»¥è¿æ¥è¯¥æœåŠ¡å™¨&lt;/li&gt;
  &lt;li&gt;æœ€æ–°çš„åŒºå—é“¾çŠ¶æ€å°†å®šæœŸå¹¿æ’­åˆ°æ¯ä¸ªèŠ‚ç‚¹&lt;/li&gt;
  &lt;li&gt;æ¯ä¸ªèŠ‚ç‚¹éƒ½èƒ½æè®®å»ºç«‹æ–°çš„åŒºå—&lt;/li&gt;
  &lt;li&gt;åŸºäºæ¯ä¸ªèŠ‚ç‚¹çš„ä»¤ç‰Œæ•°é‡ï¼Œå…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹å°†éšæœºåœ°(ä»¥ä»¤ç‰Œæ•°ä½œä¸ºåŠ æƒå€¼)ä½œä¸ºè·èƒœè€…ï¼Œå¹¶ä¸”å°†è¯¥åŒºå—æ·»åŠ åˆ°åŒºå—é“¾ä¸­&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å®ç°-proof-of-stake&quot;&gt;å®ç° Proof of Stake&lt;/h2&gt;

&lt;h3 id=&quot;è®¾ç½®-tcp-æœåŠ¡å™¨çš„ç«¯å£&quot;&gt;è®¾ç½® TCP æœåŠ¡å™¨çš„ç«¯å£&lt;/h3&gt;

&lt;p&gt;æ–°å»º &lt;code class=&quot;highlighter-rouge&quot;&gt;.env&lt;/code&gt;ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ &lt;code class=&quot;highlighter-rouge&quot;&gt;PORT=9000&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;å®‰è£…ä¾èµ–è½¯ä»¶&quot;&gt;å®‰è£…ä¾èµ–è½¯ä»¶&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ go get github.com/davecgh/go-spew/spew

$ go get github.com/joho/godotenv
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;spew&lt;/code&gt; åœ¨æ§åˆ¶å°ä¸­æ ¼å¼åŒ–è¾“å‡ºç›¸åº”çš„ç»“æœã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;godotenv&lt;/code&gt; å¯ä»¥ä»æˆ‘ä»¬é¡¹ç›®çš„æ ¹ç›®å½•çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;.env&lt;/code&gt; æ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;å¼•å…¥ç›¸åº”çš„åŒ…&quot;&gt;å¼•å…¥ç›¸åº”çš„åŒ…&lt;/h3&gt;

&lt;p&gt;æ–°å»º &lt;code class=&quot;highlighter-rouge&quot;&gt;main.go&lt;/code&gt;ï¼Œå¼•å…¥ç›¸åº”çš„åŒ…&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import (
	&quot;bufio&quot;
	&quot;crypto/sha256&quot;
	&quot;encoding/hex&quot;
	&quot;encoding/json&quot;
	&quot;fmt&quot;
	&quot;io&quot;
	&quot;log&quot;
	&quot;math/rand&quot;
	&quot;net&quot;
	&quot;os&quot;
	&quot;strconv&quot;
	&quot;sync&quot;
	&quot;time&quot;

	&quot;github.com/davecgh/go-spew/spew&quot;
	&quot;github.com/joho/godotenv&quot;
)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;å…¨å±€å˜é‡&quot;&gt;å…¨å±€å˜é‡&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// Block represents each 'item' in the blockchain
type Block struct {
	Index     int
	Timestamp string
	BPM       int
	Hash      string
	PrevHash  string
	Validator string
}

// Blockchain is a series of validated Blocks
var Blockchain []Block
var tempBlocks []Block

// candidateBlocks handles incoming blocks for validation
var candidateBlocks = make(chan Block)

// announcements broadcasts winning validator to all nodes
var announcements = make(chan string)

var mutex = &amp;amp;sync.Mutex{}

// validators keeps track of open validators and balances
var validators = make(map[string]int)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Block&lt;/code&gt; æ˜¯æ¯ä¸ªåŒºå—çš„å†…å®¹&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Blockchain&lt;/code&gt; æ˜¯æˆ‘ä»¬çš„å®˜æ–¹åŒºå—é“¾ï¼Œå®ƒåªæ˜¯ä¸€ä¸²ç»è¿‡éªŒè¯çš„åŒºå—é›†åˆã€‚æ¯ä¸ªåŒºå—ä¸­çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;PrevHash&lt;/code&gt; ä¸å‰é¢å—çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Hash&lt;/code&gt; ç›¸æ¯”è¾ƒï¼Œä»¥ç¡®ä¿æˆ‘ä»¬çš„é“¾æ˜¯æ­£ç¡®çš„ã€‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;tempBlocks&lt;/code&gt; æ˜¯ä¸´æ—¶å­˜å‚¨å•å…ƒï¼Œåœ¨åŒºå—è¢«é€‰å‡ºæ¥å¹¶æ·»åŠ åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;BlockChain&lt;/code&gt; ä¹‹å‰ï¼Œä¸´æ—¶å­˜å‚¨åœ¨è¿™é‡Œ&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;candidateBlocks&lt;/code&gt; æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;Block&lt;/code&gt; çš„é€šé“ï¼Œä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹åœ¨æå‡ºä¸€ä¸ªæ–°å—æ—¶éƒ½å°†å®ƒå‘é€åˆ°è¿™ä¸ªé€šé“&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;announcements&lt;/code&gt; ä¹Ÿæ˜¯ä¸€ä¸ªé€šé“ï¼Œæˆ‘ä»¬çš„ä¸»Go TCPæœåŠ¡å™¨å°†å‘æ‰€æœ‰èŠ‚ç‚¹å¹¿æ’­æœ€æ–°çš„åŒºå—é“¾&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;mutex&lt;/code&gt;æ˜¯ä¸€ä¸ªæ ‡å‡†å˜é‡ï¼Œå…è®¸æˆ‘ä»¬æ§åˆ¶è¯»/å†™å’Œé˜²æ­¢æ•°æ®ç«äº‰&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;validators&lt;/code&gt; æ˜¯èŠ‚ç‚¹çš„å­˜å‚¨mapï¼ŒåŒæ—¶ä¹Ÿä¼šä¿å­˜æ¯ä¸ªèŠ‚ç‚¹æŒæœ‰çš„ä»¤ç‰Œæ•°&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ç”ŸæˆåŒºå—&quot;&gt;ç”ŸæˆåŒºå—&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func generateBlock(oldBlock Block, BPM int, address string) (Block, error) {

	var newBlock Block

	t := time.Now()

	newBlock.Index = oldBlock.Index + 1
	newBlock.Timestamp = t.String()
	newBlock.BPM = BPM
	newBlock.PrevHash = oldBlock.Hash
	newBlock.Hash = calculateBlockHash(newBlock)
	newBlock.Validator = address

	return newBlock, nil
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;generateBlock&lt;/code&gt; æ˜¯ç”¨æ¥åˆ›å»ºæ–°å—çš„ã€‚
&lt;code class=&quot;highlighter-rouge&quot;&gt;newBlock.PrevHash&lt;/code&gt; å­˜å‚¨çš„æ˜¯ä¸Šä¸€ä¸ªåŒºå—çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Hash&lt;/code&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;newBlock.Hash&lt;/code&gt; æ˜¯é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;calculateBlockHash(newBlock)&lt;/code&gt; ç”Ÿæˆçš„ Hash ã€‚
&lt;code class=&quot;highlighter-rouge&quot;&gt;newBlock.Validator&lt;/code&gt; å­˜å‚¨çš„æ˜¯è·å–è®°è´¦æƒçš„èŠ‚ç‚¹åœ°å€&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// SHA256 hasing
// calculateHash is a simple SHA256 hashing function
func calculateHash(s string) string {
	h := sha256.New()
	h.Write([]byte(s))
	hashed := h.Sum(nil)
	return hex.EncodeToString(hashed)
}

//calculateBlockHash returns the hash of all block information
func calculateBlockHash(block Block) string {
	record := string(block.Index) + block.Timestamp + string(block.BPM) + block.PrevHash
	return calculateHash(record)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;calculateHash&lt;/code&gt; å‡½æ•°ä¼šæ¥å—ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt; ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;SHA256 hash&lt;/code&gt; ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;calculateBlockHash&lt;/code&gt; æ˜¯å¯¹ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;block&lt;/code&gt; è¿›è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;hash&lt;/code&gt;ï¼Œå°†ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;block&lt;/code&gt; çš„æ‰€æœ‰å­—æ®µè¿æ¥åˆ°ä¸€èµ·åï¼Œå†è°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;calculateHash&lt;/code&gt; å°†å­—ç¬¦ä¸²è½¬ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;SHA256 hash&lt;/code&gt; ã€‚&lt;/p&gt;

&lt;h3 id=&quot;éªŒè¯åŒºå—&quot;&gt;éªŒè¯åŒºå—&lt;/h3&gt;

&lt;p&gt;æˆ‘ä»¬é€šè¿‡æ£€æŸ¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;Index&lt;/code&gt; æ¥ç¡®ä¿å®ƒä»¬æŒ‰é¢„æœŸé€’å¢ã€‚æˆ‘ä»¬ä¹Ÿæ£€æŸ¥ä»¥ç¡®ä¿æˆ‘ä»¬ &lt;code class=&quot;highlighter-rouge&quot;&gt;PrevHash&lt;/code&gt; çš„ç¡®ä¸ &lt;code class=&quot;highlighter-rouge&quot;&gt;Hash&lt;/code&gt; å‰ä¸€ä¸ªåŒºå—ç›¸åŒã€‚æœ€åï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡åœ¨å½“å‰å—ä¸Š &lt;code class=&quot;highlighter-rouge&quot;&gt;calculateBlockHash&lt;/code&gt; å†æ¬¡è¿è¡Œè¯¥å‡½æ•°æ¥æ£€æŸ¥å½“å‰å—çš„æ•£åˆ—ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// isBlockValid makes sure block is valid by checking index
// and comparing the hash of the previous block
func isBlockValid(newBlock, oldBlock Block) bool {
	if oldBlock.Index+1 != newBlock.Index {
		return false
	}

	if oldBlock.Hash != newBlock.PrevHash {
		return false
	}

	if calculateBlockHash(newBlock) != newBlock.Hash {
		return false
	}

	return true
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;éªŒè¯è€…&quot;&gt;éªŒè¯è€…&lt;/h3&gt;

&lt;p&gt;å½“ä¸€ä¸ªéªŒè¯è€…è¿æ¥åˆ°æˆ‘ä»¬çš„TCPæœåŠ¡ï¼Œæˆ‘ä»¬éœ€è¦æä¾›ä¸€äº›å‡½æ•°è¾¾åˆ°ä»¥ä¸‹ç›®æ ‡ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;è¾“å…¥ä»¤ç‰Œçš„ä½™é¢ï¼ˆä¹‹å‰æåˆ°è¿‡ï¼Œæˆ‘ä»¬ä¸åšé’±åŒ…ç­‰é€»è¾‘)&lt;/li&gt;
  &lt;li&gt;æ¥æ”¶åŒºå—é“¾çš„æœ€æ–°å¹¿æ’­&lt;/li&gt;
  &lt;li&gt;æ¥æ”¶éªŒè¯è€…èµ¢å¾—åŒºå—çš„å¹¿æ’­ä¿¡æ¯&lt;/li&gt;
  &lt;li&gt;å°†è‡ªèº«èŠ‚ç‚¹æ·»åŠ åˆ°å…¨å±€çš„éªŒè¯è€…åˆ—è¡¨ä¸­ï¼ˆvalidators)&lt;/li&gt;
  &lt;li&gt;è¾“å…¥Blockçš„BPMæ•°æ®- BPMæ˜¯æ¯ä¸ªéªŒè¯è€…çš„äººä½“è„‰æå€¼&lt;/li&gt;
  &lt;li&gt;æè®®åˆ›å»ºä¸€ä¸ªæ–°çš„åŒºå—&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func handleConn(conn net.Conn) {
	defer conn.Close()

	go func() {
		for {
			msg := &amp;lt;-announcements
			io.WriteString(conn, msg)
		}
	}()
	// éªŒè¯è€…åœ°å€
	var address string

	// éªŒè¯è€…è¾“å…¥ä»–æ‰€æ‹¥æœ‰çš„ tokensï¼Œtokens çš„å€¼è¶Šå¤§ï¼Œè¶Šå®¹æ˜“è·å¾—æ–°åŒºå—çš„è®°è´¦æƒ
	io.WriteString(conn, &quot;Enter token balance:&quot;)
	scanBalance := bufio.NewScanner(conn)
	for scanBalance.Scan() {
		// è·å–è¾“å…¥çš„æ•°æ®ï¼Œå¹¶å°†è¾“å…¥çš„å€¼è½¬ä¸º int
		balance, err := strconv.Atoi(scanBalance.Text())
		if err != nil {
			log.Printf(&quot;%v not a number: %v&quot;, scanBalance.Text(), err)
			return
		}
		t := time.Now()
		// ç”ŸæˆéªŒè¯è€…çš„åœ°å€
		address = calculateHash(t.String())
		// å°†éªŒè¯è€…çš„åœ°å€å’Œtoken å­˜å‚¨åˆ° validators
		validators[address] = balance
		fmt.Println(validators)
		break
	}

	io.WriteString(conn, &quot;\nEnter a new BPM:&quot;)

	scanBPM := bufio.NewScanner(conn)

	go func() {
		for {
			// take in BPM from stdin and add it to blockchain after conducting necessary validation
			for scanBPM.Scan() {
				bpm, err := strconv.Atoi(scanBPM.Text())
				// å¦‚æœéªŒè¯è€…è¯•å›¾æè®®ä¸€ä¸ªè¢«æ±¡æŸ“ï¼ˆä¾‹å¦‚ä¼ªé€ ï¼‰çš„blockï¼Œä¾‹å¦‚åŒ…å«ä¸€ä¸ªä¸æ˜¯æ•´æ•°çš„BPMï¼Œé‚£ä¹ˆç¨‹åºä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œæˆ‘ä»¬ä¼šç«‹å³ä»æˆ‘ä»¬çš„éªŒè¯å™¨åˆ—è¡¨validatorsä¸­åˆ é™¤è¯¥éªŒè¯è€…ï¼Œä»–ä»¬å°†ä¸å†æœ‰èµ„æ ¼å‚ä¸åˆ°æ–°å—çš„é“¸é€ è¿‡ç¨‹åŒæ—¶ä¸¢å¤±ç›¸åº”çš„æŠµæŠ¼ä»¤ç‰Œã€‚
				if err != nil {
					log.Printf(&quot;%v not a number: %v&quot;, scanBPM.Text(), err)
					delete(validators, address)
					conn.Close()
				}

				mutex.Lock()
				oldLastIndex := Blockchain[len(Blockchain)-1]
				mutex.Unlock()

				// åˆ›å»ºæ–°çš„åŒºå—ï¼Œç„¶åå°†å…¶å‘é€åˆ° candidateBlocks é€šé“
				newBlock, err := generateBlock(oldLastIndex, bpm, address)
				if err != nil {
					log.Println(err)
					continue
				}
				if isBlockValid(newBlock, oldLastIndex) {
					candidateBlocks &amp;lt;- newBlock
				}
				io.WriteString(conn, &quot;\nEnter a new BPM:&quot;)
			}
		}
	}()

	// å¾ªç¯ä¼šå‘¨æœŸæ€§çš„æ‰“å°å‡ºæœ€æ–°çš„åŒºå—é“¾ä¿¡æ¯
	for {
		time.Sleep(time.Minute)
		mutex.Lock()
		output, err := json.Marshal(Blockchain)
		mutex.Unlock()
		if err != nil {
			log.Fatal(err)
		}
		io.WriteString(conn, string(output)+&quot;\n&quot;)
	}

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;io.WriteString(conn, &quot;Enter token balance:&quot;)&lt;/code&gt;å…è®¸éªŒè¯è€…è¾“å…¥ä»–æŒæœ‰çš„ä»¤ç‰Œæ•°é‡ï¼Œç„¶åï¼Œè¯¥éªŒè¯è€…è¢«åˆ†é…ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;SHA256&lt;/code&gt;åœ°å€ï¼Œéšåè¯¥éªŒè¯è€…åœ°å€å’ŒéªŒè¯è€…çš„ä»¤ç‰Œæ•°è¢«æ·»åŠ åˆ°éªŒè¯è€…åˆ—è¡¨&lt;code class=&quot;highlighter-rouge&quot;&gt;validators&lt;/code&gt; ä¸­ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ¥ç€æˆ‘ä»¬è¾“å…¥BPMï¼ŒéªŒè¯è€…çš„è„‰æå€¼ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„Goåç¨‹æ¥å¤„ç†è¿™å—å„¿é€»è¾‘&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;delete(validators, address)&lt;/code&gt; å¦‚æœéªŒè¯è€…è¯•å›¾æè®®ä¸€ä¸ªè¢«æ±¡æŸ“ï¼ˆä¾‹å¦‚ä¼ªé€ ï¼‰çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;block&lt;/code&gt;ï¼Œä¾‹å¦‚åŒ…å«ä¸€ä¸ªä¸æ˜¯æ•´æ•°çš„BPMï¼Œé‚£ä¹ˆç¨‹åºä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œæˆ‘ä»¬ä¼šç«‹å³ä»æˆ‘ä»¬çš„éªŒè¯å™¨åˆ—è¡¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;validators&lt;/code&gt; ä¸­åˆ é™¤è¯¥éªŒè¯è€…ï¼Œä»–ä»¬å°†ä¸å†æœ‰èµ„æ ¼å‚ä¸åˆ°æ–°å—çš„é“¸é€ è¿‡ç¨‹åŒæ—¶ä¸¢å¤±ç›¸åº”çš„æŠµæŠ¼ä»¤ç‰Œã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ­£æ˜¯å› ä¸ºè¿™ç§æŠµæŠ¼ä»¤ç‰Œçš„æœºåˆ¶ï¼Œä½¿å¾—PoSåè®®æ˜¯ä¸€ç§æ›´åŠ å¯é çš„æœºåˆ¶ã€‚å¦‚æœä¸€ä¸ªäººè¯•å›¾ä¼ªé€ å’Œç ´åï¼Œé‚£ä¹ˆä»–å°†è¢«æŠ“ä½ï¼Œå¹¶ä¸”å¤±å»æ‰€æœ‰æŠµæŠ¼å’Œæœªæ¥çš„æƒç›Šï¼Œå› æ­¤å¯¹äºæ¶æ„è€…æ¥è¯´ï¼Œæ˜¯éå¸¸å¤§çš„å¨æ…‘ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ¥ç€ï¼Œæˆ‘ä»¬ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;generateBlock&lt;/code&gt; å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;block&lt;/code&gt;ï¼Œç„¶åå°†å…¶å‘é€åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;candidateBlocks&lt;/code&gt; é€šé“è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†ã€‚å°†&lt;code class=&quot;highlighter-rouge&quot;&gt;Block&lt;/code&gt; å‘é€åˆ°é€šé“ä½¿ç”¨çš„è¯­æ³•: &lt;code class=&quot;highlighter-rouge&quot;&gt;candidateBlocks &amp;lt;- newBlock&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æœ€åä¼šå¾ªç¯æ‰“å°å‡ºæœ€æ–°çš„åŒºå—é“¾ï¼Œè¿™æ ·æ¯ä¸ªéªŒè¯è€…éƒ½èƒ½è·çŸ¥æœ€æ–°çš„çŠ¶æ€ã€‚&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;é€‰æ‹©è·å–è®°è´¦æƒçš„èŠ‚ç‚¹&quot;&gt;é€‰æ‹©è·å–è®°è´¦æƒçš„èŠ‚ç‚¹&lt;/h3&gt;

&lt;p&gt;ä¸‹é¢æ˜¯PoSçš„ä¸»è¦é€»è¾‘ã€‚æˆ‘ä»¬éœ€è¦ç¼–å†™ä»£ç ä»¥å®ç°è·èƒœéªŒè¯è€…çš„é€‰æ‹©;ä»–ä»¬æ‰€æŒæœ‰çš„ä»¤ç‰Œæ•°é‡è¶Šé«˜ï¼Œä»–ä»¬å°±è¶Šæœ‰å¯èƒ½è¢«é€‰ä¸ºèƒœåˆ©è€…ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// pickWinner creates a lottery pool of validators and chooses the validator who gets to forge a block to the blockchain
// by random selecting from the pool, weighted by amount of tokens staked
func pickWinner() {
	time.Sleep(30 * time.Second)
	mutex.Lock()
	temp := tempBlocks
	mutex.Unlock()

	lotteryPool := []string{}
	if len(temp) &amp;gt; 0 {

		// slightly modified traditional proof of stake algorithm
		// from all validators who submitted a block, weight them by the number of staked tokens
		// in traditional proof of stake, validators can participate without submitting a block to be forged
	OUTER:
		for _, block := range temp {
			// if already in lottery pool, skip
			for _, node := range lotteryPool {
				if block.Validator == node {
					continue OUTER
				}
			}

			// lock list of validators to prevent data race
			mutex.Lock()
			setValidators := validators
			mutex.Unlock()

			// è·å–éªŒè¯è€…çš„tokens
			k, ok := setValidators[block.Validator]
			if ok {
				// å‘ lotteryPool è¿½åŠ  k æ¡æ•°æ®ï¼Œk ä»£è¡¨çš„æ˜¯å½“å‰éªŒè¯è€…çš„tokens
				for i := 0; i &amp;lt; k; i++ {
					lotteryPool = append(lotteryPool, block.Validator)
				}
			}
		}

		// é€šè¿‡éšæœºè·å¾—è·èƒœèŠ‚ç‚¹çš„åœ°å€
		s := rand.NewSource(time.Now().Unix())
		r := rand.New(s)
		lotteryWinner := lotteryPool[r.Intn(len(lotteryPool))]

		// æŠŠè·èƒœè€…çš„åŒºå—æ·»åŠ åˆ°æ•´æ¡åŒºå—é“¾ä¸Šï¼Œç„¶åé€šçŸ¥æ‰€æœ‰èŠ‚ç‚¹å…³äºèƒœåˆ©è€…çš„æ¶ˆæ¯
		for _, block := range temp {
			if block.Validator == lotteryWinner {
				mutex.Lock()
				Blockchain = append(Blockchain, block)
				mutex.Unlock()
				for _ = range validators {
					announcements &amp;lt;- &quot;\nwinning validator: &quot; + lotteryWinner + &quot;\n&quot;
				}
				break
			}
		}
	}

	mutex.Lock()
	tempBlocks = []Block{}
	mutex.Unlock()
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;æ¯éš”30ç§’ï¼Œæˆ‘ä»¬é€‰å‡ºä¸€ä¸ªèƒœåˆ©è€…ï¼Œè¿™æ ·å¯¹äºæ¯ä¸ªéªŒè¯è€…æ¥è¯´ï¼Œéƒ½æœ‰æ—¶é—´æè®®æ–°çš„åŒºå—ï¼Œå‚ä¸åˆ°ç«äº‰ä¸­æ¥ã€‚æ¥ç€åˆ›å»ºä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;lotteryPool&lt;/code&gt;ï¼Œå®ƒä¼šæŒæœ‰æ‰€æœ‰éªŒè¯è€…çš„åœ°å€ï¼Œè¿™äº›éªŒè¯è€…éƒ½æœ‰æœºä¼šæˆä¸ºä¸€ä¸ªèƒœåˆ©è€…ã€‚ç„¶åï¼Œå¯¹äºæè®®å—çš„æš‚å­˜åŒºåŸŸï¼Œæˆ‘ä»¬ä¼šé€šè¿‡&lt;code class=&quot;highlighter-rouge&quot;&gt;if len(temp) &amp;gt; 0&lt;/code&gt;æ¥åˆ¤æ–­æ˜¯å¦å·²ç»æœ‰äº†è¢«æè®®çš„åŒºå—ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;OUTER FOR&lt;/code&gt;å¾ªç¯ä¸­ï¼Œè¦æ£€æŸ¥æš‚å­˜åŒºåŸŸæ˜¯å¦å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;lotteryPool&lt;/code&gt; ä¸­å­˜åœ¨åŒæ ·çš„éªŒè¯è€…ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™è·³è¿‡ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;åœ¨ä»¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;k, ok := setValidators[block.Validator]&lt;/code&gt;å¼€å§‹çš„ä»£ç å—ä¸­ï¼Œæˆ‘ä»¬ç¡®ä¿äº†ä»&lt;code class=&quot;highlighter-rouge&quot;&gt;temp&lt;/code&gt;ä¸­å–å‡ºæ¥çš„éªŒè¯è€…éƒ½æ˜¯åˆæ³•çš„ï¼Œå³è¿™äº›éªŒè¯è€…åœ¨éªŒè¯è€…åˆ—è¡¨&lt;code class=&quot;highlighter-rouge&quot;&gt;validators&lt;/code&gt;å·²å­˜åœ¨ã€‚è‹¥åˆæ³•ï¼Œåˆ™æŠŠè¯¥éªŒè¯è€…åŠ å…¥åˆ°&lt;code class=&quot;highlighter-rouge&quot;&gt;lotteryPool&lt;/code&gt;ä¸­ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆæ ¹æ®è¿™äº›éªŒè¯è€…æŒæœ‰çš„ä»¤ç‰Œæ•°æ¥ç»™äºˆä»–ä»¬åˆé€‚çš„éšæœºæƒé‡å‘¢ï¼Ÿ&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;é¦–å…ˆï¼Œç”¨éªŒè¯è€…çš„ä»¤ç‰Œå¡«å……&lt;code class=&quot;highlighter-rouge&quot;&gt;lotteryPool&lt;/code&gt;æ•°ç»„ï¼Œä¾‹å¦‚ä¸€ä¸ªéªŒè¯è€…æœ‰100ä¸ªä»¤ç‰Œï¼Œé‚£ä¹ˆåœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;lotteryPool&lt;/code&gt;ä¸­å°±å°†æœ‰100ä¸ªå…ƒç´ å¡«å……ï¼›å¦‚æœæœ‰1ä¸ªä»¤ç‰Œï¼Œé‚£ä¹ˆå°†ä»…å¡«å……1ä¸ªå…ƒç´ ã€‚&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;ç„¶åï¼Œä»&lt;code class=&quot;highlighter-rouge&quot;&gt;lotteryPool&lt;/code&gt;ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ ï¼Œå…ƒç´ æ‰€å±çš„éªŒè¯è€…å³æ˜¯èƒœåˆ©è€…ï¼ŒæŠŠèƒœåˆ©éªŒè¯è€…çš„åœ°å€èµ‹å€¼ç»™lotteryWinnerã€‚è¿™é‡Œèƒ½å¤Ÿçœ‹å‡ºæ¥ï¼Œå¦‚æœéªŒè¯è€…æŒæœ‰çš„ä»¤ç‰Œè¶Šå¤šï¼Œé‚£ä¹ˆä»–åœ¨æ•°ç»„ä¸­çš„å…ƒç´ ä¹Ÿè¶Šå¤šï¼Œä»–è·èƒœçš„æ¦‚ç‡å°±è¶Šå¤§ï¼›åŒæ—¶ï¼ŒæŒæœ‰ä»¤ç‰Œå¾ˆå°‘çš„éªŒè¯è€…ï¼Œä¹Ÿæ˜¯æœ‰æ¦‚ç‡è·èƒœçš„ã€‚&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ¥ç€æˆ‘ä»¬æŠŠè·èƒœè€…çš„åŒºå—æ·»åŠ åˆ°æ•´æ¡åŒºå—é“¾ä¸Šï¼Œç„¶åé€šçŸ¥æ‰€æœ‰èŠ‚ç‚¹å…³äºèƒœåˆ©è€…çš„æ¶ˆæ¯ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;announcements &amp;lt;- &quot;\nwinning validator: &quot; + lotteryWinner + &quot;\n&quot; &lt;/code&gt;ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æœ€åï¼Œæ¸…ç©ºtempBlocksï¼Œä»¥ä¾¿ä¸‹æ¬¡æè®®çš„è¿›è¡Œã€‚&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ä¸»å‡½æ•°&quot;&gt;ä¸»å‡½æ•°&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func main() {
	err := godotenv.Load()
	if err != nil {
		log.Fatal(err)
	}

	// åˆ›å»ºåˆå§‹åŒºå—
	t := time.Now()
	genesisBlock := Block{}
	genesisBlock = Block{0, t.String(), 0, calculateBlockHash(genesisBlock), &quot;&quot;, &quot;&quot;}
	spew.Dump(genesisBlock)
	Blockchain = append(Blockchain, genesisBlock)

	httpPort := os.Getenv(&quot;PORT&quot;)

	// å¯åŠ¨ TCP æœåŠ¡
	server, err := net.Listen(&quot;tcp&quot;, &quot;:&quot;+httpPort)
	if err != nil {
		log.Fatal(err)
	}
	log.Println(&quot;HTTP Server Listening on port :&quot;, httpPort)
	defer server.Close()

	// å¯åŠ¨äº†ä¸€ä¸ªGo routine ä» candidateBlocks é€šé“ä¸­è·å–æè®®çš„åŒºå—ï¼Œç„¶åå¡«å……åˆ°ä¸´æ—¶ç¼“å†²åŒº tempBlocks ä¸­
	go func() {
		for candidate := range candidateBlocks {
			mutex.Lock()
			tempBlocks = append(tempBlocks, candidate)
			mutex.Unlock()
		}
	}()

	// å¯åŠ¨äº†ä¸€ä¸ªGo routine å®Œæˆ pickWinner å‡½æ•°
	go func() {
		for {
			pickWinner()
		}
	}()

	// æ¥æ”¶éªŒè¯è€…èŠ‚ç‚¹çš„è¿æ¥
	for {
		conn, err := server.Accept()
		if err != nil {
			log.Fatal(err)
		}
		go handleConn(conn)
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;godotenv.Load()&lt;/code&gt; ä¼šè§£æ &lt;code class=&quot;highlighter-rouge&quot;&gt;.env&lt;/code&gt; æ–‡ä»¶å¹¶å°†ç›¸åº”çš„Key/Valueå¯¹éƒ½æ”¾åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œé€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;os.Getenv&lt;/code&gt; è·å–&lt;/li&gt;
  &lt;li&gt;ç„¶ååˆ›å»ºä¸€ä¸ªåˆ›ä¸–åŒºå—genesisBlockï¼Œå½¢æˆäº†åŒºå—é“¾ã€‚&lt;/li&gt;
  &lt;li&gt;æ¥ç€å¯åŠ¨äº†TcpæœåŠ¡ï¼Œç­‰å¾…æ‰€æœ‰éªŒè¯è€…çš„è¿æ¥ã€‚&lt;/li&gt;
  &lt;li&gt;å¯åŠ¨äº†ä¸€ä¸ªGoåç¨‹ä» &lt;code class=&quot;highlighter-rouge&quot;&gt;candidateBlocks&lt;/code&gt; é€šé“ä¸­è·å–æè®®çš„åŒºå—ï¼Œç„¶åå¡«å……åˆ°ä¸´æ—¶ç¼“å†²åŒº &lt;code class=&quot;highlighter-rouge&quot;&gt;tempBlocks&lt;/code&gt; ä¸­ï¼Œæœ€åå¯åŠ¨äº†å¦å¤–ä¸€ä¸ªGoåç¨‹æ¥å®Œæˆ &lt;code class=&quot;highlighter-rouge&quot;&gt;pickWinner&lt;/code&gt; å‡½æ•°ã€‚&lt;/li&gt;
  &lt;li&gt;æœ€åçš„forå¾ªç¯ï¼Œç”¨æ¥æ¥æ”¶éªŒè¯è€…èŠ‚ç‚¹çš„è¿æ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;è¿è¡Œ&quot;&gt;è¿è¡Œ&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;go run main.go&lt;/code&gt; å¯åŠ¨æ‚¨çš„Goç¨‹åºå’ŒTCPæœåŠ¡å™¨ï¼Œå¹¶ä¼šæ‰“å°å‡ºåˆå§‹åŒºå—çš„ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ go run main.go
(main.Block) {
 Index: (int) 0,
 Timestamp: (string) (len=50) &quot;2018-05-08 16:45:27.14287 +0800 CST m=+0.000956793&quot;,
 BPM: (int) 0,
 Hash: (string) (len=64) &quot;96a296d224f285c67bee93c30f8a309157f0daa35dc5b87e410b78630a09cfc7&quot;,
 PrevHash: (string) &quot;&quot;,
 Validator: (string) &quot;&quot;
}
2018/05/08 16:45:27 HTTP Server Listening on port : 9000
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æ‰“å¼€æ–°çš„ç»ˆç«¯ï¼Œè¿è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;nc localhost 9000&lt;/code&gt;ï¼Œ
è¾“å…¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;tokens&lt;/code&gt; , ç„¶åè¾“å…¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;BPM&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://olgjbx93m.bkt.clouddn.com/WX20180508-165429.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¯ä»¥æ‰“å¼€å¤šä¸ªç»ˆç«¯ï¼Œè¾“å…¥ä¸åŒçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;tokens&lt;/code&gt; ,æ¥æ£€éªŒ PoS ç®—æ³•&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://olgjbx93m.bkt.clouddn.com/WX20180508-165704.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/shuailaotou/proofOfStake&quot;&gt;githubæºä»£ç &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å–œæ¬¢å°±starä¸€ä¸‹å§ï¼ğŸ‘»ğŸ‘»ğŸ‘»&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;å¦‚æœ‰é”™è¯¯æè¿°ï¼Œè¯·è¯„è®ºçº æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼ğŸ³ğŸ³ğŸ³&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Thu, 31 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/31/Go%E5%AE%9E%E7%8E%B0Proof-of-Stake-%E5%85%B1%E8%AF%86%E6%9C%BA%E5%88%B6/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/31/Go%E5%AE%9E%E7%8E%B0Proof-of-Stake-%E5%85%B1%E8%AF%86%E6%9C%BA%E5%88%B6/</guid>
        
        <category>POS</category>
        
        
      </item>
    
      <item>
        <title>ä½¿ç”¨Goå®ç°Proof-of-Work å…±è¯†æœºåˆ¶</title>
        <description>&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯-proof-of-work&quot;&gt;ä»€ä¹ˆæ˜¯ Proof-of-Work&lt;/h2&gt;

&lt;p&gt;Proof-of-Work ç®€ç§° PoWï¼Œå³ä¸ºå·¥ä½œé‡è¯æ˜ã€‚é€šè¿‡è®¡ç®—ä¸€ä¸ªæ•°å€¼ï¼ˆ nonce ï¼‰ï¼Œä½¿å¾—æ‹¼æä¸Šäº¤æ˜“æ•°æ®åå†…å®¹çš„ Hash å€¼æ»¡è¶³è§„å®šçš„ä¸Šé™ã€‚åœ¨èŠ‚ç‚¹æˆåŠŸæ‰¾åˆ°æ»¡è¶³çš„Hashå€¼ä¹‹åï¼Œä¼šé©¬ä¸Šå¯¹å…¨ç½‘è¿›è¡Œå¹¿æ’­æ‰“åŒ…åŒºå—ï¼Œç½‘ç»œçš„èŠ‚ç‚¹æ”¶åˆ°å¹¿æ’­æ‰“åŒ…åŒºå—ï¼Œä¼šç«‹åˆ»å¯¹å…¶è¿›è¡ŒéªŒè¯ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœéªŒè¯é€šè¿‡ï¼Œåˆ™è¡¨æ˜å·²ç»æœ‰èŠ‚ç‚¹æˆåŠŸè§£è¿·ï¼Œè‡ªå·±å°±ä¸å†ç«äº‰å½“å‰åŒºå—æ‰“åŒ…ï¼Œè€Œæ˜¯é€‰æ‹©æ¥å—è¿™ä¸ªåŒºå—ï¼Œè®°å½•åˆ°è‡ªå·±çš„è´¦æœ¬ä¸­ï¼Œç„¶åè¿›è¡Œä¸‹ä¸€ä¸ªåŒºå—çš„ç«äº‰çŒœè°œã€‚
ç½‘ç»œä¸­åªæœ‰æœ€å¿«è§£è°œçš„åŒºå—ï¼Œæ‰ä¼šæ·»åŠ çš„è´¦æœ¬ä¸­ï¼Œå…¶ä»–çš„èŠ‚ç‚¹è¿›è¡Œå¤åˆ¶ï¼Œè¿™æ ·å°±ä¿è¯äº†æ•´ä¸ªè´¦æœ¬çš„å”¯ä¸€æ€§ã€‚&lt;/p&gt;

&lt;p&gt;å‡å¦‚èŠ‚ç‚¹æœ‰ä»»ä½•çš„ä½œå¼Šè¡Œä¸ºï¼Œéƒ½ä¼šå¯¼è‡´ç½‘ç»œçš„èŠ‚ç‚¹éªŒè¯ä¸é€šè¿‡ï¼Œç›´æ¥ä¸¢å¼ƒå…¶æ‰“åŒ…çš„åŒºå—ï¼Œè¿™ä¸ªåŒºå—å°±æ— æ³•è®°å½•åˆ°æ€»è´¦æœ¬ä¸­ï¼Œä½œå¼Šçš„èŠ‚ç‚¹è€—è´¹çš„æˆæœ¬å°±ç™½è´¹äº†ï¼Œå› æ­¤åœ¨å·¨å¤§çš„æŒ–çŸ¿æˆæœ¬ä¸‹ï¼Œä¹Ÿä½¿å¾—çŸ¿å·¥è‡ªè§‰è‡ªæ„¿çš„éµå®ˆæ¯”ç‰¹å¸ç³»ç»Ÿçš„å…±è¯†åè®®ï¼Œä¹Ÿå°±ç¡®ä¿äº†æ•´ä¸ªç³»ç»Ÿçš„å®‰å…¨ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å·¥ä½œé‡è¯æ˜çš„ä¼˜ç¼ºç‚¹&quot;&gt;å·¥ä½œé‡è¯æ˜çš„ä¼˜ç¼ºç‚¹&lt;/h2&gt;

&lt;p&gt;ä¼˜ç‚¹ï¼šå®Œå…¨å»ä¸­å¿ƒåŒ–ï¼ŒèŠ‚ç‚¹è‡ªç”±è¿›å‡ºï¼›&lt;/p&gt;

&lt;p&gt;ç¼ºç‚¹ï¼šç›®å‰bitcoinå·²ç»å¸å¼•å…¨çƒå¤§éƒ¨åˆ†çš„ç®—åŠ›ï¼Œå…¶å®ƒå†ç”¨Powå…±è¯†æœºåˆ¶çš„åŒºå—é“¾åº”ç”¨å¾ˆéš¾è·å¾—ç›¸åŒçš„ç®—åŠ›æ¥ä¿éšœè‡ªèº«çš„å®‰å…¨ï¼›æŒ–çŸ¿é€ æˆå¤§é‡çš„èµ„æºæµªè´¹ï¼›å…±è¯†è¾¾æˆçš„å‘¨æœŸè¾ƒé•¿ï¼Œä¸é€‚åˆå•†ä¸šåº”ç”¨&lt;/p&gt;

&lt;h2 id=&quot;å·¥ä½œé‡è¯æ˜çš„ç®€å•çš„ä¾‹å­&quot;&gt;å·¥ä½œé‡è¯æ˜çš„ç®€å•çš„ä¾‹å­&lt;/h2&gt;

&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼Œç»™å®šçš„ä¸€ä¸ªåŸºæœ¬çš„å­—ç¬¦ä¸²â€Hello, world!â€ï¼Œæˆ‘ä»¬ç»™å‡ºçš„å·¥ä½œé‡è¦æ±‚æ˜¯ï¼Œå¯ä»¥åœ¨è¿™ä¸ªå­—ç¬¦ä¸²åé¢æ·»åŠ ä¸€ä¸ªå«åšnonceçš„æ•´æ•°å€¼ï¼Œå¯¹å˜æ›´åï¼ˆæ·»åŠ nonce)çš„å­—ç¬¦ä¸²è¿›è¡ŒSHA256å“ˆå¸Œè¿ç®—ï¼Œå¦‚æœå¾—åˆ°çš„å“ˆå¸Œç»“æœï¼ˆä»¥16è¿›åˆ¶çš„å½¢å¼è¡¨ç¤ºï¼‰æ˜¯ä»¥â€0000â€å¼€å¤´çš„ï¼Œåˆ™éªŒè¯é€šè¿‡ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªå·¥ä½œé‡è¯æ˜çš„ç›®æ ‡ã€‚æˆ‘ä»¬éœ€è¦ä¸åœçš„é€’å¢nonceå€¼ï¼Œå¯¹å¾—åˆ°çš„æ–°å­—ç¬¦ä¸²è¿›è¡ŒSHA256å“ˆå¸Œè¿ç®—ã€‚æŒ‰ç…§è¿™ä¸ªè§„åˆ™ï¼Œæˆ‘ä»¬éœ€è¦ç»è¿‡4251æ¬¡è®¡ç®—æ‰èƒ½æ‰¾åˆ°æ°å¥½å‰4ä½ä¸º0çš„å“ˆå¸Œæ•£åˆ—ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&quot;Hello, world!0&quot; =&amp;gt; 1312af178c253f84028d480a6adc1e25e81caa44c749ec81976192e2ec934c64
&quot;Hello, world!1&quot; =&amp;gt; e9afc424b79e4f6ab42d99c81156d3a17228d6e1eef4139be78e948a9332a7d8
&quot;Hello, world!2&quot; =&amp;gt; ae37343a357a8297591625e7134cbea22f5928be8ca2a32aa475cf05fd4266b7
...
&quot;Hello, world!4248&quot; =&amp;gt; 6e110d98b388e77e9c6f042ac6b497cec46660deef75a55ebc7cfdf65cc0b965
&quot;Hello, world!4249&quot; =&amp;gt; c004190b822f1669cac8dc37e761cb73652e7832fb814565702245cf26ebb9e6
&quot;Hello, world!4250&quot; =&amp;gt; 0000c3af42fc31103f1fdc0151fa747ff87349a4714df7cc52ea464e12dcd4e9
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;å®ç°-proof-of-work-å…±è¯†æœºåˆ¶&quot;&gt;å®ç° Proof-of-Work å…±è¯†æœºåˆ¶&lt;/h2&gt;

&lt;h3 id=&quot;å®‰è£…ä¾èµ–è½¯ä»¶&quot;&gt;å®‰è£…ä¾èµ–è½¯ä»¶&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ go get github.com/davecgh/go-spew/spew

$ go get github.com/gorilla/mux

$ go get github.com/joho/godotenv
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;spew&lt;/code&gt; åœ¨æ§åˆ¶å°ä¸­æ ¼å¼åŒ–è¾“å‡ºç›¸åº”çš„ç»“æœã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;gorilla/mux&lt;/code&gt; æ˜¯ç¼–å†™webå¤„ç†ç¨‹åºçš„æµè¡Œè½¯ä»¶åŒ…ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;godotenv&lt;/code&gt; å¯ä»¥ä»æˆ‘ä»¬é¡¹ç›®çš„æ ¹ç›®å½•çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;.env&lt;/code&gt; æ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;å®ç°-pow-å…±è¯†æœºåˆ¶&quot;&gt;å®ç° PoW å…±è¯†æœºåˆ¶&lt;/h3&gt;

&lt;p&gt;æ–°å»º &lt;code class=&quot;highlighter-rouge&quot;&gt;.env&lt;/code&gt; ï¼Œæ·»åŠ  &lt;code class=&quot;highlighter-rouge&quot;&gt;ADDR=8080&lt;/code&gt;
æ–°å»º &lt;code class=&quot;highlighter-rouge&quot;&gt;main.go&lt;/code&gt;ï¼Œå¼•å…¥ç›¸åº”çš„åŒ…&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import (
        &quot;crypto/sha256&quot;
        &quot;encoding/hex&quot;
        &quot;encoding/json&quot;
        &quot;fmt&quot;
        &quot;io&quot;
        &quot;log&quot;
        &quot;net/http&quot;
        &quot;os&quot;
        &quot;strconv&quot;
        &quot;strings&quot;
        &quot;sync&quot;
        &quot;time&quot;

        &quot;github.com/davecgh/go-spew/spew&quot;
        &quot;github.com/gorilla/mux&quot;
        &quot;github.com/joho/godotenv&quot;
)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;å®šä¹‰åŒºå—&quot;&gt;å®šä¹‰åŒºå—&lt;/h4&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;const difficulty = 1

type Block struct {
        Index      int
        Timestamp  string
        BPM        int
        Hash       string
        PrevHash   string
        Difficulty int
        Nonce      string
}

var Blockchain []Block

type Message struct {
        BPM int
}

var mutex = &amp;amp;sync.Mutex{}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;difficulty&lt;/code&gt; ä»£è¡¨éš¾åº¦ç³»æ•°ï¼Œå¦‚æœèµ‹å€¼ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;1&lt;/code&gt;ï¼Œåˆ™éœ€è¦åˆ¤æ–­ç”ŸæˆåŒºå—æ—¶æ‰€äº§ç”Ÿçš„ Hash å‰ç¼€è‡³å°‘åŒ…å«1ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;0&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Block&lt;/code&gt; ä»£è¡¨åŒºå—çš„ç»“æ„ä½“ã€‚
    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Index&lt;/code&gt; æ˜¯åŒºå—é“¾ä¸­æ•°æ®è®°å½•çš„ä½ç½®&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Timestamp&lt;/code&gt; æ˜¯è‡ªåŠ¨ç¡®å®šçš„ï¼Œå¹¶ä¸”æ˜¯å†™å…¥æ•°æ®çš„æ—¶é—´&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;BPM&lt;/code&gt; æ˜¯æ¯åˆ†é’Ÿè·³åŠ¨çš„æ¬¡æ•°ï¼Œæ˜¯ä½ çš„è„‰ç‡&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Hash&lt;/code&gt; æ˜¯ä»£è¡¨è¿™ä¸ªæ•°æ®è®°å½•çš„SHA256æ ‡è¯†ç¬¦&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;PrevHash&lt;/code&gt; æ˜¯é“¾ä¸­ä¸Šä¸€æ¡è®°å½•çš„SHA256æ ‡è¯†ç¬¦&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Difficulty&lt;/code&gt; æ˜¯å½“å‰åŒºå—çš„éš¾åº¦ç³»æ•°&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Nonce&lt;/code&gt; æ˜¯ PoW æŒ–çŸ¿ä¸­ç¬¦åˆæ¡ä»¶çš„æ•°å­—&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Blockchain&lt;/code&gt; æ˜¯å­˜æ”¾åŒºå—æ•°æ®çš„é›†åˆ&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Message&lt;/code&gt; æ˜¯ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;POST&lt;/code&gt; è¯·æ±‚ä¼ é€’çš„æ•°æ®&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;mutex&lt;/code&gt; æ˜¯ä¸ºäº†é˜²æ­¢åŒä¸€æ—¶é—´äº§ç”Ÿå¤šä¸ªåŒºå—&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;ç”ŸæˆåŒºå—&quot;&gt;ç”ŸæˆåŒºå—&lt;/h4&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func generateBlock(oldBlock Block, BPM int) Block {
        var newBlock Block

        t := time.Now()

        newBlock.Index = oldBlock.Index + 1
        newBlock.Timestamp = t.String()
        newBlock.BPM = BPM
        newBlock.PrevHash = oldBlock.Hash
        newBlock.Difficulty = difficulty

        for i := 0; ; i++ {
                hex := fmt.Sprintf(&quot;%x&quot;, i)
                newBlock.Nonce = hex
                if !isHashValid(calculateHash(newBlock), newBlock.Difficulty) {
                        fmt.Println(calculateHash(newBlock), &quot; do more work!&quot;)
                        time.Sleep(time.Second)
                        continue
                } else {
                        fmt.Println(calculateHash(newBlock), &quot; work done!&quot;)
                        newBlock.Hash = calculateHash(newBlock)
                        break
                }

        }
        return newBlock
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;newBlock&lt;/code&gt; ä¸­çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;PrevHash&lt;/code&gt; å­˜å‚¨çš„ä¸Šä¸€ä¸ªåŒºå—çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Hash&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;for å¾ªç¯&lt;/code&gt; é€šè¿‡å¾ªç¯æ”¹å˜ &lt;code class=&quot;highlighter-rouge&quot;&gt;Nonce&lt;/code&gt;ï¼Œç„¶åé€‰å‡ºç¬¦åˆç›¸åº”éš¾åº¦ç³»æ•°çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Nonce&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;isHashValid&lt;/code&gt; åˆ¤æ–­ hashï¼Œæ˜¯å¦æ»¡è¶³å½“å‰çš„éš¾åº¦ç³»æ•°ã€‚å¦‚æœéš¾åº¦ç³»æ•°æ˜¯2ï¼Œåˆ™å½“å‰hashçš„å‰ç¼€æœ‰2ä¸ª0ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func isHashValid(hash string, difficulty int) bool {
        prefix := strings.Repeat(&quot;0&quot;, difficulty)
        return strings.HasPrefix(hash, prefix)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;strings.Repeat(&quot;0&quot;, difficulty)&lt;/code&gt; å¤åˆ¶ &lt;code class=&quot;highlighter-rouge&quot;&gt;difficulty&lt;/code&gt; ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;0&lt;/code&gt;ï¼Œå¹¶è¿”å›æ–°å­—ç¬¦ä¸²ï¼Œå½“ difficulty ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;2&lt;/code&gt; ï¼Œåˆ™ prefix ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;00&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;strings.HasPrefix(hash, prefix)&lt;/code&gt; åˆ¤æ–­å­—ç¬¦ä¸² &lt;code class=&quot;highlighter-rouge&quot;&gt;hash&lt;/code&gt; æ˜¯å¦åŒ…å«å‰ç¼€ &lt;code class=&quot;highlighter-rouge&quot;&gt;prefix&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;calculateHash&lt;/code&gt; æ ¹æ®è®¾å®šçš„è§„åˆ™ï¼Œç”Ÿæˆ Hash å€¼ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func calculateHash(block Block) string {
        record := strconv.Itoa(block.Index) + block.Timestamp + strconv.Itoa(block.BPM) + block.PrevHash + block.Nonce
        h := sha256.New()
        h.Write([]byte(record))
        hashed := h.Sum(nil)
        return hex.EncodeToString(hashed)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;éªŒè¯åŒºå—&quot;&gt;éªŒè¯åŒºå—&lt;/h4&gt;

&lt;p&gt;æˆ‘ä»¬é€šè¿‡æ£€æŸ¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;Index&lt;/code&gt; æ¥ç¡®ä¿å®ƒä»¬æŒ‰é¢„æœŸé€’å¢ã€‚æˆ‘ä»¬ä¹Ÿæ£€æŸ¥ä»¥ç¡®ä¿æˆ‘ä»¬ &lt;code class=&quot;highlighter-rouge&quot;&gt;PrevHash&lt;/code&gt; çš„ç¡®ä¸ &lt;code class=&quot;highlighter-rouge&quot;&gt;Hash&lt;/code&gt; å‰ä¸€ä¸ªåŒºå—ç›¸åŒã€‚æœ€åï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡åœ¨å½“å‰å—ä¸Š &lt;code class=&quot;highlighter-rouge&quot;&gt;calculateHash&lt;/code&gt; å†æ¬¡è¿è¡Œè¯¥å‡½æ•°æ¥æ£€æŸ¥å½“å‰å—çš„æ•£åˆ—ã€‚è®©æˆ‘ä»¬å†™ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;isBlockValid&lt;/code&gt; å‡½æ•°æ¥å®Œæˆæ‰€æœ‰è¿™äº›äº‹æƒ…å¹¶è¿”å›ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;bool&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func isBlockValid(newBlock, oldBlock Block) bool {
        if oldBlock.Index+1 != newBlock.Index {
                return false
        }

        if oldBlock.Hash != newBlock.PrevHash {
                return false
        }

        if calculateHash(newBlock) != newBlock.Hash {
                return false
        }

        return true
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;web-æœåŠ¡å™¨&quot;&gt;web æœåŠ¡å™¨&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func run() error {
        mux := makeMuxRouter()
        httpAddr := os.Getenv(&quot;ADDR&quot;)
        log.Println(&quot;Listening on &quot;, os.Getenv(&quot;ADDR&quot;))
        s := &amp;amp;http.Server{
                Addr:           &quot;:&quot; + httpAddr,
                Handler:        mux,
                ReadTimeout:    10 * time.Second,
                WriteTimeout:   10 * time.Second,
                MaxHeaderBytes: 1 &amp;lt;&amp;lt; 20,
        }

        if err := s.ListenAndServe(); err != nil {
                return err
        }

        return nil
}

func makeMuxRouter() http.Handler {
        muxRouter := mux.NewRouter()
        muxRouter.HandleFunc(&quot;/&quot;, handleGetBlockchain).Methods(&quot;GET&quot;)
        muxRouter.HandleFunc(&quot;/&quot;, handleWriteBlock).Methods(&quot;POST&quot;)
        return muxRouter
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;makeMuxRouter&lt;/code&gt; ä¸»è¦å®šä¹‰è·¯ç”±å¤„ç†ï¼Œå½“æ”¶åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;GET&lt;/code&gt; è¯·æ±‚ï¼Œå°±ä¼šè°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;handleGetBlockchain&lt;/code&gt; æ–¹æ³•ã€‚å½“æ”¶åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;POST&lt;/code&gt; è¯·æ±‚ï¼Œå°±ä¼šè°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;handleWriteBlock&lt;/code&gt; æ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;handleGetBlockchain&lt;/code&gt; è·å–æ‰€æœ‰åŒºå—çš„åˆ—è¡¨ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func handleGetBlockchain(w http.ResponseWriter, r *http.Request) {
        bytes, err := json.MarshalIndent(Blockchain, &quot;&quot;, &quot;  &quot;)
        if err != nil {
                http.Error(w, err.Error(), http.StatusInternalServerError)
                return
        }
        io.WriteString(w, string(bytes))
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;handleWriteBlock&lt;/code&gt; ä¸»è¦æ˜¯ç”Ÿæˆæ–°çš„åŒºå—ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func handleWriteBlock(w http.ResponseWriter, r *http.Request) {
	w.Header().Set(&quot;Content-Type&quot;, &quot;application/json&quot;)
	var m Message

	decoder := json.NewDecoder(r.Body)
	if err := decoder.Decode(&amp;amp;m); err != nil {
			respondWithJSON(w, r, http.StatusBadRequest, r.Body)
			return
	}   
	defer r.Body.Close()

	//ensure atomicity when creating new block
	mutex.Lock()
	newBlock := generateBlock(Blockchain[len(Blockchain)-1], m.BPM)
	mutex.Unlock()

	if isBlockValid(newBlock, Blockchain[len(Blockchain)-1]) {
			Blockchain = append(Blockchain, newBlock)
			spew.Dump(Blockchain)
	}   

	respondWithJSON(w, r, http.StatusCreated, newBlock)

}

func respondWithJSON(w http.ResponseWriter, r *http.Request, code int, payload interface{}) {
	w.Header().Set(&quot;Content-Type&quot;, &quot;application/json&quot;)
	response, err := json.MarshalIndent(payload, &quot;&quot;, &quot;  &quot;)
	if err != nil {
			w.WriteHeader(http.StatusInternalServerError)
			w.Write([]byte(&quot;HTTP 500: Internal Server Error&quot;))
			return
	}
	w.WriteHeader(code)
	w.Write(response)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;ä¸»å‡½æ•°&quot;&gt;ä¸»å‡½æ•°&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func main() {
	err := godotenv.Load()
	if err != nil {
			log.Fatal(err)
	}   

	go func() {
			t := time.Now()
			genesisBlock := Block{}
			genesisBlock = Block{0, t.String(), 0, calculateHash(genesisBlock), &quot;&quot;, difficulty, &quot;&quot;} 
			spew.Dump(genesisBlock)

			mutex.Lock()
			Blockchain = append(Blockchain, genesisBlock)
			mutex.Unlock()
	}() 
	log.Fatal(run())

}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;godotenv.Load()&lt;/code&gt; å…è®¸æˆ‘ä»¬ä» æ ¹ç›®å½•çš„æ–‡ä»¶ &lt;code class=&quot;highlighter-rouge&quot;&gt;.env&lt;/code&gt; è¯»å–ç›¸åº”çš„å˜é‡ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;genesisBlock&lt;/code&gt; åˆ›å»ºåˆå§‹åŒºå—ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;run()&lt;/code&gt; å¯åŠ¨ web æœåŠ¡&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;å¯åŠ¨webæœåŠ¡å™¨&quot;&gt;å¯åŠ¨webæœåŠ¡å™¨&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ go run main.go
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;Postman&lt;/code&gt;è½¯ä»¶æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚ã€‚&lt;/p&gt;

&lt;p&gt;é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;POST&lt;/code&gt; è®¿é—® &lt;code class=&quot;highlighter-rouge&quot;&gt;http://localhost:8080&lt;/code&gt; å¯ä»¥æ·»åŠ æ–°çš„åŒºå—ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://olgjbx93m.bkt.clouddn.com/WX20180507-162511.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¯ä»¥åœ¨ç»ˆç«¯æŸ¥çœ‹æŒ–çŸ¿è¿‡ç¨‹ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://olgjbx93m.bkt.clouddn.com/WX20180507-162255.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;GET&lt;/code&gt; è®¿é—® &lt;code class=&quot;highlighter-rouge&quot;&gt;http://localhost:8080&lt;/code&gt; å¯ä»¥è·å–åŒºå—é“¾ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://olgjbx93m.bkt.clouddn.com/WX20180507-162527.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;æºç ä¸‹è½½&quot;&gt;æºç ä¸‹è½½&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/shuailaotou/proofOfWork&quot;&gt;ä½¿ç”¨ go å®ç° Proof-of-Work å…±è¯†æœºåˆ¶&lt;/a&gt;&lt;/p&gt;

</description>
        <pubDate>Wed, 23 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/23/%E4%BD%BF%E7%94%A8Go%E5%AE%9E%E7%8E%B0ProofofWork%E5%85%B1%E8%AF%86%E6%9C%BA%E5%88%B6/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/23/%E4%BD%BF%E7%94%A8Go%E5%AE%9E%E7%8E%B0ProofofWork%E5%85%B1%E8%AF%86%E6%9C%BA%E5%88%B6/</guid>
        
        <category>pow</category>
        
        
      </item>
    
      <item>
        <title>åˆ†å¸ƒå¼ç³»ç»ŸåŸç†ä»‹ç»</title>
        <description>&lt;h3 id=&quot;æ¦‚å¿µ&quot;&gt;æ¦‚å¿µ&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;1.1   æ¨¡å‹&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨åˆ†å¸ƒå¼å±‚é¢çš„åŸºæœ¬é—®é¢˜æ¨¡å‹,ä¸ºäº†æ§åˆ¶é—®é¢˜çš„è§„æ¨¡ï¼Œç²¾ç®€äº†åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ¨¡å‹ã€‚
&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-19-01.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.1  èŠ‚ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;èŠ‚ç‚¹&lt;/code&gt;æ˜¯æŒ‡ä¸€ä¸ªå¯ä»¥ç‹¬ç«‹æŒ‰ç…§åˆ†å¸ƒå¼åè®®å®Œæˆçš„ä¸€ç»„é€»è¾‘çš„ç¨‹åºä¸ªä½“ï¼Œä¸€ä¸ªèŠ‚ç‚¹å¾€å¾€æ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸Šçš„è¿›ç¨‹ã€‚
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.2 é€šä¿¡&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
èŠ‚ç‚¹ä¸èŠ‚ç‚¹ä¹‹é—´æ˜¯å®Œå…¨ç‹¬ç«‹ã€ç›¸äº’éš”ç¦»çš„ï¼ŒèŠ‚ç‚¹ä¹‹é—´ä¼ é€’ä¿¡æ¯çš„å”¯ä¸€æ–¹å¼æ˜¯é€šè¿‡ä¸å¯é çš„ç½‘ç»œè¿›è¡Œé€šä¿¡ã€‚å³ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥å‘å…¶ä»–èŠ‚ç‚¹é€šè¿‡ç½‘ç»œå‘é€æ¶ˆæ¯ï¼Œä½†æ˜¯å‘é€æ¶ˆæ¯çš„èŠ‚ç‚¹æ— æ³•ç¡®è®¤æ¶ˆæ¯æ˜¯å¦è¢«æ¥å—èŠ‚ç‚¹å®Œæ•´æ­£ç¡®çš„æ”¶åˆ°ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.3 å­˜å‚¨&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;èŠ‚ç‚¹å¯ä»¥é€šè¿‡å°†æ•°æ®å†™å…¥ä¸èŠ‚ç‚¹åœ¨åŒä¸€å°æœºå™¨çš„æœ¬åœ°å­˜å‚¨è®¾å¤‡ä¿å­˜æ•°æ®ã€‚é€šå¸¸çš„å­˜å‚¨è®¾å¤‡æœ‰ç£ç›˜ï¼ŒSSDç­‰å­˜å‚¨ã€è¯»å–æ•°æ®çš„èŠ‚ç‚¹ç§°ä¸ºæœ‰çŠ¶æ€çš„èŠ‚ç‚¹ï¼Œåä¹‹ç§°ä¸ºæ— çŠ¶æ€èŠ‚ç‚¹ã€‚å¦‚æœæŸä¸ªèŠ‚ç‚¹Aå­˜å‚¨æ•°æ®çš„æ–¹å¼æ˜¯å°†æ•°æ®é€šè¿‡ç½‘ç»œå‘é€åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹Bï¼Œç”±èŠ‚ç‚¹Bè´Ÿè´£å°†æ•°æ®å­˜å‚¨åˆ°èŠ‚ç‚¹Bçš„æœ¬åœ°å­˜å‚¨è®¾å¤‡ï¼Œé‚£ä¹ˆä¸èƒ½è®¤ä¸ºèŠ‚ç‚¹Aæ˜¯æœ‰çŠ¶æ€çš„èŠ‚ç‚¹ï¼Œè€Œåªæœ‰èŠ‚ç‚¹Bæ˜¯æœ‰çŠ¶æ€çš„èŠ‚ç‚¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4  å¼‚å¸¸&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ ¸å¿ƒé—®é¢˜ä¹‹ä¸€å°±æ˜¯å¤„ç†å„ç§å¼‚å¸¸æƒ…å†µ&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;strong&gt;1.1.4.1 æœºå™¨å®•æœº&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;å½“å‘ç”Ÿå®•æœºçš„æ—¶å€™ï¼ŒèŠ‚ç‚¹æ— æ³•è¿›å…¥æ­£å¸¸çš„å·¥ä½œçŠ¶æ€ï¼Œç§°ä¹‹ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;ä¸å¯ç”¨çŠ¶æ€&lt;/code&gt;ã€‚æœºå™¨é‡å¯åï¼ŒèŠ‚ç‚¹å¯ä»¥é€šè¿‡è¯»å–æœ¬åœ°å­˜å‚¨è®¾å¤‡ä¸­çš„ä¿¡æ¯æˆ–è€…é€šè¿‡è¯»å–å…¶ä»–èŠ‚ç‚¹æ•°æ®çš„æ–¹å¼æ¢å¤å†…å­˜ä¿¡æ¯ï¼Œä»è€Œæ¢å¤åˆ°æŸä¸€å®•æœºå‰çš„çŠ¶æ€ã€‚
æ— çŠ¶æ€çš„èŠ‚ç‚¹å¯ä»¥ç«‹å³æ¢å¤&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4.2 ç½‘ç»œå¼‚å¸¸&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;èŠ‚ç‚¹é€šè¿‡ä¸å¯é çš„ç½‘ç»œè¿›è¡Œé€šä¿¡&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4.2.1 æ¶ˆæ¯ä¸¢å¤±&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;æ¶ˆæ¯ä¸¢å¤±æ˜¯æœ€å¸¸è§çš„ç½‘ç»œå¼‚å¸¸ï¼Œåœ¨å‘ç”Ÿç½‘ç»œæ‹¥å µã€è·¯ç”±å˜åŠ¨ã€è®¾å¤‡å¼‚å¸¸ç­‰æƒ…å†µæ—¶ï¼Œéƒ½å¯èƒ½å‘ç”Ÿå‘é€çš„æ•°æ®ä¸¢å¤±ã€‚
å¦‚æœæŸäº›èŠ‚ç‚¹çš„ç›´æ¥çš„ç½‘ç»œé€šä¿¡æ­£å¸¸æˆ–ä¸¢åŒ…ç‡åœ¨åˆç†èŒƒå›´å†…ï¼Œè€ŒæŸäº› èŠ‚ç‚¹ä¹‹é—´å§‹ç»ˆæ— æ³•æ­£å¸¸é€šä¿¡ï¼Œåˆ™ç§°è¿™ç§ç‰¹æ®Šçš„ç½‘ç»œå¼‚å¸¸ä¸ºâ€œç½‘ç»œåˆ†åŒ–â€(network partition)ã€‚ç½‘ç»œåˆ† åŒ–æ˜¯ä¸€ç±»å¸¸è§çš„ç½‘ç»œå¼‚å¸¸ï¼Œå°¤å…¶å½“åˆ†å¸ƒå¼ç³»ç»Ÿéƒ¨ç½²åœ¨å¤šä¸ªæœºæˆ¿ä¹‹é—´æ—¶ã€‚å›¾ 1-1 ä¸­ï¼Œç”¨è™šçº¿åˆ†å‰²äº†ä¸¤ ç‰‡èŠ‚ç‚¹ï¼Œè¿™ä¸¤ç‰‡èŠ‚ç‚¹ä¹‹é—´å½¼æ­¤å®Œå…¨æ— æ³•é€šä¿¡ï¼Œå³å‡ºç°äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;â€œç½‘ç»œåˆ†åŒ–â€&lt;/code&gt;
ä¾‹ 1.1:æŸåˆ†å¸ƒå¼ç³»ç»Ÿéƒ¨ç½²äºä¸¤ä¸ªæœºæˆ¿ï¼Œæœºæˆ¿é—´ä½¿ç”¨å†…éƒ¨ç‹¬ç«‹å…‰çº¤é“¾è·¯ã€‚ç”±äºæœºæˆ¿é—´çš„å…‰çº¤é“¾è·¯ äº¤å‰²è°ƒæ•´ï¼Œä¸¤ä¸ªæœºæˆ¿é—´é€šä¿¡ä¸­æ–­ï¼ŒæœŸé—´ï¼Œå„æœºæˆ¿å†…çš„èŠ‚ç‚¹ç›¸äº’é€šä¿¡æ­£å¸¸ã€‚æ›´ä¸ºä¸¥é‡çš„æ˜¯ï¼Œæ‰€æœ‰çš„è‹± ç‰¹ç½‘ç”¨æˆ·éƒ½å¯ä»¥æ­£å¸¸è®¿é—®ä¸¤ä¸ªæœºæˆ¿å†…å¯¹å¤–æœåŠ¡èŠ‚ç‚¹ã€‚æœ¬æ–‡åç»­å°†è®¨è®ºå‡ºç°è¿™ç§ä¸¥é‡çš„ç½‘ç»œåˆ†åŒ–æ—¶ï¼Œ å¯¹åˆ†å¸ƒå¼ç³»ç»Ÿçš„è®¾è®¡å¸¦æ¥çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;å·¨å¤§æŒ‘æˆ˜&lt;/code&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4.2.2 æ¶ˆæ¯ä¹±åº&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;æ¶ˆæ¯ä¹±åºæ˜¯æŒ‡èŠ‚ç‚¹å‘é€çš„ç½‘ç»œæ¶ˆæ¯æœ‰ä¸€å®šçš„æ¦‚ç‡ä¸æ˜¯æŒ‰ç…§å‘é€æ—¶çš„é¡ºåºä¾æ¬¡åˆ°è¾¾ç›®çš„èŠ‚ç‚¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4.2.3 æ•°æ®é”™è¯¯&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ç½‘ç»œä¸Šä¼ è¾“çš„æ•°æ®æœ‰å¯èƒ½å‘ç”Ÿæ¯”ç‰¹é”™è¯¯ï¼Œä»è€Œé€ æˆæ•°æ®é”™è¯¯&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4.2.4 ä¸å¯é çš„TCP&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;TCPä¹Ÿä¼šå› ä¸ºä¸€äº›æç«¯æƒ…å†µå˜å¾—ä¸å¯é &lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4.3 åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸‰æ€&lt;/strong&gt;
&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ä¸€ä¸ªèŠ‚ç‚¹Aå‘å¦ä¸€ä¸ªèŠ‚ç‚¹Bå‘é€æ¶ˆæ¯ï¼ŒèŠ‚ç‚¹Bæ ¹æ®æ”¶åˆ°çš„æ¶ˆæ¯å†…å®¹å®ŒæˆæŸäº›æ“ä½œï¼Œå¹¶å°†æ“ä½œçš„ç»“æœé€šè¿‡å¦ä¸€ä¸ªæ¶ˆæ¯è¿”å›ç»™èŠ‚ç‚¹Aï¼Œé‚£ä¹ˆè¿™ä¸ªRPCçš„æ‰§è¡Œç»“æœå°±æœ‰ä¸‰ç§çŠ¶æ€ï¼šâ€œæˆåŠŸâ€ï¼Œâ€œå¤±è´¥â€ï¼Œâ€œè¶…æ—¶ï¼ˆæœªçŸ¥ï¼‰â€ï¼Œç§°ä¹‹ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸‰æ€ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4.4 å­˜å‚¨æ•°æ®ä¸¢å¤±&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ•°æ®ä¸¢å¤±æŒ‡èŠ‚ç‚¹å­˜å‚¨çš„æ•°æ®ä¸å¯è¢«è¯»å–æˆ–è¯»å–å‡ºçš„æ•°æ®é”™è¯¯ã€‚æ•°æ®ä¸¢å¤±æ˜¯å¦ä¸€ç±»å¸¸è§çš„å¼‚å¸¸ã€‚ å°¤å…¶æ˜¯ä½¿ç”¨æœºæ¢°ç¡¬ç›˜åšå­˜å‚¨ä»‹è´¨æ—¶ï¼Œç¡¬ç›˜æŸåçš„æ¦‚ç‡è¾ƒå¤§ã€‚å¯¹äºæœ‰çŠ¶æ€èŠ‚ç‚¹æ¥è¯´ï¼Œæ•°æ®ä¸¢å¤±æ„å‘³ç€ çŠ¶æ€ä¸¢å¤±ï¼Œé€šå¸¸åªèƒ½ä»å…¶ä»–èŠ‚ç‚¹è¯»å–ã€æ¢å¤å­˜å‚¨çš„çŠ¶æ€ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4.6 å¼‚å¸¸çš„å¤„ç†åŸåˆ™&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;è¢«å¤§é‡å·¥ç¨‹å®è·µæ‰€æ£€éªŒçš„å¼‚å¸¸å¤„ç†é»„é‡‘åŸåˆ™æ˜¯ï¼šä»»ä½•åœ¨è®¾è®¡é˜¶æ®µè€ƒè™‘åˆ°çš„å¼‚å¸¸æƒ…å†µä¸€å®šä¼šåœ¨ç³»ç»Ÿå®é™…è¿è¡Œä¸­å‘ç”Ÿï¼Œä½†åœ¨ç³»ç»Ÿå®é™…è¿è¡Œé‡åˆ°çš„å¼‚å¸¸å´å¾ˆå¯èƒ½åœ¨è®¾è®¡æ—¶æœªèƒ½è€ƒè™‘ï¼Œæ‰€ä»¥ï¼Œé™¤ééœ€æ±‚æŒ‡æ ‡å…è®¸ï¼Œåœ¨ç³»ç»Ÿè®¾è®¡æ—¶ä¸èƒ½æ”¾è¿‡ä»»ä½•å¼‚å¸¸æƒ…å†µã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.2 å‰¯æœ¬&lt;/strong&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.2.1 å‰¯æœ¬çš„æ¦‚å¿µ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
å‰¯æœ¬æ˜¯æŒ‡åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸ºæ•°æ®æˆ–æœåŠ¡æä¾›çš„å†—ä½™ã€‚å¯¹äºæ•°æ®å‰¯æœ¬æŒ‡åœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸ŠæŒä¹…åŒ–åŒä¸€ä»½æ•°æ®ï¼Œå½“å‡ºç°æŸä¸€ä¸ªèŠ‚ç‚¹çš„å­˜å‚¨æ•°æ®ä¸¢å¤±æ—¶ï¼Œå¯ä»¥ä»å‰¯æœ¬ä¸Šè¯»åˆ°æ•°æ®ã€‚
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.2.1 å‰¯æœ¬ä¸€è‡´æ€§&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
åˆ†å¸ƒå¼ç³»ç»Ÿé€šè¿‡å‰¯æœ¬åè®®ï¼Œä½¿å¾—ä»ç³»ç»Ÿå¤–éƒ¨è¯»å–ç³»ç»Ÿå†…éƒ¨å„ä¸ªå‰¯æœ¬çš„æ•°æ® åœ¨ä¸€å®šçš„çº¦æŸæ¡ä»¶ä¸‹ç›¸åŒï¼Œç§°ä¹‹ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;å‰¯æœ¬ä¸€è‡´æ€§&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.3 è¡¡é‡åˆ†å¸ƒå¼ç³»ç»Ÿçš„æŒ‡æ ‡&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;è¯„ä»·åˆ†å¸ƒå¼ç³»ç»Ÿæœ‰ä¸€äº›å¸¸ç”¨çš„æŒ‡æ ‡ï¼ŒåŒ…æ‹¬æ€§èƒ½ï¼Œå¯ç”¨æ€§ï¼Œå¯æ‰©å±•æ€§ï¼Œä¸€è‡´æ€§&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.3.1 æ€§èƒ½&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;å¸¸è§çš„æ€§èƒ½æŒ‡æ ‡&lt;/code&gt;æœ‰ç³»ç»Ÿçš„ååèƒ½åŠ›ï¼ŒæŒ‡ç³»ç»Ÿåœ¨æŸæ®µæ—¶é—´å¯ä»¥å¤„ç†çš„æ•°æ®æ€»é‡ï¼Œé€šå¸¸å¯ä»¥ç”¨ç³»ç»Ÿç¾å¦™å¤„ç†çš„æ€»çš„æ•°æ®é‡æ¥è¡¡é‡ï¼›ç³»ç»Ÿçš„å“åº”å»¶è¿Ÿï¼ŒæŒ‡ç³»ç»Ÿå®ŒæˆæŸä¸€åŠŸèƒ½éœ€è¦ä½¿ç”¨çš„æ—¶é—´ï¼›ç³»ç»Ÿçš„å¹¶å‘èƒ½åŠ›ï¼ŒæŒ‡ç³»ç»Ÿå¯ä»¥åŒæ—¶å®ŒæˆæŸä¸€åŠŸèƒ½çš„èƒ½åŠ›ï¼Œé€šå¸¸ä¹Ÿç”¨QPSæ¥è¡¡é‡ã€‚ä»¥ä¸Šä¸‰ä¸ªæ€§èƒ½æŒ‡æ ‡å¾€å¾€ä¼šç›¸äº’åˆ¶çº¦ï¼Œè¿½æ±‚é«˜ååçš„ç³»ç»Ÿï¼Œå¾€å¾€å¾ˆéš¾åšåˆ°ä½å»¶è¿Ÿï¼›ç³»ç»Ÿå¹³å‡å“åº”æ—¶é—´è¾ƒé•¿æ—¶ï¼Œä¹Ÿå¾ˆéš¾æé«˜QPSã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.3.2 å¯ç”¨æ€§&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ç³»ç»Ÿçš„å¯ç”¨æ€§&lt;/code&gt;æŒ‡ç³»ç»Ÿåœ¨é¢å¯¹å„ç§å¼‚å¸¸æ—¶å¯ä»¥æ­£ç¡®æä¾›æœåŠ¡çš„èƒ½åŠ›ã€‚ç³»ç»Ÿçš„å¯ç”¨æ€§å¯ä»¥ç”¨ç³»ç»ŸåœæœåŠ¡çš„æ—¶é—´ä¸æ­£å¸¸æœåŠ¡æ—¶é—´çš„æ¯”ä¾‹è¡¡é‡ï¼Œä¹Ÿå¯ä»¥ç”¨æŸåŠŸèƒ½çš„å¤±è´¥æ¬¡æ•°ä¸æˆåŠŸæ¬¡æ•°çš„æ¯”ä¾‹è¡¡é‡ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.3.3 å¯æ‰©å±•æ€§&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ç³»ç»Ÿçš„å¯ç”¨æ€§&lt;/code&gt;æŒ‡åˆ†å¸ƒå¼ç³»ç»Ÿé€šè¿‡æ‰©å±•é›†ç¾¤æœºå™¨è§„æ¨¡æé«˜ç³»ç»Ÿæ€§èƒ½ï¼ˆååã€å»¶è¿Ÿã€å¹¶å‘ï¼‰ã€å­˜å‚¨å®¹é‡ã€è®¡ç®—èƒ½åŠ›çš„ç‰¹æ€§ã€‚å¯æ‰©å±•æ€§æ—¶åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç‰¹æœ‰æ€§è´¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.3.4 ä¸€è‡´æ€§&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
åˆ†å¸ƒå¼ç³»ç»Ÿä¸ºäº†æé«˜å¯ç”¨æ€§ï¼Œæ€»æ˜¯ä¸å¯é¿å…çš„ä½¿ç”¨å‰¯æœ¬çš„æœºåˆ¶ï¼Œä»è€Œå¼•å‘å‰¯æœ¬ä¸€è‡´æ€§çš„é—®é¢˜&lt;/p&gt;

&lt;h3 id=&quot;2åˆ†å¸ƒå¼ç³»ç»ŸåŸç†&quot;&gt;2.åˆ†å¸ƒå¼ç³»ç»ŸåŸç†&lt;/h3&gt;

&lt;p&gt;&lt;br /&gt;
&lt;strong&gt;2.1 æ•°æ®åˆ†å¸ƒæ–¹å¼&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ‰€è°“åˆ†å¸ƒå¼ç³»ç»Ÿé¡¾åæ€ä¹‰å°±æ˜¯åˆ©ç”¨å¤šå°è®¡ç®—æœºååŒè§£å†³å•å°è®¡ç®—æœºæ‰€ä¸èƒ½è§£å†³çš„è®¡ç®—ã€å­˜å‚¨ç­‰é—®é¢˜&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;strong&gt;2.1.1 å“ˆå¸Œæ–¹å¼&lt;/strong&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;å“ˆå¸Œæ–¹å¼æ˜¯æœ€å¸¸è§çš„æ•°æ®åˆ†å¸ƒæ–¹å¼ï¼Œå…¶æ–¹æ³•æ˜¯æŒ‰ç…§æ•°æ®çš„æŸä¸€ç‰¹å¾è®¡ç®—å“ˆå¸Œå€¼ï¼Œå¹¶å°†å“ˆå¸Œå€¼ä¸æœºå™¨ä¸­çš„æœºå™¨å»ºç«‹æ˜ å°„å…³ç³»ï¼Œä»è€Œå°†ä¸åŒå“ˆå¸Œå€¼çš„æ•°æ®åˆ†å¸ƒåˆ°ä¸åŒçš„æœºå™¨ä¸Šã€‚æ‰€è°“æ•°æ®ç‰¹å¾å¯ä»¥æ˜¯key -value ç³»ç»Ÿä¸­çš„keyï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ä¸åº”ç”¨ä¸šåŠ¡é€»è¾‘ç›¸å…³çš„å€¼ã€‚ä¾‹å¦‚ï¼Œä¸€ç§å¸¸è§çš„å“ˆå¸Œæ–¹å¼æ˜¯æŒ‰ æ•°æ®å±äºçš„ç”¨æˆ· id è®¡ç®—å“ˆå¸Œå€¼ï¼Œé›†ç¾¤ä¸­çš„æœåŠ¡å™¨æŒ‰ 0 åˆ°æœºå™¨æ•°å‡ 1 ç¼–å·ï¼Œå“ˆå¸Œå€¼é™¤ä»¥æœåŠ¡å™¨çš„ä¸ªæ•°ï¼Œ ç»“æœçš„ä½™æ•°ä½œä¸ºå¤„ç†è¯¥æ•°æ®çš„æœåŠ¡å™¨ç¼–å·ã€‚å·¥ç¨‹ä¸­ï¼Œå¾€å¾€éœ€è¦è€ƒè™‘æœåŠ¡å™¨çš„å‰¯æœ¬å†—ä½™ï¼Œå°†æ¯æ•°å°(ä¾‹ å¦‚ 3)æœåŠ¡å™¨ç»„æˆä¸€ç»„ï¼Œç”¨å“ˆå¸Œå€¼é™¤ä»¥æ€»çš„ç»„æ•°ï¼Œå…¶ä½™æ•°ä¸ºæœåŠ¡å™¨ç»„çš„ç¼–å·ã€‚å›¾ 2-1 ç»™å‡ºäº†å“ˆå¸Œæ–¹ å¼åˆ†æ•°æ®çš„ä¸€ä¸ªä¾‹å­ï¼Œå°†æ•°æ®æŒ‰å“ˆå¸Œå€¼åˆ†é…åˆ° 4 ä¸ªèŠ‚ç‚¹ä¸Šã€‚
&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-19-02.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.1.2 æŒ‰æ•°æ®èŒƒå›´åˆ†å¸ƒ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
æŒ‰æ•°æ®èŒƒå›´åˆ†å¸ƒæ˜¯å¦ä¸€ç§å¸¸è§çš„æ•°æ®åˆ†å¸ƒæ–¹å¼ï¼Œå°†æ•°æ®æŒ‰ç‰¹å¾å€¼çš„å€¼åŸŸèŒƒå›´åˆ’åˆ†ä¸ºä¸åŒçš„åŒºé—´ï¼Œä½¿å¾—é›†ç¾¤ä¸­æ¯å°æœåŠ¡å™¨å¤„ç†ä¸åŒåŒºé—´çš„æ•°æ®ã€‚ä¾‹ 2.1.1:å·²çŸ¥æŸç³»ç»Ÿä¸­ç”¨æˆ· id çš„å€¼åŸŸèŒƒå›´æ˜¯[1,100)ï¼Œé›†ç¾¤æœ‰ 3 å°æœåŠ¡å™¨ï¼Œä½¿ç”¨æŒ‰æ•°æ®èŒƒå›´åˆ’åˆ† æ•°æ®çš„æ•°æ®åˆ†å¸ƒæ–¹å¼ã€‚å°†ç”¨æˆ· id çš„å€¼åŸŸåˆ†ä¸ºä¸‰ä¸ªåŒºé—´[1, 33),ï¼Œ[33, 90)ï¼Œ[90, 100)åˆ†åˆ«ç”± 3 å°æœåŠ¡å™¨ è´Ÿè´£å¤„ç†ã€‚å›¾ 2-3 ç»™å‡ºè¿™ä¸ªä¾‹å­çš„ç¤ºæ„å›¾ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-19-03.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ä¸å“ˆå¸Œåˆ†å¸ƒæ•°æ®çš„æ–¹å¼åªéœ€è¦è®°å½•å“ˆå¸Œå‡½æ•°åŠåˆ†æ¡¶ä¸ªæ•°(æœºå™¨æ•°)ä¸åŒï¼ŒæŒ‰æ•°æ®èŒƒå›´åˆ†å¸ƒæ•°æ® éœ€è¦è®°å½•æ‰€æœ‰çš„æ•°æ®åˆ†å¸ƒæƒ…å†µã€‚ä¸€èˆ¬çš„ï¼Œå¾€å¾€éœ€è¦ä½¿ç”¨ä¸“é—¨çš„æœåŠ¡å™¨åœ¨å†…å­˜ä¸­ç»´æŠ¤æ•°æ®åˆ†å¸ƒä¿¡æ¯ï¼Œ ç§°è¿™ç§æ•°æ®çš„åˆ†å¸ƒä¿¡æ¯ä¸ºä¸€ç§å…ƒä¿¡æ¯ã€‚ç”šè‡³å¯¹äºå¤§è§„æ¨¡çš„é›†ç¾¤ï¼Œç”±äºå…ƒä¿¡æ¯çš„è§„æ¨¡éå¸¸åºå¤§ï¼Œå•å°
è®¡ç®—æœºæ— æ³•ç‹¬ç«‹ç»´æŠ¤ï¼Œéœ€è¦ä½¿ç”¨å¤šå°æœºå™¨ä½œä¸ºå…ƒä¿¡æ¯æœåŠ¡å™¨ã€‚
&lt;br /&gt;
 ä½¿ç”¨èŒƒå›´åˆ†å¸ƒæ•°æ®çš„æ–¹å¼çš„æœ€å¤§ä¼˜ç‚¹å°±æ˜¯å¯ä»¥çµæ´»çš„æ ¹æ®æ•°æ®é‡çš„å…·ä½“æƒ…å†µæ‹†åˆ†åŸæœ‰æ•°æ®åŒºé—´ï¼Œ æ‹†åˆ†åçš„æ•°æ®åŒºé—´å¯ä»¥è¿ç§»åˆ°å…¶ä»–æœºå™¨ï¼Œä¸€æ—¦éœ€è¦é›†ç¾¤å®Œæˆè´Ÿè½½å‡è¡¡æ—¶ï¼Œä¸å“ˆå¸Œæ–¹å¼ç›¸æ¯”éå¸¸çµæ´»ã€‚ å¦å¤–ï¼Œå½“é›†ç¾¤éœ€è¦æ‰©å®¹æ—¶ï¼Œå¯ä»¥éšæ„æ·»åŠ æœºå™¨ï¼Œè€Œä¸é™ä¸ºå€å¢çš„æ–¹å¼ï¼Œåªéœ€å°†åŸæœºå™¨ä¸Šçš„éƒ¨åˆ†æ•°æ® åˆ†åŒºè¿ç§»åˆ°æ–°åŠ å…¥çš„æœºå™¨ä¸Šå°±å¯ä»¥å®Œæˆé›†ç¾¤æ‰©å®¹ã€‚
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;strong&gt;2.1.3 æŒ‰æ•°æ®é‡åˆ†å¸ƒ&lt;/strong&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;å¦ä¸€ç±»å¸¸ç”¨çš„æ•°æ®åˆ†å¸ƒæ–¹å¼åˆ™æ˜¯æŒ‰ç…§æ•°æ®é‡åˆ†å¸ƒæ•°æ®ã€‚ä¸å“ˆå¸Œæ–¹å¼å’ŒæŒ‰æ•°æ®èŒƒå›´æ–¹å¼ä¸åŒï¼Œæ•° æ®é‡åˆ†å¸ƒæ•°æ®ä¸å…·ä½“çš„æ•°æ®ç‰¹å¾æ— å…³ï¼Œè€Œæ˜¯å°†æ•°æ®è§†ä¸ºä¸€ä¸ªé¡ºåºå¢é•¿çš„æ–‡ä»¶ï¼Œå¹¶å°†è¿™ä¸ªæ–‡ä»¶æŒ‰ç…§æŸ ä¸€è¾ƒä¸ºå›ºå®šçš„å¤§å°åˆ’åˆ†ä¸ºè‹¥å¹²æ•°æ®å—(chunk)ï¼Œä¸åŒçš„æ•°æ®å—åˆ†å¸ƒåˆ°ä¸åŒçš„æœåŠ¡å™¨ä¸Šã€‚ä¸æŒ‰æ•°æ®èŒƒ å›´åˆ†å¸ƒæ•°æ®çš„æ–¹å¼ç±»ä¼¼çš„æ˜¯ï¼ŒæŒ‰æ•°æ®é‡åˆ†å¸ƒæ•°æ®ä¹Ÿéœ€è¦è®°å½•æ•°æ®å—çš„å…·ä½“åˆ†å¸ƒæƒ…å†µï¼Œå¹¶å°†è¯¥åˆ†å¸ƒä¿¡ æ¯ä½œä¸ºå…ƒæ•°æ®ä½¿ç”¨å…ƒæ•°æ®æœåŠ¡å™¨ç®¡ç†ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;strong&gt;2.1.4 ä¸€è‡´æ€§å“ˆå¸Œ&lt;/strong&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ä¸€è‡´æ€§å“ˆå¸Œ(consistent hashing)æ˜¯å¦ä¸€ä¸ªç§åœ¨å·¥ç¨‹ä¸­ä½¿ç”¨è¾ƒä¸ºå¹¿æ³›çš„æ•°æ®åˆ†å¸ƒæ–¹å¼ã€‚ä¸€è‡´æ€§å“ˆ
å¸Œæœ€åˆåœ¨ P2P ç½‘ç»œä¸­ä½œä¸ºåˆ†å¸ƒå¼å“ˆå¸Œè¡¨(DHT)çš„å¸¸ç”¨æ•°æ®åˆ†å¸ƒç®—æ³•ã€‚ä¸€è‡´æ€§å“ˆå¸Œçš„åŸºæœ¬æ–¹å¼æ˜¯ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œå‡½æ•°è®¡ç®—æ•°æ®æˆ–æ•°æ®ç‰¹å¾çš„å“ˆå¸Œå€¼ï¼Œä»¤è¯¥å“ˆå¸Œå‡½æ•°çš„è¾“å‡ºå€¼åŸŸä¸ºä¸€ä¸ªå°é—­çš„ç¯ï¼Œå³å“ˆå¸Œ å‡½æ•°è¾“å‡ºçš„æœ€å¤§å€¼æ˜¯æœ€å°å€¼çš„å‰åºã€‚å°†èŠ‚ç‚¹éšæœºåˆ†å¸ƒåˆ°è¿™ä¸ªç¯ä¸Šï¼Œæ¯ä¸ªèŠ‚ç‚¹è´Ÿè´£å¤„ç†ä»è‡ªå·±å¼€å§‹é¡º æ—¶é’ˆè‡³ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å…¨éƒ¨å“ˆå¸Œå€¼åŸŸä¸Šçš„æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.1.5 å‰¯æœ¬ä¸æ•°æ®åˆ†å¸ƒ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å‡è®¾æœ‰ 3 ä¸ªå‰¯ æœ¬æœºå™¨ï¼ŒæŸæ—¶åˆ»å…¶ä¸­æŸå°æœºå™¨ç£ç›˜æŸåï¼Œä¸¢å¤±äº†å…¨éƒ¨æ•°æ®ï¼Œæ­¤æ—¶ä½¿ç”¨æ–°çš„æœºå™¨æ›¿ä»£æ•…éšœæœºå™¨ï¼Œä¸ºäº† æ˜¯çš„æ–°æœºå™¨ä¹Ÿå¯ä»¥æä¾›æœåŠ¡ï¼Œéœ€è¦ä»æ­£å¸¸çš„ä¸¤å°æœºå™¨ä¸Šæ‹·è´æ•°æ®ã€‚æ­¤ç§å…¨ç›˜æ‹·è´æ•°æ®ä¸€èˆ¬éƒ½è¾ƒä¸ºæ¶ˆ è€—èµ„æºï¼Œä¸ºäº†ä¸å½±å“æœåŠ¡è´¨é‡ï¼Œå®è·µä¸­å¾€å¾€é‡‡ç”¨ä¸¤ç§æ–¹å¼:ä¸€ã€å°†ä¸€å°å¯ç”¨çš„å‰¯æœ¬æœºå™¨ä¸‹çº¿ï¼Œä¸“é—¨ ä½œä¸ºæ•°æ®æºæ‹·è´æ•°æ®ï¼Œè¿™æ ·åšçš„ç¼ºç‚¹æ˜¯é€ æˆå®é™…æ­£å¸¸å‰¯æœ¬æ•°åªæœ‰ 1 ä¸ªï¼Œå¯¹æ•°æ®å®‰å…¨æ€§é€ æˆå·¨å¤§éšæ‚£ï¼Œ ä¸”å¦‚æœæœåŠ¡ç”±äºåˆ†å¸ƒå¼åè®®è®¾è®¡æˆ–å‹åŠ›çš„è¦æ±‚å¿…é¡» 2 ä¸ªå‰¯æœ¬æ‰èƒ½æ­£å¸¸å·¥ä½œï¼Œåˆ™è¯¥åšæ³•å®Œå…¨ä¸å¯è¡Œã€‚ äºŒã€ä»¥è¾ƒä½çš„èµ„æºä½¿ç”¨é™é€Ÿçš„æ–¹æ³•ä»ä¸¤ä¸ªæ­£å¸¸å‰¯æœ¬ä¸Šæ‹·è´æ•°æ®ï¼Œæ­¤æ–¹æ³•ä¸åœæœåŠ¡ï¼Œä½†å¯ä»¥é€‰æ‹©æœåŠ¡ å‹åŠ›è¾ƒå°çš„æ—¶æ®µè¿›è¡Œã€‚è¯¥æ–¹æ³•çš„ç¼ºç‚¹æ˜¯é€Ÿåº¦è¾ƒæ…¢ï¼Œå¦‚æœéœ€è¦æ¢å¤çš„æ•°æ®é‡å·¨å¤§(ä¾‹å¦‚æ•° T)ï¼Œé™é€Ÿ è¾ƒå°(ä¾‹å¦‚ 10MB/s)ï¼Œå¾€å¾€éœ€è¦æ•°å¤©æ‰èƒ½å¤Ÿå®Œæˆæ¢å¤ã€‚
æ›´åˆé€‚çš„åšæ³•ä¸æ˜¯ä»¥æœºå™¨ä½œä¸ºå‰¯æœ¬å•ä½ï¼Œè€Œæ˜¯å°†æ•°æ®æ‹†ä¸ºè¾ƒåˆç†çš„æ•°æ®æ®µï¼Œä»¥æ•°æ®æ®µä¸ºå•ä½ä½œ ä¸ºå‰¯æœ¬ã€‚å®è·µä¸­ï¼Œå¸¸å¸¸ä½¿å¾—æ¯ä¸ªæ•°æ®æ®µçš„å¤§å°å°½é‡ç›¸ç­‰ä¸”æ§åˆ¶åœ¨ä¸€å®šçš„å¤§å°ä»¥å†…ã€‚æ•°æ®æ®µæœ‰å¾ˆå¤šä¸ åŒçš„ç§°è°“ï¼Œsegmentï¼Œfragmentï¼Œchunkï¼Œpartition ç­‰ç­‰ã€‚æ•°æ®æ®µçš„é€‰æ‹©ä¸æ•°æ®åˆ†å¸ƒæ–¹å¼ç›´æ¥ç›¸å…³ã€‚å¯¹ äºå“ˆå¸Œåˆ†æ•°æ®çš„æ–¹å¼ï¼Œæ¯ä¸ªå“ˆå¸Œåˆ†æ¡¶åçš„ä½™æ•°å¯ä»¥ä½œä¸ºä¸€ä¸ªæ•°æ®æ®µï¼Œä¸ºäº†æ§åˆ¶æ•°æ®æ®µçš„å¤§å°ï¼Œå¸¸å¸¸ ä½¿å¾—åˆ†æ¡¶ä¸ªæ•°å¤§äºé›†ç¾¤è§„æ¨¡ã€‚ä¾‹å¦‚ï¼Œæœ‰ 3 å°æœåŠ¡å™¨ï¼Œ10G æ•°æ®ï¼Œä¸ºäº†ä½¿å¾—æ¯ä¸ªæ•°æ®æ®µéƒ½æ˜¯ 100M å·¦ å³å¤§å°ï¼Œå“ˆå¸ŒåæŒ‰ 100 å–æ¨¡ï¼Œå¾— 1000 ä¸ªæ•°æ®æ®µï¼Œæ¯å°æœåŠ¡å™¨å¯ä»¥è´Ÿè´£ 333 ä¸ªæ•°æ®æ®µã€‚å¯¹äºæŒ‰æ•°æ®èŒƒ å›´åˆ†å¸ƒæ•°æ®çš„æ–¹å¼ï¼Œå¯ä»¥å°†æ¯ä¸ªæ•°æ®åŒºé—´ä½œä¸ºä¸€ä¸ªæ•°æ®æ®µï¼Œå¹¶æ§åˆ¶æ•°æ®åŒºé—´ä¸­æ•°æ®çš„å¤§å°ã€‚å¯¹äºæŒ‰ æ•°æ®é‡åˆ†æ•°æ®çš„æ–¹å¼ï¼Œå¯ä»¥è‡ªç„¶çš„æŒ‰ç…§æ¯ä¸ªæ•°æ®å—ä½œä¸ºæ•°æ®æ®µã€‚å¯¹äºä¸€è‡´æ€§å“ˆå¸Œåˆ†å¸ƒæ•°æ®çš„æ–¹å¼ï¼Œ é€šå¸¸çš„åšæ³•æ˜¯è®²ä¸€è‡´æ€§å“ˆå¸Œç¯åˆ†ä¸ºè‹¥å¹²ç­‰é•¿åˆ†åŒºï¼Œåˆ†åŒºä¸ªæ•°ä¸€èˆ¬è¿œå¤§äºèŠ‚ç‚¹ä¸ªæ•°ï¼Œå‡è®¾å“ˆå¸Œå‡½æ•°å‡ åŒ€ï¼Œåˆ™æ¯ä¸ªåˆ†åŒºä¸­çš„æ•°æ®å¯ä»¥ä½œä¸ºä¸€ä¸ªæ•°æ®æ®µã€‚
ä¸€æ—¦å°†æ•°æ®åˆ†ä¸ºæ•°æ®æ®µï¼Œåˆ™å¯ä»¥ä»¥æ•°æ®æ®µä¸ºå•ä½ç®¡ç†å‰¯æœ¬ï¼Œä»è€Œå‰¯æœ¬ä¸æœºå™¨ä¸å†ç¡¬ç›¸å…³ï¼Œæ¯å° æœºå™¨éƒ½å¯ä»¥è´Ÿè´£ä¸€å®šæ•°æ®æ®µçš„å‰¯æœ¬ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.1.6 æœ¬åœ°åŒ–è®¡ç®—&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å¯¹äºåˆ†å¸ƒå¼ç³»ç»Ÿè€Œè¨€ï¼Œé™¤äº†è§£å†³å¤§è§„æ¨¡å­˜å‚¨é—®é¢˜æ›´éœ€è¦è§£å†³å¤§è§„æ¨¡çš„è®¡ç®—é—®é¢˜ã€‚ç„¶è€Œè®¡ç®—ç¦»ä¸å¼€æ•° æ®ï¼Œè®¡ç®—çš„è§„æ¨¡å¾€å¾€ä¸è¾“å…¥çš„æ•°æ®é‡æˆ–è€…è®¡ç®—äº§ç”Ÿçš„ä¸­é—´ç»“æœçš„æ•°æ®é‡æ­£ç›¸å…³ã€‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œ æ•°æ®çš„åˆ†å¸ƒæ–¹å¼ä¹Ÿæ·±æ·±å½±å“ç€è®¡ç®—çš„åˆ†å¸ƒæ–¹å¼ã€‚
åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­è®¡ç®—èŠ‚ç‚¹å’Œä¿å­˜è®¡ç®—æ•°æ®çš„å­˜å‚¨èŠ‚ç‚¹å¯ä»¥åœ¨åŒä¸€å°ç‰©ç†æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥ä½äºä¸ åŒçš„ç‰©ç†æœºå™¨ã€‚å¦‚æœè®¡ç®—èŠ‚ç‚¹å’Œå­˜å‚¨èŠ‚ç‚¹ä½äºä¸åŒçš„ç‰©ç†æœºå™¨åˆ™è®¡ç®—çš„æ•°æ®éœ€è¦é€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œæ­¤ ç§æ–¹å¼çš„å¼€é”€å¾ˆå¤§ï¼Œç”šè‡³ç½‘ç»œå¸¦å®½ä¼šæˆä¸ºç³»ç»Ÿçš„æ€»ä½“ç“¶é¢ˆã€‚å¦ä¸€ç§æ€è·¯æ˜¯ï¼Œå°†è®¡ç®—å°½é‡è°ƒåº¦åˆ°ä¸å­˜ å‚¨èŠ‚ç‚¹åœ¨åŒä¸€å°ç‰©ç†æœºå™¨ä¸Šçš„è®¡ç®—èŠ‚ç‚¹ä¸Šè¿›è¡Œï¼Œè¿™ç§°ä¹‹ä¸ºæœ¬åœ°åŒ–è®¡ç®—ã€‚æœ¬åœ°åŒ–è®¡ç®—æ˜¯è®¡ç®—è°ƒåº¦çš„ä¸€ ç§é‡è¦ä¼˜åŒ–ï¼Œå…¶ä½“ç°äº†ä¸€ç§é‡è¦çš„åˆ†å¸ƒå¼è°ƒåº¦æ€æƒ³:â€œç§»åŠ¨æ•°æ®ä¸å¦‚ç§»åŠ¨è®¡ç®—â€ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.2åŸºæœ¬å‰¯æœ¬åè®®&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å‰¯æœ¬æ§åˆ¶åè®®æŒ‡æŒ‰ç‰¹å®šçš„åè®®æµç¨‹æ§åˆ¶å‰¯æœ¬æ•°æ®çš„è¯»å†™è¡Œä¸ºï¼Œä½¿å¾—å‰¯æœ¬æ»¡è¶³ä¸€å®šçš„å¯ç”¨æ€§å’Œä¸€ è‡´æ€§è¦æ±‚çš„åˆ†å¸ƒå¼åè®®ã€‚å‰¯æœ¬æ§åˆ¶åè®®è¦å…·æœ‰ä¸€å®šçš„å¯¹æŠ—å¼‚å¸¸çŠ¶æ€çš„å®¹é”™èƒ½åŠ›ï¼Œä»è€Œä½¿å¾—ç³»ç»Ÿå…·æœ‰ ä¸€å®šçš„å¯ç”¨æ€§ï¼ŒåŒæ—¶å‰¯æœ¬æ§åˆ¶åè®®è¦èƒ½æä¾›ä¸€å®šä¸€è‡´æ€§çº§åˆ«ã€‚å‰¯æœ¬åè®®åˆ†ä¸ºâ€œä¸­å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶åè®®â€å’Œâ€œå»ä¸­å¿ƒåŒ–çš„å‰¯æœ¬æ§åˆ¶åè®®â€&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.2.1 ä¸­å¿ƒåŒ–å‰¯æœ¬åè®®&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ä¸­å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶åè®®çš„åŸºæœ¬æ€è·¯æ˜¯ç”±ä¸€ä¸ªä¸­å¿ƒèŠ‚ç‚¹åè°ƒå‰¯æœ¬æ•°æ®çš„æ›´æ–°ã€ç»´æŠ¤å‰¯æœ¬ä¹‹é—´çš„ä¸€è‡´ æ€§ã€‚ä¸­å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶åè®®çš„ç¼ºç‚¹æ˜¯ç³»ç»Ÿçš„å¯ç”¨æ€§ä¾èµ–äºä¸­å¿ƒåŒ–èŠ‚ç‚¹ï¼Œå½“ ä¸­å¿ƒèŠ‚ç‚¹å¼‚å¸¸æˆ–ä¸ä¸­å¿ƒèŠ‚ç‚¹é€šä¿¡ä¸­æ–­æ—¶ï¼Œç³»ç»Ÿå°†å¤±å»æŸäº›æœåŠ¡(é€šå¸¸è‡³å°‘å¤±å»æ›´æ–°æœåŠ¡)ï¼Œæ‰€ä»¥ä¸­å¿ƒ åŒ–å‰¯æœ¬æ§åˆ¶åè®®çš„ç¼ºç‚¹æ­£æ˜¯å­˜åœ¨ä¸€å®šçš„åœæœåŠ¡æ—¶é—´ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.2.2 primary-secondary åè®®&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡ç€é‡ä»‹ç»ä¸€ç§éå¸¸å¸¸ç”¨çš„ primary-secondary(ä¹Ÿç§° primary-backup)çš„ä¸­å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶åè®®ã€‚ åœ¨ primary-secondary ç±»å‹çš„åè®®ä¸­ï¼Œå‰¯æœ¬è¢«åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œå…¶ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå‰¯æœ¬ä½œä¸º primary å‰¯æœ¬ï¼Œ é™¤ primary ä»¥å¤–çš„å‰¯æœ¬éƒ½ä½œä¸º secondary å‰¯æœ¬ã€‚ç»´æŠ¤ primary å‰¯æœ¬çš„èŠ‚ç‚¹ä½œä¸ºä¸­å¿ƒèŠ‚ç‚¹ï¼Œä¸­å¿ƒèŠ‚ç‚¹è´Ÿ è´£ç»´æŠ¤æ•°æ®çš„æ›´æ–°ã€å¹¶å‘æ§åˆ¶ã€åè°ƒå‰¯æœ¬çš„ä¸€è‡´æ€§ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.2.2.1 æ•°æ®æ›´æ–°åŸºæœ¬æµç¨‹&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æµç¨‹ 2.2.1: Primary-secondary åè®®çš„æ•°æ®æ›´æ–°æµç¨‹&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;æ•°æ®æ›´æ–°éƒ½ç”± primary èŠ‚ç‚¹åè°ƒå®Œæˆã€‚&lt;/li&gt;
  &lt;li&gt;å¤–éƒ¨èŠ‚ç‚¹å°†æ›´æ–°æ“ä½œå‘ç»™ primary èŠ‚ç‚¹&lt;/li&gt;
  &lt;li&gt;primary èŠ‚ç‚¹è¿›è¡Œå¹¶å‘æ§åˆ¶å³ç¡®å®šå¹¶å‘æ›´æ–°æ“ä½œçš„å…ˆåé¡ºåº&lt;/li&gt;
  &lt;li&gt;primary èŠ‚ç‚¹å°†æ›´æ–°æ“ä½œå‘é€ç»™ secondary èŠ‚ç‚¹&lt;/li&gt;
  &lt;li&gt;primary æ ¹æ® secondary èŠ‚ç‚¹çš„å®Œæˆæƒ…å†µå†³å®šæ›´æ–°æ˜¯å¦æˆåŠŸå¹¶å°†ç»“æœè¿”å›å¤–éƒ¨èŠ‚ç‚¹&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;2.2.2.2 æ•°æ®è¯»å–æ–¹å¼&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ•°æ®è¯»å–æ–¹å¼æ˜¯ primary-secondary ç±»åè®®éœ€è¦è§£å†³çš„ç¬¬äºŒä¸ªé—®é¢˜ã€‚ä¸æ•°æ®æ›´æ–°æµç¨‹ç±»ä¼¼ï¼Œè¯»å–æ–¹å¼ä¹Ÿä¸ä¸€è‡´æ€§é«˜åº¦ç›¸å…³ã€‚å¦‚æœåªéœ€è¦æœ€ç»ˆä¸€è‡´æ€§ï¼Œåˆ™è¯»å–ä»»ä½•å‰¯æœ¬éƒ½å¯ä»¥æ»¡è¶³éœ€æ±‚ã€‚å¦‚æœéœ€è¦ä¼š è¯ä¸€è‡´æ€§ï¼Œåˆ™å¯ä»¥ä¸ºå‰¯æœ¬è®¾ç½®ç‰ˆæœ¬å·ï¼Œæ¯æ¬¡æ›´æ–°åé€’å¢ç‰ˆæœ¬å·ï¼Œç”¨æˆ·è¯»å–å‰¯æœ¬æ—¶éªŒè¯ç‰ˆæœ¬å·ï¼Œä»è€Œ ä¿è¯ç”¨æˆ·è¯»åˆ°çš„æ•°æ®åœ¨ä¼šè¯èŒƒå›´å†…å•è°ƒé€’å¢ã€‚ä½¿ç”¨ primary-secondary æ¯”è¾ƒå›°éš¾çš„æ˜¯å®ç°å¼ºä¸€è‡´æ€§ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.2.2.3 æ•°æ®åŒæ­¥&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Primary-secondary å‹åè®®ä¸€èˆ¬éƒ½ä¼šé‡åˆ° secondary å‰¯æœ¬ä¸ primary ä¸ä¸€è‡´çš„é—®é¢˜ã€‚æ­¤æ—¶ï¼Œä¸ä¸€è‡´
çš„ secondary å‰¯æœ¬éœ€è¦ä¸ primary è¿›è¡ŒåŒæ­¥(reconcile)ã€‚
é€šå¸¸ä¸ä¸€è‡´çš„å½¢å¼æœ‰ä¸‰ç§:ä¸€ã€ç”±äºç½‘ç»œåˆ†åŒ–ç­‰å¼‚å¸¸ï¼Œsecondary ä¸Šçš„æ•°æ®è½åäº primary ä¸Šçš„ æ•°æ®ã€‚äºŒã€åœ¨æŸäº›åè®®ä¸‹ï¼Œsecondary ä¸Šçš„æ•°æ®æœ‰å¯èƒ½æ˜¯è„æ•°æ®ï¼Œéœ€è¦è¢«ä¸¢å¼ƒã€‚æ‰€è°“è„æ•°æ®æ˜¯ç”±äº primary å‰¯æœ¬æ²¡æœ‰è¿›è¡ŒæŸä¸€æ›´æ–°æ“ä½œï¼Œè€Œ secondary å‰¯æœ¬ä¸Šåè€Œè¿›è¡Œçš„å¤šä½™çš„ä¿®æ”¹æ“ä½œï¼Œä»è€Œé€ æˆ secondary å‰¯æœ¬æ•°æ®é”™è¯¯ã€‚ä¸‰ã€secondary æ˜¯ä¸€ä¸ªæ–°å¢åŠ çš„å‰¯æœ¬ï¼Œå®Œå…¨æ²¡æœ‰æ•°æ®ï¼Œéœ€è¦ä»å…¶ä»–å‰¯æœ¬ä¸Š æ‹·è´æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.2.3 å»ä¸­å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶åè®®&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å»ä¸­å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶æ˜¯å¦ä¸€ç±»è¾ƒä¸ºå¤æ‚çš„å‰¯æœ¬æ§åˆ¶åè®®ã€‚ä¸ä¸­å¿ƒåŒ–å‰¯æœ¬ç³»ç»Ÿåè®®æœ€å¤§çš„ä¸åŒæ˜¯ï¼Œå»ä¸­å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶åè®®æ²¡æœ‰ä¸­å¿ƒèŠ‚ç‚¹ï¼Œåè®®ä¸­æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½æ˜¯å®Œå…¨å¯¹ç­‰çš„ï¼ŒèŠ‚ç‚¹ä¹‹é—´é€šè¿‡å¹³ç­‰åå•† è¾¾åˆ°ä¸€è‡´ã€‚ä»è€Œå»ä¸­å¿ƒåŒ–åè®®æ²¡æœ‰å› ä¸ºä¸­å¿ƒåŒ–èŠ‚ç‚¹å¼‚å¸¸è€Œå¸¦æ¥çš„åœæœåŠ¡ç­‰é—®é¢˜ã€‚å›¾ 2-9 ç»™å‡ºäº†å»ä¸­ å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶åè®®çš„ç¤ºæ„å›¾ã€‚
&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-19-04.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ç„¶è€Œï¼Œæ²¡æœ‰ä»€ä¹ˆäº‹æƒ…æ˜¯å®Œç¾çš„ï¼Œå»ä¸­å¿ƒåŒ–åè®®çš„æœ€å¤§çš„ç¼ºç‚¹æ˜¯åè®®è¿‡ç¨‹é€šå¸¸æ¯”è¾ƒå¤æ‚ã€‚å°¤å…¶å½“ å»ä¸­å¿ƒåŒ–åè®®éœ€è¦å®ç°å¼ºä¸€è‡´æ€§æ—¶ï¼Œåè®®æµç¨‹å˜å¾—å¤æ‚ä¸”ä¸å®¹æ˜“ç†è§£ã€‚ç”±äºæµç¨‹çš„å¤æ‚ï¼Œå»ä¸­å¿ƒåŒ– åè®®çš„æ•ˆç‡æˆ–è€…æ€§èƒ½ä¸€èˆ¬ä¹Ÿè¾ƒä¸­å¿ƒåŒ–åè®®ä½ã€‚ä¸€ä¸ªä¸æ°å½“çš„æ¯”æ–¹å°±æ˜¯ï¼Œä¸­å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶åè®®ç±»ä¼¼ä¸“ åˆ¶åˆ¶åº¦ï¼Œç³»ç»Ÿæ•ˆç‡é«˜ä½†é«˜åº¦ä¾èµ–äºä¸­å¿ƒèŠ‚ç‚¹ï¼Œä¸€æ—¦ä¸­å¿ƒèŠ‚ç‚¹å¼‚å¸¸ï¼Œç³»ç»Ÿå—åˆ°çš„å½±å“è¾ƒå¤§;å»ä¸­å¿ƒåŒ– å‰¯æœ¬æ§åˆ¶åè®®ç±»ä¼¼æ°‘ä¸»åˆ¶åº¦ï¼ŒèŠ‚ç‚¹é›†ä½“åå•†ï¼Œæ•ˆç‡ä½ä¸‹ï¼Œä½†ä¸ªåˆ«èŠ‚ç‚¹çš„å¼‚å¸¸ä¸ä¼šå¯¹ç³»ç»Ÿæ€»ä½“é€ æˆå¤ª å¤§å½±å“ã€‚xd&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.3 Lease æœºåˆ¶&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Lease æœºåˆ¶æ˜¯æœ€é‡è¦çš„åˆ†å¸ƒå¼åè®®ï¼Œå¹¿æ³›åº”ç”¨äºå„ç§å®é™…çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ã€‚å³ä½¿åœ¨æŸäº›ç³»ç»Ÿä¸­ ç›¸ä¼¼çš„è®¾è®¡ä¸è¢«ç§°ä¸º leaseï¼Œä½†æˆ‘ä»¬å¯ä»¥åˆ†æå‘ç°å…¶æœ¬è´¨å°±æ˜¯ä¸€ç§ lease çš„å®ç°ã€‚æœ¬èŠ‚ä»ä¸€ä¸ªåˆ†å¸ƒå¼ cache ç³»ç»Ÿå‡ºå‘ä»‹ç»æœ€åˆçš„ lease æœºåˆ¶ï¼Œæ¥ç€åŠ ä»¥å¼•ç”³ï¼Œæ¢è®¨ lease æœºåˆ¶çš„æœ¬è´¨ã€‚æœ€åä»‹ç»äº† lease æœº åˆ¶æœ€é‡è¦çš„åº”ç”¨:åˆ¤å®šèŠ‚ç‚¹çŠ¶æ€ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.3.1 åŸºäº lease çš„åˆ†å¸ƒå¼ cache ç³»ç»Ÿ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæœ‰ä¸€ä¸ªä¸­å¿ƒæœåŠ¡å™¨èŠ‚ç‚¹ï¼Œä¸­å¿ƒæœåŠ¡å™¨å­˜å‚¨ã€ç»´æŠ¤ ç€ä¸€äº›æ•°æ®ï¼Œè¿™äº›æ•°æ®æ˜¯ç³»ç»Ÿçš„å…ƒæ•°æ®ã€‚ç³»ç»Ÿä¸­å…¶ä»–çš„èŠ‚ç‚¹é€šè¿‡è®¿é—®ä¸­å¿ƒæœåŠ¡å™¨èŠ‚ç‚¹è¯»å–ã€ä¿®æ”¹å…¶ ä¸Šçš„å…ƒæ•°æ®ã€‚ç”±äºç³»ç»Ÿä¸­å„ç§æ“ä½œéƒ½ä¾èµ–äºå…ƒæ•°æ®ï¼Œå¦‚æœæ¯æ¬¡è¯»å–å…ƒæ•°æ®çš„æ“ä½œéƒ½è®¿é—®ä¸­å¿ƒæœåŠ¡å™¨ èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä¸­å¿ƒæœåŠ¡å™¨èŠ‚ç‚¹çš„æ€§èƒ½æˆä¸ºç³»ç»Ÿçš„ç“¶é¢ˆã€‚ä¸ºæ­¤ï¼Œè®¾è®¡ä¸€ç§å…ƒæ•°æ® cacheï¼Œåœ¨å„ä¸ªèŠ‚ç‚¹ä¸Š cache å…ƒæ•°æ®ä¿¡æ¯ï¼Œä»è€Œå‡å°‘å¯¹ä¸­å¿ƒæœåŠ¡å™¨èŠ‚ç‚¹çš„è®¿é—®ï¼Œæé«˜æ€§èƒ½ã€‚è®¾è®¡çš„ cache ç³»ç»Ÿè¦èƒ½æœ€å¤§å¯èƒ½çš„å¤„ç†èŠ‚ç‚¹å®•æœºã€ç½‘ç»œä¸­æ–­ç­‰ å¼‚å¸¸ï¼Œæœ€å¤§ç¨‹åº¦çš„æé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚
ä¸ºæ­¤ï¼Œåˆ©ç”¨ lease æœºåˆ¶è®¾è®¡ä¸€å¥— cache ç³»ç»Ÿï¼Œå…¶åŸºæœ¬åŸç†ä¸ºå¦‚ä¸‹ã€‚ä¸­å¿ƒæœåŠ¡å™¨åœ¨å‘å„èŠ‚ç‚¹å‘é€æ•° æ®æ—¶åŒæ—¶å‘èŠ‚ç‚¹é¢å‘ä¸€ä¸ª leaseã€‚æ¯ä¸ª lease å…·æœ‰ä¸€ä¸ªæœ‰æ•ˆæœŸï¼Œå’Œä¿¡ç”¨å¡ä¸Šçš„æœ‰æ•ˆæœŸç±»ä¼¼ï¼Œlease ä¸Šçš„ æœ‰æ•ˆæœŸé€šå¸¸æ˜¯ä¸€ä¸ªæ˜ç¡®çš„æ—¶é—´ç‚¹ï¼Œä¾‹å¦‚ 12:00:10ï¼Œä¸€æ—¦çœŸå®æ—¶é—´è¶…è¿‡è¿™ä¸ªæ—¶é—´ç‚¹ï¼Œåˆ™ lease è¿‡æœŸå¤±æ•ˆã€‚ è¿™æ · lease çš„æœ‰æ•ˆæœŸä¸èŠ‚ç‚¹æ”¶åˆ° lease çš„æ—¶é—´æ— å…³ï¼ŒèŠ‚ç‚¹å¯èƒ½æ”¶åˆ° lease æ—¶è¯¥ lease å°±å·²ç»è¿‡æœŸå¤±æ•ˆã€‚ è¿™é‡Œé¦–å…ˆå‡è®¾ä¸­å¿ƒæœåŠ¡å™¨ä¸å„èŠ‚ç‚¹çš„æ—¶é’Ÿæ˜¯åŒæ­¥çš„ï¼Œä¸‹èŠ‚ä¸­è®¨è®ºæ—¶é’Ÿä¸åŒæ­¥å¯¹ lease çš„å½±å“ã€‚ä¸­å¿ƒæœ åŠ¡å™¨å‘å‡ºçš„ lease çš„å«ä¹‰ä¸º:åœ¨ lease çš„æœ‰æ•ˆæœŸå†…ï¼Œä¸­å¿ƒæœåŠ¡å™¨ä¿è¯ä¸ä¼šä¿®æ”¹å¯¹åº”æ•°æ®çš„å€¼ã€‚å› æ­¤ï¼Œ èŠ‚ç‚¹æ”¶åˆ°æ•°æ®å’Œ lease åï¼Œå°†æ•°æ®åŠ å…¥æœ¬åœ° Cacheï¼Œä¸€æ—¦å¯¹åº”çš„ lease è¶…æ—¶ï¼ŒèŠ‚ç‚¹å°†å¯¹åº”çš„æœ¬åœ° cache æ•°æ®åˆ é™¤ã€‚ä¸­å¿ƒæœåŠ¡å™¨åœ¨ä¿®æ”¹æ•°æ®æ—¶ï¼Œé¦–å…ˆé˜»å¡æ‰€æœ‰æ–°çš„è¯»è¯·æ±‚ï¼Œå¹¶ç­‰å¾…ä¹‹å‰ä¸ºè¯¥æ•°æ®å‘å‡ºçš„æ‰€æœ‰ lease è¶…æ—¶è¿‡æœŸï¼Œç„¶åä¿®æ”¹æ•°æ®çš„å€¼ã€‚
å…·ä½“çš„æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯èŠ‚ç‚¹ä¸€ä¸ªåŸºæœ¬æµç¨‹å¦‚ä¸‹:
æµç¨‹ 
2.3.1:åŸºäº lease çš„ cacheï¼Œå®¢æˆ·ç«¯èŠ‚ç‚¹è¯»å–å…ƒæ•°æ®&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;åˆ¤æ–­å…ƒæ•°æ®æ˜¯å¦å·²ç»å¤„äºæœ¬åœ° cache ä¸” lease å¤„äºæœ‰æ•ˆæœŸå†…
1.1 æ˜¯:ç›´æ¥è¿”å› cache ä¸­çš„å…ƒæ•°æ®
1.2 å¦:å‘ä¸­å¿ƒæœåŠ¡å™¨èŠ‚ç‚¹è¯·æ±‚è¯»å–å…ƒæ•°æ®ä¿¡æ¯ 
1.2.1 æœåŠ¡å™¨æ”¶åˆ°è¯»å–è¯·æ±‚åï¼Œè¿”å›å…ƒæ•°æ®åŠä¸€ä¸ªå¯¹åº”çš„ lease
1.2.2 å®¢æˆ·ç«¯æ˜¯å¦æˆåŠŸæ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„æ•°æ®
1.2.2.1 å¤±è´¥æˆ–è¶…æ—¶:é€€å‡ºæµç¨‹ï¼Œè¯»å–å¤±è´¥ï¼Œå¯é‡è¯•
1.2.2.2 æˆåŠŸ:å°†å…ƒæ•°æ®ä¸è¯¥å…ƒæ•°æ®çš„leaseè®°å½•åˆ°å†…å­˜ä¸­ï¼Œè¿”å›å…ƒæ•°æ®
æµç¨‹ 2.3.2:åŸºäº lease çš„ cacheï¼Œå®¢æˆ·ç«¯èŠ‚ç‚¹ä¿®æ”¹å…ƒæ•°æ®æµç¨‹&lt;/li&gt;
  &lt;li&gt;èŠ‚ç‚¹å‘æœåŠ¡å™¨å‘èµ·ä¿®æ”¹å…ƒæ•°æ®è¯·æ±‚ã€‚&lt;/li&gt;
  &lt;li&gt;æœåŠ¡å™¨æ”¶åˆ°ä¿®æ”¹è¯·æ±‚åï¼Œé˜»å¡æ‰€æœ‰æ–°çš„è¯»æ•°æ®è¯·æ±‚ï¼Œå³æ¥æ”¶è¯»è¯·æ±‚ï¼Œä½†ä¸è¿”å›æ•°æ®ã€‚ 3. æœåŠ¡å™¨ç­‰å¾…æ‰€æœ‰ä¸è¯¥å…ƒæ•°æ®ç›¸å…³çš„ lease è¶…æ—¶ã€‚&lt;/li&gt;
  &lt;li&gt;æœåŠ¡å™¨ä¿®æ”¹å…ƒæ•°æ®å¹¶å‘å®¢æˆ·ç«¯èŠ‚ç‚¹è¿”å›ä¿®æ”¹æˆåŠŸã€‚
ä¸Šè¿°æœºåˆ¶å¯ä»¥ä¿è¯å„ä¸ªèŠ‚ç‚¹ä¸Šçš„ cache ä¸ä¸­å¿ƒæœåŠ¡å™¨ä¸Šçš„ä¸­å¿ƒå§‹ç»ˆä¸€è‡´ã€‚è¿™æ˜¯å› ä¸ºä¸­å¿ƒæœåŠ¡å™¨ èŠ‚ç‚¹åœ¨å‘é€æ•°æ®çš„åŒæ—¶æˆäºˆäº†èŠ‚ç‚¹å¯¹åº”çš„ leaseï¼Œåœ¨ lease æœ‰æ•ˆæœŸå†…ï¼ŒæœåŠ¡å™¨ä¸ä¼šä¿®æ”¹æ•°æ®ï¼Œä»è€Œå®¢ æˆ·ç«¯èŠ‚ç‚¹å¯ä»¥æ”¾å¿ƒçš„åœ¨ lease æœ‰æ•ˆæœŸå†… cache æ•°æ®ã€‚ä¸Šè¿° lease æœºåˆ¶å¯ä»¥å®¹é”™çš„å…³é”®æ˜¯:æœåŠ¡å™¨ä¸€æ—¦ å‘å‡ºæ•°æ®åŠ leaseï¼Œæ— è®ºå®¢æˆ·ç«¯æ˜¯å¦æ”¶åˆ°ï¼Œä¹Ÿæ— è®ºåç»­å®¢æˆ·ç«¯æ˜¯å¦å®•æœºï¼Œä¹Ÿæ— è®ºåç»­ç½‘ç»œæ˜¯å¦æ­£å¸¸ï¼Œ æœåŠ¡å™¨åªè¦ç­‰å¾… lease è¶…æ—¶ï¼Œå°±å¯ä»¥ä¿è¯å¯¹åº”çš„å®¢æˆ·ç«¯èŠ‚ç‚¹ä¸ä¼šå†ç»§ç»­ cache æ•°æ®ï¼Œä»è€Œå¯ä»¥æ”¾å¿ƒçš„ ä¿®æ”¹æ•°æ®è€Œä¸ä¼šç ´å cache çš„ä¸€è‡´æ€§ã€‚
ä¸Šè¿°åŸºç¡€æµç¨‹æœ‰ä¸€äº›æ€§èƒ½å’Œå¯ç”¨æ€§ä¸Šçš„é—®é¢˜ï¼Œä½†å¯ä»¥å¾ˆå®¹æ˜“å°±ä¼˜åŒ–æ”¹æ€§ã€‚ä¼˜åŒ–ç‚¹ä¸€:æœåŠ¡å™¨åœ¨ ä¿®æ”¹å…ƒæ•°æ®æ—¶é¦–å…ˆè¦é˜»å¡æ‰€æœ‰æ–°çš„è¯»è¯·æ±‚ï¼Œé€ æˆæ²¡æœ‰è¯»æœåŠ¡ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢å‘å‡ºæ–°çš„ lease ä»è€Œå¼•èµ· ä¸æ–­æœ‰æ–°å®¢æˆ·ç«¯èŠ‚ç‚¹æŒæœ‰ lease å¹¶ç¼“å­˜ç€æ•°æ®ï¼Œå½¢æˆâ€œæ´»é”â€ã€‚ä¼˜åŒ–çš„æ–¹æ³•å¾ˆç®€å•ï¼ŒæœåŠ¡å™¨åœ¨è¿›å…¥ä¿® æ”¹æ•°æ®æµç¨‹åï¼Œä¸€æ—¦æ”¶åˆ°è¯»è¯·æ±‚åˆ™åªè¿”å›æ•°æ®ä½†ä¸é¢å‘ leaseã€‚ä»è€Œé€ æˆåœ¨ä¿®æ”¹æµç¨‹æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œ å®¢æˆ·ç«¯å¯ä»¥è¯»åˆ°å…ƒæ•°æ®ï¼Œåªæ˜¯ä¸èƒ½ç¼“å­˜å…ƒæ•°æ®ã€‚è¿›ä¸€æ­¥çš„ä¼˜åŒ–æ˜¯ï¼Œå½“è¿›å…¥ä¿®æ”¹æµç¨‹ï¼ŒæœåŠ¡å™¨é¢å‘çš„ lease æœ‰æ•ˆæœŸé™é€‰æ‹©ä¸ºå·²å‘å‡ºçš„ lease çš„æœ€å¤§æœ‰æ•ˆæœŸé™ã€‚è¿™æ ·åšï¼Œå®¢æˆ·ç«¯å¯ä»¥ç»§ç»­åœ¨æœåŠ¡å™¨è¿›å…¥ä¿®æ”¹ æµç¨‹åç»§ç»­ç¼“å­˜å…ƒæ•°æ®ï¼Œä½†æœåŠ¡å™¨çš„ç­‰å¾…æ‰€æœ‰ lease è¿‡æœŸçš„æ—¶é—´ä¹Ÿä¸ä¼šå› ä¸ºé¢å‘æ–°çš„ lease è€Œä¸æ–­å»¶ é•¿ã€‚å®é™…ä½¿ç”¨ä¸­ï¼Œç¬¬ä¸€å±‚ä¼˜åŒ–å°±è¶³å¤Ÿäº†ï¼Œå› ä¸ºç­‰å¾… lease è¶…æ—¶çš„æ—¶é—´ä¼šè¢«â€œä¼˜åŒ–ç‚¹äºŒâ€ä¸­çš„ä¼˜åŒ–æ–¹æ³• å¤§å¤§å‡å°‘ã€‚ä¼˜åŒ–ç‚¹äºŒ:æœåŠ¡å™¨åœ¨ä¿®æ”¹å…ƒæ•°æ®æ—¶éœ€è¦ç­‰å¾…æ‰€æœ‰çš„ lease è¿‡æœŸè¶…æ—¶ï¼Œä»è€Œé€ æˆä¿®æ”¹å…ƒæ•°æ® çš„æ“ä½œæ—¶å»¶å¤§å¤§å¢å¤§ã€‚ä¼˜åŒ–çš„æ–¹æ³•æ˜¯ï¼Œåœ¨ç­‰å¾…æ‰€æœ‰çš„ lease è¿‡æœŸçš„è¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡å™¨ä¸»åŠ¨é€šçŸ¥å„ä¸ªæŒæœ‰ lease çš„èŠ‚ç‚¹æ”¾å¼ƒ lease å¹¶æ¸…é™¤ cache ä¸­çš„æ•°æ®ï¼Œå¦‚æœæœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯è¿”å›çš„ç¡®è®¤æ”¾å¼ƒ lease çš„æ¶ˆæ¯ï¼Œ åˆ™æœåŠ¡å™¨ä¸éœ€è¦åœ¨ç­‰å¾…è¯¥ lease è¶…æ—¶ã€‚è¯¥è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå› ä¸ºå¼‚å¸¸é€ æˆæœåŠ¡å™¨é€šçŸ¥å¤±è´¥æˆ–è€…å®¢æˆ·ç«¯èŠ‚ç‚¹ å‘é€åº”ç­”æ¶ˆæ¯å¤±è´¥ï¼ŒæœåŠ¡å™¨åªéœ€ä¾ç…§åŸæœ¬çš„æµç¨‹ç­‰å¾… lease è¶…æ—¶å³å¯ï¼Œè€Œä¸ä¼šå½±å“åè®®çš„æ­£ç¡®æ€§ã€‚
æœ€åï¼Œæˆ‘ä»¬åˆ†æä¸€ä¸‹ cache æœºåˆ¶ä¸å¤šå‰¯æœ¬æœºåˆ¶çš„åŒºåˆ«ã€‚Cache æœºåˆ¶ä¸å¤šå‰¯æœ¬æœºåˆ¶çš„ç›¸ä¼¼ä¹‹å¤„éƒ½ 27&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æ˜¯å°†ä¸€ä»½æ•°æ®ä¿å­˜åœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šã€‚ä½† Cache æœºåˆ¶å´è¦ç®€å•è®¸å¤šï¼Œå¯¹äº cache çš„æ•°æ®ï¼Œå¯ä»¥éšæ—¶åˆ é™¤ ä¸¢å¼ƒï¼Œå¹¶å‘½ä¸­ cache çš„åæœä»…ä»…æ˜¯éœ€è¦è®¿é—®æ•°æ®æºè¯»å–æ•°æ®;ç„¶è€Œå‰¯æœ¬æœºåˆ¶å´ä¸ä¸€æ ·ï¼Œå‰¯æœ¬æ˜¯ä¸èƒ½ éšæ„ä¸¢å¼ƒçš„ï¼Œæ¯å¤±å»ä¸€ä¸ªå‰¯æœ¬ï¼ŒæœåŠ¡è´¨é‡éƒ½åœ¨ä¸‹é™ï¼Œä¸€æ—¦å‰¯æœ¬æ•°ä¸‹é™åˆ°ä¸€å®šç¨‹åº¦ï¼Œåˆ™å¾€å¾€æœåŠ¡å°†ä¸ å†å¯ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.5 æ—¥å¿—æŠ€æœ¯&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ—¥å¿—æŠ€æœ¯æ˜¯å®•æœºæ¢å¤çš„ä¸»è¦æŠ€æœ¯ä¹‹ä¸€[3]ã€‚æ—¥å¿—æŠ€æœ¯æœ€åˆä½¿ç”¨åœ¨æ•°æ®åº“ç³»ç»Ÿä¸­ã€‚ä¸¥æ ¼æ¥è¯´æ—¥å¿—æŠ€ æœ¯ä¸æ˜¯ä¸€ç§åˆ†å¸ƒå¼ç³»ç»Ÿçš„æŠ€æœ¯ï¼Œä½†åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿçš„å®è·µä¸­ï¼Œå´å¹¿æ³›ä½¿ç”¨äº†æ—¥å¿—æŠ€æœ¯åšå®•æœºæ¢å¤ï¼Œç”š è‡³å¦‚ BigTable ç­‰ç³»ç»Ÿå°†æ—¥å¿—ä¿å­˜åˆ°ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­è¿›ä¸€æ­¥å¢å¼ºäº†ç³»ç»Ÿå®¹é”™èƒ½åŠ›ã€‚&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/shuailaotou/booksofTN/blob/master/åˆ†å¸ƒå¼ç³»ç»ŸåŸç†ä»‹ç».pdf&quot;&gt;githubæºä»£ç &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å–œæ¬¢å°±starä¸€ä¸‹å§ï¼ğŸ‘»ğŸ‘»ğŸ‘»&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä½œè€…åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œå¦‚æœ‰é”™è¯¯æè¿°ï¼Œè¯·è¯„è®ºçº æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼ğŸ³ğŸ³ğŸ³&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Sat, 19 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/19/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E4%BB%8B%E7%BB%8D/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/19/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E4%BB%8B%E7%BB%8D/</guid>
        
        <category>åˆ†å¸ƒå¼ç³»ç»Ÿ</category>
        
        
      </item>
    
      <item>
        <title>æ•£åˆ—ç®—æ³•å®ç°Goè¯­è¨€Mapå‡½æ•°</title>
        <description>&lt;h3 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Hash&lt;/code&gt;ä¸€èˆ¬ç¿»è¯‘åšâ€œæ•£åˆ—â€ï¼Œä¹Ÿæœ‰ç›´æ¥éŸ³è¯‘ä¸ºå“ˆå¸Œçš„ï¼Œå°±æ˜¯æŠŠä»»æ„é•¿åº¦çš„è¾“å…¥ï¼ˆåˆå«åšé¢„æ˜ å°„ï¼‰ï¼Œé€šè¿‡æ•£åˆ—ç®—æ³•ï¼Œå˜æ¢æˆå›ºå®šé•¿åº¦çš„è¾“å‡ºï¼Œè¯¥è¾“å‡ºå°±æ˜¯æ•£åˆ—å€¼ï¼Œè¿™ç§è½¬åŒ–æ˜¯ä¸€ç§å‹ç¼©æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯æ•£åˆ—å€¼çš„ç©ºé—´é€šå¸¸è¿œå°äºè¾“å…¥å€¼çš„ç©ºé—´ï¼Œä¸åŒçš„è¾“å…¥å¯èƒ½ä¼šæ•£åˆ—æˆç›¸åŒçš„è¾“å‡ºï¼ŒäºŒä¸å¯èƒ½ä»æ•£åˆ—å€¼æ¥å”¯ä¸€çš„ç¡®å®šè¾“å…¥å€¼ã€‚ç®€å•çš„è¯´å°±æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;ä¸€ç§å°†ä»»æ„é•¿åº¦çš„æ¶ˆæ¯å‹ç¼©åˆ°æŸä¸€å›ºå®šé•¿åº¦çš„æ¶ˆæ¯æ‘˜è¦å‡½æ•°ã€‚&lt;/code&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;å“ˆå¸Œç®—æ³•&quot;&gt;å“ˆå¸Œç®—æ³•&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Hash&lt;/code&gt;ä¸»è¦ç”¨äºä¿¡æ¯å®‰å…¨é¢†åŸŸä¸­çš„åŠ å¯†ç®—æ³•ï¼Œå®ƒæŠŠä¸€äº›é•¿åº¦ä¸åŒçš„ä¿¡æ¯è½¬åŒ–æˆæ‚ä¹±çš„128ä½çš„ç¼–ç ï¼Œè¿™äº›ç¼–ç å€¼å«åšHASHå€¼ï¼Œä¹Ÿå¯ä»¥è¯´ï¼Œhashå°±æ˜¯æ‰¾åˆ°ä¸€ç§æ•°æ®å†…å®¹å’Œæ•°æ®å­˜æ”¾åœ°å€ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚å…·ä½“å“ˆå¸Œç®—æ³•å¯ä»¥å‚è€ƒ&lt;a href=&quot;https://www.jianshu.com/p/bf1d7eee28d0&quot;&gt;å“ˆå¸Œç®—æ³•æ€»ç»“&lt;/a&gt;è¿™ç¯‡æ–‡ç« ã€‚
&lt;br /&gt;
æ•£åˆ—è¡¨æ˜¯ä¸€ç§ç”¨äºä»¥å¸¸ç†Ÿå¹³å‡æ—¶é—´æ‰§è¡Œæ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾çš„ç®—æ³•ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æ•£åˆ—å‡½æ•°&quot;&gt;æ•£åˆ—å‡½æ•°&lt;/h3&gt;
&lt;p&gt;æ•£åˆ—è¡¨æ¯ä¸ªå…³é”®å­—è¢«å½±å°„åˆ°0ï½ArrSizeè¿™ä¸ªèŒƒå›´å†…ï¼ˆæœ¬æ–‡é€‰å–çš„æ•°ç»„é•¿åº¦ä¸º16çš„æ•°ç»„ï¼Œå–çš„å…³é”®å­—ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;1103515245&lt;/code&gt;ï¼‰ï¼Œè¿™ä¸ªæ˜ å°„å«åšæ•£åˆ—å‡½æ•°ã€‚&lt;strong&gt;ä¸Šé¢çš„ä¸¤ä¸ªå‡½æ•°å–å€¼ä¿è¯äº†ï¼Œå…³é”®å­—è¢«å½±å°„åˆ°0-15ä¸‹æ ‡æ•°ç»„çš„æ¦‚ç‡ä¸€æ ·ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;mapå®ç°åŸç†&quot;&gt;Mapå®ç°åŸç†&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªå®¹é‡ä¸º16çš„é“¾è¡¨æ•°ç»„ï¼Œä¾æ®ä¸Šé¢æ•£åˆ—å‡½æ•°çš„åŸç†ï¼Œå°†Keyå€¼ç­‰æ¦‚ç‡çš„è½¬æ¢æˆ0-16ä¹‹é—´çš„ä¸‹æ ‡å€¼ã€‚ç„¶åæ ¹æ®ä¸‹æ ‡å€¼ï¼Œå°†keyå’Œvalueæ’å…¥åˆ°å¯¹åº”çš„ä¸‹æ ‡æ•°ç»„ä¸­çš„é“¾è¡¨ä¸Šã€‚
åŸç†å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-16-01.png&quot; width=&quot;40%&quot; height=&quot;40%&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ä»£ç å®ç°&quot;&gt;ä»£ç å®ç°&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;ç»“æ„ä½“ä½œä¸ºæ•°æ®åŸŸçš„ç±»å‹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
type DM struct {
	K string
	V string
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å£°æ˜å…¨å±€å˜é‡ï¼Œä¿å­˜å¤´ç»“ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;var head *Node
var curr *Node

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å£°æ˜èŠ‚ç‚¹ç±»å‹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;type Node struct {
	//æ•°æ®åŸŸ
	Data DM
	//åœ°å€åŸŸ
	NextNode *Node
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åˆ›å»ºå¤´ç»“ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func CreateHeadNode(k string, v string) *Node {
	var node *Node = new(Node)
	//è®¾ç½®æ•°æ®åŸŸç»“æ„ä½“ä¸­çš„é”®å€¼å¯¹
	node.Data.K = k
	node.Data.V = v
	//è®¾ç½®åœ°å€åŸŸ
	node.NextNode = nil
	//ä¿å­˜å¤´ç»“ç‚¹
	head = node
	curr = node

	return node

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åœ¨æŒ‡å®šçš„èŠ‚ç‚¹(curr)åè¾¹æ·»åŠ æ–°èŠ‚ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func AddNode(k string, v string, curr *Node) *Node {
	var newNode *Node = new(Node)
	//è®¾ç½®æ–°èŠ‚ç‚¹ä¸­çš„æ•°æ®åŸŸ
	newNode.Data.K = k
	newNode.Data.V = v

	//è®¾ç½®åœ°å€åŸŸ
	newNode.NextNode = nil
	//æŒ‚æ¥èŠ‚ç‚¹
	curr.NextNode = newNode
	curr = newNode
	//è¿”å›å€¼
	return newNode
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åœ¨æŒ‡å®šçš„èŠ‚ç‚¹åè¾¹éå†é“¾è¡¨&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func ShowNodes(n *Node) {
	var node = n
	for {
		if node.NextNode == nil {
			fmt.Print(node.Data)
			break
		} else {
			fmt.Println(node.Data)
			node = node.NextNode
		}
	}

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è®¡ç®—èŠ‚ç‚¹çš„ä¸ªæ•°&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
func NodeCnt() int {
	var cnt int = 1
	var node = head
	for {
		if node.NextNode == nil {
			break
		} else {
			node = node.NextNode
			cnt = cnt + 1
		}

	}
	return cnt
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å£°æ˜å…¨å±€æ•°ç»„&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;var bultArr [16]*Node

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ç»™æ•°ç»„åˆå§‹åŒ–&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func CreateBulet() {

	var arr = [16]*Node{}
	for i := 0; i &amp;lt; 16; i++ {
	 // ä¸ºæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½åˆ›å»ºå¤´èŠ‚ç‚¹
		arr[i] = CreateHeadNode(&quot;å¤´èŠ‚ç‚¹&quot;, &quot;å¤´ç»“ç‚¹&quot;)

	}
	bultArr = arr

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å°†keyè½¬æ¢æˆæ•°ç»„ä¸‹æ ‡çš„æ•£åˆ—ç®—æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;æ­¤æ–¹æ³•ä¸ºå›ºå®šçš„æ–¹æ³•ï¼Œç§‘å­¦å®¶ç®—çš„ğŸ¤«ğŸ¤­ï¼Œå³ä¸Šé¢çš„æ•£åˆ—å‡½æ•°&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func HashCode(key string) int {
	var index int = 0
	index = int(key[0])
	for k := 0; k &amp;lt; len(key); k++ {
		index *= (1103515245 + int(key[k]))
	}
	index &amp;gt;&amp;gt;= 27
	index &amp;amp;= 16 - 1

	return index
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å‘æ•°ç»„ä¸­æ·»åŠ é”®å€¼å¯¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func AddKeyValue(k string, v string) {

	//è®¡ç®—å»ºæ‰€å¯¹åº”çš„æœ¨æ¡¶ä¸‹æ ‡
	var pos = HashCode(k)
	//è·å¾—æœ¨æ¡¶æ•°ç»„

	var head *Node = bultArr[pos]
	//å‘æŒ‡å®šä¸‹æ ‡çš„å¤´èŠ‚ç‚¹æ·»åŠ èŠ‚ç‚¹
	AddNode(k, v, head)

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è·å–æ•°æ®&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func GetValueByKey(k string) string {
	var pos = HashCode(k)
	var head *Node = bultArr[pos]
	//é€šè¿‡å¤´èŠ‚ç‚¹éå†é“¾è¡¨
	
	//æŸ¥æ‰¾å¯¹åº”ä¸‹æ ‡ä¸‹çš„é“¾è¡¨ï¼Œåˆ¤æ–­åœ¨keyä¸èŠ‚ç‚¹ä¸­çš„keyä¸€ç›´æ—¶æ‰“å°
	for {
		if head.Data.K == k {
			fmt.Println(head.Data.V)
			break
		} else {
			head = head.NextNode
			if head.NextNode == nil {

			}
		}
	}

	return &quot;&quot;
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;å“ˆå¸Œæ•£åˆ—ç®—æ³•çš„æ•°å€¼æŒ‡å®šæ•°ç»„é•¿åº¦ä¹Ÿå¯ä»¥æ˜¯32ï¼Œ64ï¼Œä½†æ˜¯å¯¹åº”çš„æ•°å­—å°±ä¸æ˜¯1103515245äº†ï¼Œæœ‰å…¶ä»–çš„æ•°ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å»æŸ¥è¯¢ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;å–œæ¬¢å°±starä¸€ä¸‹å§ï¼ğŸ‘»ğŸ‘»ğŸ‘»&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä½œè€…åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œå¦‚æœ‰é”™è¯¯æè¿°ï¼Œè¯·è¯„è®ºçº æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼ğŸ³ğŸ³ğŸ³&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Wed, 16 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/16/%E6%95%A3%E5%88%97%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0Go%E8%AF%AD%E8%A8%80Map%E5%87%BD%E6%95%B0/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/16/%E6%95%A3%E5%88%97%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0Go%E8%AF%AD%E8%A8%80Map%E5%87%BD%E6%95%B0/</guid>
        
        <category>æ•£åˆ—ç®—æ³•ï¼ŒMapå‡½æ•°</category>
        
        
      </item>
    
      <item>
        <title>GOè¯­è¨€å®ç°é“¾è¡¨çš„å¢åˆ æ”¹æŸ¥</title>
        <description>&lt;h3 id=&quot;é“¾è¡¨linked-list&quot;&gt;é“¾è¡¨ï¼ˆLinked listï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;é“¾è¡¨&lt;/code&gt;æ˜¯ä¸€ç§å¸¸è§çš„æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸€ç§&lt;code class=&quot;highlighter-rouge&quot;&gt;çº¿æ€§è¡¨&lt;/code&gt;ï¼Œä½†æ˜¯å¹¶ä¸ä¼šæŒ‰çº¿æ€§çš„é¡ºåºå­˜å‚¨æ•°æ®ï¼Œè€Œæ˜¯åœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹é‡Œå­˜å‚¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;æŒ‡é’ˆ&lt;/code&gt;ã€‚ç”±äºä¸å¿…é¡»çš„é¡ºåºå­˜å‚¨ï¼Œé“¾è¡¨åœ¨æ’å…¥çš„æ—¶å€™å¯ä»¥åˆ°è¾¾Oï¼ˆ1ï¼‰çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;å¤æ‚åº¦&lt;/code&gt;ï¼Œæ¯”å¦ä¸€ç§çº¿æ€§è¡¨é¡ºåºå¿«çš„å¤šï¼Œä½†æ˜¯æŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…è®¿é—®ç‰¹å®šç¼–å·çš„èŠ‚ç‚¹åˆ™éœ€è¦Oï¼ˆnï¼‰çš„æ—¶é—´ï¼Œè€Œé¡ºåºç›¸åº”çš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯Oï¼ˆlognï¼‰å’ŒOï¼ˆ1ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¼˜ç‚¹&quot;&gt;ä¼˜ç‚¹&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;é“¾è¡¨&lt;/code&gt;é€šå¸¸ç”±ä¸€è¿ä¸²çš„èŠ‚ç‚¹ç»„æˆï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä»»æ„çš„å®ä¾‹æ•°æ®ï¼ˆdata fieldsï¼‰å’Œä¸€æˆ–è€…ä¸¤ä¸ªç”¨æ¥æŒ‡å‘ä¸Šä¸€ä¸ªæˆ–è€…ä¸‹ä¸€ä¸ªçš„èŠ‚ç‚¹çš„ä½ç½®çš„é“¾æ¥ã€‚é“¾è¡¨æœ€æ˜æ˜¾çš„å¥½å¤„æ˜¯ï¼Œå¸¸è§„çš„æ•°å­—æ’åˆ—å…³è”é¡¹ç›®çš„æ–¹å¼å¯èƒ½ä¸åŒäºè¿™äº›æ•°æ®é¡¹ç›®åœ¨è®°å¿†ä½“æˆ–è€…ç£ç›˜ä¸Šçš„é¡ºåºï¼Œæ•°æ®çš„è®¿é—®å¾€å¾€è¦åœ¨ä¸åŒçš„æ’åˆ—ä¹¦åºä¸­è½¬æ¢ã€‚äºŒé“¾è¡¨æ˜¯ä¸€ç§è‡ªæˆ‘æŒ‡ç¤ºæ•°æ®ç±»å‹ï¼Œå› ä¸ºå®ƒåŒ…å«æŒ‡å‘å¦ä¸€ä¸ªç›¸åŒç±»å‹çš„æ•°æ®çš„æŒ‡é’ˆã€‚é“¾è¡¨å…è®¸æ’å…¥å’Œç§»é™¤è¡¨ä¸Šä»»æ„ä½ç½®çš„èŠ‚ç‚¹ï¼Œä½†æ˜¯ä¸å…è®¸éšæœºçš„å­˜å–ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åˆ†ç±»&quot;&gt;åˆ†ç±»&lt;/h3&gt;
&lt;p&gt;é“¾è¡¨æœ‰å¾ˆå¤šç§ç±»å‹ï¼š&lt;strong&gt;å•å‘é“¾è¡¨&lt;/strong&gt;ï¼Œ&lt;strong&gt;åŒå‘é“¾è¡¨&lt;/strong&gt;ï¼Œ&lt;strong&gt;å¾ªç¯é“¾è¡¨&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å•å‘é“¾è¡¨&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å®ƒåŒ…å«ä¸¤ä¸ªåŸŸï¼Œä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;ä¿¡æ¯åŸŸ&lt;/code&gt;å’Œä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;æŒ‡é’ˆåŸŸ&lt;/code&gt;ã€‚è¿™ä¸ªé“¾æ¥æŒ‡å‘åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè€Œæœ€åä¸€ä¸ªèŠ‚ç‚¹åˆ™æŒ‡å‘ä¸€ä¸ªç©ºå€¼ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-15-01.png&quot; width=&quot;80%&quot; height=&quot;100%&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;åŒå‘é“¾è¡¨&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ä¸€ç§æ›´å¤æ‚çš„é“¾è¡¨æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;â€œåŒå‘é“¾è¡¨â€&lt;/code&gt;æˆ–&lt;code class=&quot;highlighter-rouge&quot;&gt;â€œåŒé¢é“¾è¡¨â€&lt;/code&gt;ã€‚æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªè¿æ¥ï¼šä¸€ä¸ªæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œï¼ˆå½“æ­¤â€œè¿æ¥â€ä¸ºç¬¬ä¸€ä¸ªâ€œè¿æ¥â€æ—¶ï¼ŒæŒ‡å‘ç©ºå€¼æˆ–è€…ç©ºåˆ—è¡¨ï¼‰ï¼›è€Œå¦ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œï¼ˆå½“æ­¤â€œè¿æ¥â€ä¸ºæœ€åä¸€ä¸ªâ€œè¿æ¥â€æ—¶ï¼ŒæŒ‡å‘ç©ºå€¼æˆ–è€…ç©ºåˆ—è¡¨ï¼‰&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-15-02.png&quot; width=&quot;80%&quot; height=&quot;100%&quot; /&gt;

&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å¾ªç¯é“¾è¡¨&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;åœ¨ä¸€ä¸ª å¾ªç¯é“¾è¡¨ä¸­, é¦–èŠ‚ç‚¹å’Œæœ«èŠ‚ç‚¹è¢«è¿æ¥åœ¨ä¸€èµ·ã€‚è¿™ç§æ–¹å¼åœ¨å•å‘å’ŒåŒå‘é“¾è¡¨ä¸­çš†å¯å®ç°ã€‚è¦è½¬æ¢ä¸€ä¸ªå¾ªç¯é“¾è¡¨ï¼Œä½ å¼€å§‹äºä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ç„¶åæ²¿ç€åˆ—è¡¨çš„ä»»ä¸€æ–¹å‘ç›´åˆ°è¿”å›å¼€å§‹çš„èŠ‚ç‚¹ã€‚å†æ¥çœ‹å¦ä¸€ç§æ–¹æ³•ï¼Œå¾ªç¯é“¾è¡¨å¯ä»¥è¢«è§†ä¸ºâ€œæ— å¤´æ— å°¾â€ã€‚è¿™ç§åˆ—è¡¨å¾ˆåˆ©äºèŠ‚çº¦æ•°æ®å­˜å‚¨ç¼“å­˜ï¼Œ å‡å®šä½ åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­æœ‰ä¸€ä¸ªå¯¹è±¡å¹¶ä¸”å¸Œæœ›æ‰€æœ‰å…¶ä»–å¯¹è±¡è¿­ä»£åœ¨ä¸€ä¸ªéç‰¹æ®Šçš„æ’åˆ—ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;æŒ‡å‘æ•´ä¸ªåˆ—è¡¨çš„æŒ‡é’ˆå¯ä»¥è¢«ç§°ä½œè®¿é—®æŒ‡é’ˆã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-15-03.png&quot; width=&quot;80%&quot; height=&quot;100%&quot; /&gt;

&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ä»£ç å®ç°&quot;&gt;ä»£ç å®ç°&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å£°æ˜å…¨å±€å˜é‡ï¼Œä¿å­˜å¤´èŠ‚ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  //å¤´èŠ‚ç‚¹
var head *Node
//å½“å‰çš„èŠ‚ç‚¹ï¼Œå˜åŒ–çš„
var curr *Node

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å£°æ˜èŠ‚ç‚¹ç±»å‹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;type Node struct{
//æ•°æ®åŸŸ
Data  string
//åœ°å€åŸŸï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
NextNode  *Node
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åˆ›å»ºå¤´èŠ‚ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func CreateHeadNode(data string)*Node{
//åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹
 var node *Node = new(Node)
 node.Data = data
 node.NextData = nil
 //ä¿å­˜å¤´èŠ‚ç‚¹
 head = node
 //å°†curræŒ‡å‘å¤´èŠ‚ç‚¹
 curr = node
 return node
 
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ·»åŠ æ–°èŠ‚ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func AddNode(data string)*Node{
//åˆ›å»ºæ–°èŠ‚ç‚¹
var newNode *node = new(Node)
// æ–°èŠ‚ç‚¹èµ‹å€¼
newNode.Data = data
newNode.NextNode = nil
//å°†å½“å‰èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºçš„å¤´èŠ‚ç‚¹ æˆ–è€…è¦æ·»åŠ çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„NextNodeæŒ‡å‘æ–°èŠ‚ç‚¹newNode
curr.NextNode = newNode
// å°†æ–°èŠ‚ç‚¹èµ‹å€¼ç»™currèŠ‚ç‚¹
curr = newNode
 return newNode

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;éå†é“¾è¡¨&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func ShowNodes{
//å°†å¤´èŠ‚ç‚¹èµ‹å€¼ç»™nodeèŠ‚ç‚¹
var node = head

for {
 
 //å¦‚æœå¤´èŠ‚ç‚¹çš„åœ°å€åŸŸä¸ºç©ºï¼Œé‚£ä¹ˆè¿™ä¸ªé“¾è¡¨åªæœ‰å¤´ï¼Œç›´æ¥æ‰“å°
 if node.NextNode == nil{
  fmt.Print(node.Data)
  break
 }else{
 //å°†ä¸‹ä¸€ä¸ªèŠ‚ç‚¹èµ‹å€¼ç»™node
 fmt.Println(node.Data)
 node = node.NextNode
 } 
}
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è®¡ç®—èŠ‚ç‚¹çš„ä¸ªæ•°&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func NodeCnt() int {
	var cnt int = 1
	var node = head
	for {
		if node.NextNode == nil {
			break
		} else {
			node = node.NextNode
			cnt = cnt + 1
		}

	}
	return cnt
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ’å…¥èŠ‚ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func InsertNodeByIndex(index int,data string) *Node{
//åœ¨ç¬¬ä¸€ä¸ªä½ç½®æ’å…¥
if index == 0{
 var node *Node = new(Node)
 node.Data = data
// å°†æ–°èŠ‚ç‚¹çš„åœ°å€åŸŸæŒ‡å‘åŸæ¥çš„å¤´èŠ‚ç‚¹
 node.NextNode = head
 å°†æ–°èŠ‚ç‚¹è®¾ä¸ºå¤´èŠ‚ç‚¹
 head = node
}else if (index &amp;gt; NodeCnt()- 1){ // åœ¨å°¾éƒ¨æ’å…¥
 AddNode(data)
}else{

var n = head
//éå†æ‰¾åˆ°è¦æ’å…¥èŠ‚ç‚¹çš„ä½ç½®çš„èŠ‚ç‚¹
for (i:= 0;i&amp;lt; index -1;i++)
{
  n = n.NextNode
}

var newNode *Node = new(Node)
newNode.Data  = data
//å°†æ–°èŠ‚ç‚¹çš„åœ°å€åŸŸæŒ‡å‘ä¸‹æ‰¾åˆ°èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
newNode.NextNode = n.NextNode
//å°†æ‰¾åˆ°èŠ‚ç‚¹çš„åœ°å€åŸŸæŒ‡å‘æ–°èŠ‚ç‚¹
n.NextNode = newNode
}
return nil

}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åˆ é™¤èŠ‚ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func DeleteNodeByIndex(index int){
 
 var node = head
 if index == 0{
 //åˆ é™¤å¤´èŠ‚ç‚¹ï¼Œå°±æ˜¯ç¬¬äºŒä¸ªèŠ‚ç‚¹ä¸ºå¤´èŠ‚ç‚¹
 head = node.NextNode
 }else{
 //æ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹
 for(i:=0;i&amp;lt; index-1;i++){
   node = node.NextNode
 }

 node.NextNode = node.NextNode.NextNode

 } 
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Goè¯­è¨€ä¸­æ˜¯è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œæ–­å¼€é“¾æ¥çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œåœ¨ç¨‹åºè¿è¡Œç»“æŸæ—¶è‡ªåŠ¨é”€æ¯&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;ä¿®æ”¹æŒ‡å®šèŠ‚ç‚¹å†…å®¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func UpdateNodeByIndex(index int,data string){

var node = head
if index == 0{
  head.Data = data
}else{
 for i := 0; i &amp;lt; index; i++ {
			node = node.NextNode
		}
		node.Data = data
}
 
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;æœ¬æ–‡åªæ˜¯å®ç°äº†ç®€å•çš„å•å‘é“¾è¡¨çš„åŸºæœ¬æ“ä½œï¼Œä¸‹ä¸€ç« å°†è®²è¿°ä¸€ä¸‹é“¾è¡¨çš„å®é™…åº”ç”¨ä¹‹ä¸€ï¼ŒMapçš„å®ç°åŸç†å³è¡Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;Hashæ•£åˆ—åŸç†&lt;/code&gt;ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/shuailaotou/MyHashMap&quot;&gt;githubæºä»£ç &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å–œæ¬¢å°±starä¸€ä¸‹å§ï¼ğŸ‘»ğŸ‘»ğŸ‘»&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä½œè€…åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œå¦‚æœ‰é”™è¯¯æè¿°ï¼Œè¯·è¯„è®ºçº æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼ğŸ³ğŸ³ğŸ³&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Wed, 16 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/16/GO%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E9%93%BE%E8%A1%A8%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/16/GO%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E9%93%BE%E8%A1%A8%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/</guid>
        
        <category>é“¾è¡¨</category>
        
        
      </item>
    
      <item>
        <title>ä½¿ç”¨JavaScriptå®ç°æ™ºèƒ½åˆçº¦demo</title>
        <description>&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &quot;use strict&quot;
 //å£°æ˜ä¸€ä¸ªç±»ï¼Œæœ‰ä¸‰ä¸ªå±æ€§ï¼Œç›¸å½“äºMVCä¸­çš„Model
var DictionItem = function(text){
   if(text){
     //å°†å­—ç¬¦ä¸²è½¬æ¢æˆJsonå­—ç¬¦ä¸²
   var obj = Json.para(text);
    this.key = obj.key;
    this.value = obj.value;
    this.author = obj.author;
   }else{
    this.key = &quot;&quot;;
    this.value = &quot;&quot;;
    this.author = &quot;&quot;;
   }
 } ,
 //ç›¸å½“äºMVCä¸­çš„Cæ–¹æ³•ï¼Œå†…éƒ¨çš„æ–¹æ³•å®ç°å°†å¯¹è±¡è½¬åŒ–æˆJsonå­—ç¬¦ä¸²
DictionItem.prototype = {
  toString:function(){
    return JSON.stringify(this)
  }
}
//åˆ›å»ºäº†ä¸€ä¸ªç±»ï¼Œç±»åå­—æ˜¯superDiction,
 //éƒ¨ç½²ä¸€ä¸ªåˆçº¦ä¼šåˆ›å»ºä¸€ä¸ªsuperDictionå¯¹è±¡ï¼Œé€šè¿‡åˆçº¦åœ°å€å¯ä»¥æ‰¾åˆ°æ”¹å¯¹è±¡
 //åˆçº¦åœ°å€å¯ä»¥ç†è§£æˆï¼Œåœ¨åŒºå—é“¾ä¸Šå­˜å‚¨æ”¹å¯¹è±¡çš„ç©ºé—´åœ°å€
 //æ¯æ¬¡éƒ¨ç½²åˆçº¦éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„åˆçº¦å¯¹è±¡ï¼Œå¹¶ä¸”å¯¹åº”ä¸€ä¸ªæ–°çš„åˆçº¦åœ°å€
 var superDiction:function(){
   //å®šä¹‰äº†ä¸€ä¸ªsuperDictionå¯¹è±¡çš„å±æ€§ï¼Œå±æ€§ç±»å‹ä¸ºå­—å…¸ï¼Œå¯¹åº”çš„åå­—æ˜¯repo
LocalContractStorage.defineMapProperty(this,&quot;repo&quot;,{
     //ç›¸å½“äºgetæ–¹æ³•ï¼Œgetè¯»å–æ•°æ®çš„æ—¶å€™ï¼Œä¼šè®²Jsonå­—ç¬¦ä¸²è½¬æ¢æˆDictionItemå¯¹è±¡
   parse:function(text){
   return new DictionItem(text);
   }
   //ç›¸å½“äºsetæ–¹æ³•ï¼Œputæˆ–è€…setæ–¹æ³•çš„æ—¶å€™ï¼Œä¼šè®²å¯¹è±¡è½¬æ¢æˆJsonå¯¹è±¡ï¼Œå¹¶ä¸”å†™åˆ°é“¾ä¸Š
   stringify:function(o){
    return  Json.stringify(o)
   }
   });
 }, 
  superDiction.prototype ={
  init:function(){
  }
  save:function:(key,value){
    //å»æ‰ç©ºæ ¼
  var key = key.trim();
  var value = key.trim();
  if(key == &quot;&quot;||value ==&quot;&quot;)
  {
     throw new ERROR(&quot;ä¸èƒ½ä¸ºç©º&quot;);
  }
  if(key.length&amp;gt;64||key.value&amp;gt;64)
   throw new ERROR(&quot;é•¿åº¦è¶…æ ‡&quot;);
  }
  //è‡ªåŠ¨è·å–å½“å‰ç™»é™†é’±åŒ…çš„åœ°å€
  var from = Blockchain.transction.from
  //æ ¹æ®å½“å‰çš„keyå€¼ï¼Œæˆ–è€…value
   var dicItem = this.repo.get(key);
   //å¦‚æœvalueå­˜åœ¨ï¼ŒæŠ›å‡ºå¼‚å¸¸
   if(dicItem){
   throw new ERROR(&quot;value å·²ç»å­˜åœ¨&quot;);
   }
   //å¦‚æœæ²¡æœ‰ï¼Œåˆ™åˆ›å»ºæ–°çš„DictionItemå¯¹è±¡å­˜å‚¨
  var dicItem = new DictionItem();
  dicItem.key = key;
  dicItem.value = value;
  dicItem.author = from;
  this.repo.put(key,dicItem);
 },
 //æŸ¥è¯¢
   get: function (key) {
        key = key.trim();
        if ( key === &quot;&quot; ) {
            throw new Error(&quot;empty key&quot;)
        }
        return this.repo.get(key);
    }
} 
 module.exports = SuperDictionary;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/shuailaotou/contract&quot;&gt;githubæºä»£ç &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å–œæ¬¢å°±starä¸€ä¸‹å§ï¼ğŸ‘»ğŸ‘»ğŸ‘»&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä½œè€…åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œå¦‚æœ‰é”™è¯¯æè¿°ï¼Œè¯·è¯„è®ºçº æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼ğŸ³ğŸ³ğŸ³&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Wed, 09 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/09/%E4%BD%BF%E7%94%A8JavaScript%E5%AE%9E%E7%8E%B0%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6demo/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/09/%E4%BD%BF%E7%94%A8JavaScript%E5%AE%9E%E7%8E%B0%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6demo/</guid>
        
        <category>æ™ºèƒ½åˆçº¦</category>
        
        
      </item>
    
      <item>
        <title>å¦‚ä½•åˆ›å»ºä¸€ä¸ªReacté¡¹ç›®ä»¥åŠå¦‚ä½•å®‰è£…ç¬¬ä¸‰æ–¹çš„åº“</title>
        <description>&lt;h2 id=&quot;åˆ›å»ºreacté¡¹ç›®&quot;&gt;åˆ›å»ºreacté¡¹ç›®&lt;/h2&gt;

&lt;h3 id=&quot;1é¦–å…ˆå®‰è£…npm&quot;&gt;1.é¦–å…ˆå®‰è£…npm&lt;/h3&gt;
&lt;p&gt;æˆ‘çš„Macæ˜¯ä½¿ç”¨brewå®‰è£…çš„
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-01.png&quot; alt=&quot;05-08-01.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;2ä½¿ç”¨npmå‘½ä»¤åˆ›å»ºapp&quot;&gt;2.ä½¿ç”¨npmå‘½ä»¤åˆ›å»ºapp&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;1.é¦–å…ˆåˆ›å»ºé¡¹ç›®æ–‡ä»¶ç›®å½•&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-02.png&quot; alt=&quot;05-08-02.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.ç„¶ååœ¨ä¸Šé¢åˆ›å»ºçš„æ–‡ä»¶ä¸‹æ‰§è¡Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;create-react-app  reactdemo&lt;/code&gt;ä»£ç &lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-03.png&quot; alt=&quot;05-08-03.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;æ³¨æ„åˆ›å»ºçš„æ–‡ä»¶å¤¹çš„åå­—ä¸èƒ½å¤§å†™&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;3ä½¿ç”¨atomæ‰“å¼€ä¸‹è½½å¥½çš„æ–‡ä»¶-atom-&quot;&gt;3.ä½¿ç”¨atomæ‰“å¼€ä¸‹è½½å¥½çš„æ–‡ä»¶ atom ./&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com//react05-08-04.png&quot; alt=&quot;05-08-04.png&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;4æ‰“å¼€ä¹‹åå°†é€‰ä¸­çš„æ–‡ä»¶åˆ é™¤&quot;&gt;4.æ‰“å¼€ä¹‹åå°†é€‰ä¸­çš„æ–‡ä»¶åˆ é™¤&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-05.png&quot; alt=&quot;05-08-05.png&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;5å°†indexjsä¸­é€‰ä¸­çš„ä»£ç åˆ é™¤&quot;&gt;5.å°†index.jsä¸­é€‰ä¸­çš„ä»£ç åˆ é™¤&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-06.png&quot; alt=&quot;05-08-06.png&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;6å°†indexjsä¸­é€‰ä¸­çš„ä»£ç æ”¹æˆ&quot;&gt;6.å°†index.jsä¸­é€‰ä¸­çš„ä»£ç æ”¹æˆ&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-07.png&quot; alt=&quot;05-08-07.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;7ä½¿ç”¨ä»£ç npm-startå¯åŠ¨reactapp&quot;&gt;7.ä½¿ç”¨ä»£ç npm startå¯åŠ¨reactapp&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-08.png&quot; alt=&quot;05-08-08.png&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;8è¿è¡Œç»“æœ&quot;&gt;8.è¿è¡Œç»“æœ&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-09.png&quot; alt=&quot;05-08-09.png&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;åˆ é™¤å®‰è£…ç¬¬ä¸‰æ–¹åŒ…&quot;&gt;åˆ é™¤å®‰è£…ç¬¬ä¸‰æ–¹åŒ…&lt;/h2&gt;

&lt;h3 id=&quot;1ä½¿ç”¨ä»£ç npm-uninstall-reactåˆ é™¤reactåŒ…&quot;&gt;1.ä½¿ç”¨ä»£ç npm uninstall reactåˆ é™¤reactåŒ…&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com//react05-08-10.png&quot; alt=&quot;05-08-10.png&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;1åŒç†ä½¿ç”¨ä»£ç npm-install-nebulaså®‰è£…nebulasåŒ…&quot;&gt;1.åŒç†ä½¿ç”¨ä»£ç npm install nebulaså®‰è£…nebulasåŒ…&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-11.png&quot; alt=&quot;05-08-11.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å®‰è£…å¥½ä¹‹åå¯ä»¥åœ¨node_modulesä¸­æ‰¾åˆ°nebulasçš„åŒ…&lt;code class=&quot;highlighter-rouge&quot;&gt;nebulasä¸ºæ˜Ÿäº‘é“¾çš„åŒ…ï¼Œæ˜Ÿäº‘é“¾ä¸ºåŒºå—é“¾çš„å…¬é“¾ï¼Œå‡†å¤‡åœ¨ä¸Šé¢å¼€å‘dappï¼Œæœ‰å¥–åŠ±å“¦ğŸ‘»&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;æ®è¯´æ‰¾å·¥ä½œgithubçš„Starå¾ˆé‡è¦ï¼Œå“ˆå“ˆå“ˆã€‚å–œæ¬¢å°±starä¸€ä¸‹å§ï¼ğŸ‘»ğŸ‘»ğŸ‘»&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä½œè€…åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œå¦‚æœ‰é”™è¯¯æè¿°ï¼Œè¯·è¯„è®ºçº æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼ğŸ³ğŸ³ğŸ³&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Tue, 08 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/08/%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAReact%E9%A1%B9%E7%9B%AE%E4%BB%A5%E5%8F%8A%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9%E7%9A%84%E5%BA%93/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/08/%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAReact%E9%A1%B9%E7%9B%AE%E4%BB%A5%E5%8F%8A%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9%E7%9A%84%E5%BA%93/</guid>
        
        <category>reacté¡¹ç›®</category>
        
        
      </item>
    
      <item>
        <title>goè¯­è¨€å®ç°äºŒå‰æœç´¢æ ‘</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;æ•´ç†ï¼šå¼ å¸… åšå®¢ : zhangshuai.ren&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;åŸºæœ¬æ¦‚å¿µä»‹ç»&quot;&gt;åŸºæœ¬æ¦‚å¿µä»‹ç»&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;æ ‘(tree)  :&lt;/strong&gt;    ä¸€ç§åˆ†å±‚çš„æ•°æ®ç»“æ„ï¼Œç±»æ¯”å®¶è°±&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;äºŒå‰æœç´¢æ ‘ï¼ˆbinary treeï¼‰ï¼š&lt;/strong&gt; å·¦èŠ‚ç‚¹çš„å€¼å‡å°äºæœ‰èŠ‚ç‚¹çš„äºŒå‰æ ‘&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;æ·±åº¦ï¼ˆdepthï¼‰ï¼š&lt;/strong&gt;ä» &lt;strong&gt;root&lt;/strong&gt;æ ¹ç»“ç‚¹åˆ°å½“å‰èŠ‚ç‚¹å”¯ä¸€è·¯å¾„çš„é•¿åº¦&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;é«˜åº¦ï¼ˆheightï¼‰ï¼š&lt;/strong&gt;ä»å½“å‰èŠ‚ç‚¹åˆ°ä¸€ç‰‡æ ‘å¶æœ€é•¿çš„è·¯å¾„çš„é•¿åº¦&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;æ ¹ï¼ˆrootï¼‰ï¼š&lt;/strong&gt;æ·±åº¦ä¸º0çš„æ ‘èŠ‚ç‚¹&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;å†…éƒ¨èŠ‚ç‚¹ï¼ˆinternal nodeï¼‰ï¼š&lt;/strong&gt;è‡³å°‘æœ‰ä¸€ä¸ªå­—èŠ‚ç‚¹çš„èŠ‚ç‚¹&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;æ ‘å¶èŠ‚ç‚¹ï¼ˆleafï¼‰ï¼š&lt;/strong&gt;æ— å­—èŠ‚ç‚¹çš„èŠ‚ç‚¹&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;å…„å¼ŸèŠ‚ç‚¹ï¼ˆsiblingï¼‰&lt;/strong&gt;ï¼šæ‹¥æœ‰ç›¸åŒçˆ¶èŠ‚ç‚¹çš„å­—èŠ‚ç‚¹æ³¢ã€&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/1-1.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;

&lt;h3 id=&quot;åº”ç”¨&quot;&gt;åº”ç”¨&lt;/h3&gt;
&lt;p&gt;æ–‡ä»¶ç³»ç»Ÿå’Œæ•°æ®åº“ç³»ç»Ÿä¸€èˆ¬éƒ½é‡‡ç”¨æ ‘ï¼ˆç‰¹åˆ«æ˜¯Bæ ‘ï¼‰çš„æ•°æ®ç»“æ„æ•°æ®ï¼Œä¸»è¦ä¸ºæ’åºå’Œæ£€ç´¢çš„æ•ˆç‡ã€‚äºŒå‰æ ‘æ˜¯ä¸€ç§æœ€åŸºæœ¬æœ€å…¸å‹çš„æ’åºæ ‘ï¼Œå¯¹äºå­¦ä¹ å’Œç ”ç©¶æ ‘çš„ç‰¹æ€§ï¼Œä½†æ˜¯æœ¬èº«å¾ˆå°‘åœ¨å®é™…ä¸­è¿›è¡Œåº”ç”¨ã€‚å°±åƒå†’æ³¡æ’åºä¸€æ ·ï¼ŒäºŒå‰æ ‘å› ä¸ºæ•ˆç‡é—®é¢˜å¹¶ä¸å®ç”¨ã€‚&lt;/p&gt;

&lt;h3 id=&quot;äºŒå‰æ ‘çš„å¸¸ç”¨æ“ä½œ&quot;&gt;äºŒå‰æ ‘çš„å¸¸ç”¨æ“ä½œ&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt; Insertï¼ˆvï¼‰ //å‘äºŒå‰æ ‘çš„åˆé€‚ä½ç½®æ’å…¥èŠ‚ç‚¹&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Remove(v). // ç§»é™¤æ ‘ä¸­æ‰€æœ‰å€¼ä¸ºvçš„èŠ‚ç‚¹&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Search(v)   //æ£€æŸ¥å€¼ä¸ºvçš„å…ƒç´ æ˜¯å¦åœ¨æ ‘ä¸­&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Min().    //è·å–äºŒå‰æ ‘ä¸­æœ€å°çš„å€¼&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Max()     //è·å–äºŒå‰æ ‘ä¸­æœ€å¤§çš„å€¼&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;InOrderTraverse()  //ä¸­åºéå†æ ‘&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;PreOrderTraverse()  //å…ˆåºéå†æ ‘&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;PostOrderTraverse() //ååºéå†æ ‘&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;String()     //åœ¨å‘½ä»¤è¡Œæ ¼å¼åŒ–æ‰“å°å‡ºäºŒå‰æ ‘&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åŒæ ·é€‚ç”¨gennyæä¾›ä»£ç çš„å¤ç”¨æ€§ï¼Œæ ‘ç±»å‹å‘½åä¸ºï¼šItemBinarySearchTree,æ ‘èŠ‚ç‚¹çš„ç»“æ„ä½“å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;åœ¨å‘½ä»¤ç«¯ä½¿ç”¨ 
go get &quot;github.com/cheekybits/genny/generic&quot; 
å‘½ä»¤è·å–è¿™ä¸ªåŒ…

import (
    &quot;fmt&quot;
    &quot;sync&quot;

    &quot;github.com/cheekybits/genny/generic&quot;  
)


type Item generic.Type   //generic.Type ä¸º&quot;github.com/cheekybits/genny/generic&quot;è¿™ä¸ªåŒ…ä¸‹é¢çš„ä¸€ä¸ªç©ºæ¥å£ç±»å‹ï¼Œtypeä¸ºgeneric.Typeèµ·åˆ«åä¸ºItem

type Node struct{
    key        int    //ä¸­åºéå†çš„èŠ‚ç‚¹åºå·
    value      Item   //èŠ‚ç‚¹å­˜å‚¨çš„å€¼
    left       *Node  //å·¦èŠ‚ç‚¹
    right      *Node   //å³é¢èŠ‚ç‚¹
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;æ’å…¥æ“ä½œä¸éå†&quot;&gt;æ’å…¥æ“ä½œä¸éå†&lt;/h3&gt;
&lt;p&gt;æ’å…¥æ“ä½œéœ€è¦ä½¿ç”¨åˆ°é€’å½’ï¼Œæ’å…¥æ“ä½œéœ€è¦ä»ä¸Šåˆ°ä¸‹çš„æŸ¥æ‰¾æ–°èŠ‚ç‚¹åœ¨æ ‘ä¸­åˆé€‚çš„ä½ç½®ï¼Œæ–°èŠ‚ç‚¹çš„å€¼å°äºä»»æ„èŠ‚ç‚¹ï¼Œåˆ™å‘å·¦å­æ ‘ç»§ç»­å¯»æ‰¾ï¼ŒåŒç†å‘å³å­æ ‘å¯»æ‰¾ï¼Œç›´åˆ°æ ‘å¶èŠ‚ç‚¹å†æ’å…¥ã€‚&lt;/p&gt;

&lt;p&gt;éå†æ“ä½œæœ‰ä¸‰ç§æ–¹å¼ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;ä¸­åºéå†(in-order)ï¼š&lt;/strong&gt;å·¦å­æ ‘ï¼ˆLï¼‰â€“&amp;gt;æ ¹èŠ‚ç‚¹(D)â€“&amp;gt;å³æ ‘(R)1-&amp;gt;2-&amp;gt;3-&amp;gt;4-&amp;gt;5-&amp;gt;6-&amp;gt;7-&amp;gt;8-&amp;gt;9-&amp;gt;10- &amp;gt;11 ï¼ˆLDRï¼‰&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;å…ˆåºéå†ï¼ˆpre-orderï¼‰ï¼š&lt;/strong&gt;æ ¹èŠ‚ç‚¹(D)â€“&amp;gt;å·¦å­æ ‘(L)â€“&amp;gt;å³æ ‘(R) 8-&amp;gt;4-&amp;gt;2-&amp;gt;1-&amp;gt;3-&amp;gt;6-&amp;gt;5-&amp;gt;7 &amp;gt;10-&amp;gt;9- &amp;gt;11ï¼ˆDLRï¼‰&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;ååºéå†ï¼ˆpre-orderï¼‰ï¼š&lt;/strong&gt;å·¦å­æ ‘(L)â€“&amp;gt;å³å­æ ‘(R)â€“&amp;gt;æ ¹èŠ‚ç‚¹ï¼ˆDï¼‰ 1-&amp;gt;3-&amp;gt;2-&amp;gt;5-&amp;gt;7-&amp;gt;6-&amp;gt;4-&amp;gt;9&amp;gt;11-&amp;gt;10- &amp;gt;8 ï¼ˆLRDï¼‰&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;æ ¹æ®æ ¹èŠ‚ç‚¹çš„ä½ç½®æ¥çœ‹æ˜¯ä»€ä¹ˆåºåˆ—éå†&lt;/em&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/1-2.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;String()&lt;/code&gt; å¯è§†åŒ–æ ‘ç»“æ„&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/1-3.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;

&lt;h3 id=&quot;ä»£ç å®ç°&quot;&gt;ä»£ç å®ç°&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Insert&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;//å‘äºŒå‰æ ‘åˆé€‚çš„ä½ç½®æ’å…¥èŠ‚ç‚¹
func (tree *ItemBinarySearchTree) Insert(key int, value Item) {

//ä¸ºäº†ç¡®ä¿æ“ä½œäºŒå‰æ ‘çš„æ•°æ®å®‰å…¨ï¼Œå¯¹æ•°æ®æ“ä½œè¿›è¡Œè¯»å†™ä¸Šé”
	tree.lock.Lock()
	defer tree.lock.Unlock()
	newNode := &amp;amp;Node{key, value, nil, nil}
//å¦‚æœå½“å‰çš„æ ‘ä¸ºç©ºï¼Œé‚£ä¹ˆæ’å…¥çš„èŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹
	if tree.root == nil {
		tree.root = newNode
	} else {
	//è°ƒç”¨ä¸‹é¢çš„æ’å…¥å‡½æ•°ï¼Œå¦èµ·ä¸€ä¸ªæ–¹æ³•ğŸ‘‡
		insertNode(tree.root, newNode)
	}

}

//æ‰¾åˆ°åˆé€‚çš„ä½ç½®
func insertNode(node, newNode *Node) {

//å½“æ–°èŠ‚ç‚¹çš„å€¼å°äºèŠ‚ç‚¹çš„å€¼çš„æ—¶å€™ï¼Œåº”è¯¥æ’å…¥åˆ°èŠ‚ç‚¹çš„å·¦ä¾§
	if newNode.key &amp;lt; node.key {
	//å¦‚æœæ—§èŠ‚ç‚¹å·¦ä¾§æ²¡æœ‰èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ—§èŠ‚ç‚¹ç›´æ¥èµ‹å€¼æ–°èŠ‚ç‚¹
		if node.left == nil {
			node.left = newNode
		} else {
		//å¦åˆ™å°†å·¦èŠ‚ç‚¹ä½œä¸ºè€èŠ‚ç‚¹ï¼Œç»§ç»­å¯»æ‰¾å·¦èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹
			insertNode(node.left, newNode)
		}
	} else {
	//ä¸ä¸Šé¢åŒç†
		if node.right == nil {
			node.right = newNode
		} else {
			insertNode(node.right, newNode)
		}
	}

}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Search&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;//æ£€æŸ¥keyçš„å…ƒç´ æ˜¯å¦å­˜åœ¨
func (tree *ItemBinarySearchTree) Search(key int) bool {

	tree.lock.Lock()
	defer tree.lock.Unlock()
	return search(tree.root, key)

}
func search(node *Node, key int) bool {

	if node == nil {
		return false
	}
  //å¦‚æœkeyçš„å€¼å°äºèŠ‚ç‚¹çš„å€¼ï¼Œé‚£ä¹ˆåº”è¯¥æ’å…¥åˆ°å·¦å­æ ‘
	if key &amp;lt; node.key {
	//å°†å·¦å­æ ‘ä½œä¸ºæ–°èŠ‚ç‚¹ï¼Œç»§ç»­æŸ¥è¯¢
		return search(node.left, key)
	}
	
	// å¦‚æœkeyçš„å€¼å¤§äºèŠ‚ç‚¹çš„å€¼ï¼Œé‚£ä¹ˆåº”è¯¥æ’å…¥å³å­æ ‘
	if key &amp;gt; node.key {
	//å°†å³å­æ ‘ä½œä¸ºæ–°èŠ‚ç‚¹ï¼Œç»§ç»­æŸ¥è¯¢
		return search(node.right, key)
	}

//å¦‚æœå½“å‰keyçš„å€¼==node.key è¿”å›true
	return true

}


&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Remove&lt;/strong&gt;&lt;/p&gt;
&lt;h5 id=&quot;åˆ é™¤èŠ‚ç‚¹çš„æµç¨‹&quot;&gt;åˆ é™¤èŠ‚ç‚¹çš„æµç¨‹&lt;/h5&gt;

&lt;p&gt;å…ˆé€’å½’æŸ¥æ‰¾ï¼Œå†åˆ é™¤èŠ‚ç‚¹ã€‚ä½†æ˜¯åœ¨åˆ é™¤æ—¶éœ€è¦æ ¹æ®èŠ‚ç‚¹æ‹¥æœ‰å­èŠ‚ç‚¹çš„æ•°é‡ï¼Œåˆ†å¦‚ä¸‹3ä¸­æƒ…å†µï¼š
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/1-4.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;h4 id=&quot;ä»£ç å®ç°-1&quot;&gt;ä»£ç å®ç°&lt;/h4&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
func (tree *ItemBinarySearchTree) remove(key int) {

	tree.lock.Lock()
	defer tree.lock.Unlock()
	remove(tree.root, key)
	
}

func remove(node *Node, key int) *Node {
	if node == nil {
		return nil
	}
	
   // å¦‚æœkey&amp;lt; node.key åˆ™å‘å·¦å¯»æ‰¾
	
	if key &amp;lt; node.key {
	
		// å°†å·¦èŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹é€’å½’ç»§ç»­å¯»æ‰¾
		
		node.left = remove(node.left, key)
		return node
	}

	// å¦‚æœkey&amp;gt; node.key åˆ™å‘å³å¯»æ‰¾

	if key &amp;gt; node.key {
	
	// å°†å³èŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹é€’å½’ç»§ç»­å¯»æ‰¾
	
		node.right = remove(node.right, key)
		return node
	}

//å¦‚æœkey==node.key åˆ¤æ–­nodeæœ‰æ²¡æœ‰å·¦å³å­æ ‘ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ç›´æ¥åˆ é™¤
	if node.left == nil &amp;amp;&amp;amp; node.right == nil {

		node = nil
		return node
	}
//å¦‚æœkey==node.key åˆ¤æ–­nodeæœ‰æ²¡æœ‰å·¦å³å­æ ‘ï¼Œå¦‚æœæœ‰å³å­æ ‘ï¼Œåˆ™å°†å³å­æ ‘ç›´æ¥èµ‹å€¼ç»™å½“å‰èŠ‚ç‚¹ï¼Œå®Œæˆè¦†ç›–åˆ é™¤
	if node.left == nil {
		node = node.right
		return node
	}
	
	//å¦‚æœkey==node.key åˆ¤æ–­nodeæœ‰æ²¡æœ‰å·¦å³å­æ ‘ï¼Œå¦‚æœæœ‰å³å­æ ‘ï¼Œåˆ™å°†å³å­æ ‘ç›´æ¥èµ‹å€¼ç»™å½“å‰èŠ‚ç‚¹ï¼Œå®Œæˆè¦†ç›–åˆ é™¤
	
	if node.right == nil {
		node = node.left
		return node
	}

	mostLeftMode := node.right
// è¦åˆ é™¤çš„èŠ‚ç‚¹æœ‰2ä¸ªå­—èŠ‚ç‚¹ï¼Œæ‰¾åˆ°å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹ï¼Œæ›¿æ¢å½“å‰èŠ‚ç‚¹ô±šô±ô²ô°ˆô°–ô°—ô°› 
	for {
	
	//ä¸€ç›´éå†æ‰¾åˆ°æœ€å·¦èŠ‚ç‚¹
		if mostLeftMode != nil &amp;amp;&amp;amp; mostLeftMode.left != nil {
			mostLeftMode = mostLeftMode.left
		} else {
			break
		}

	}

// ä½¿ç”¨å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹æ›¿æ¢å½“å‰çš„èŠ‚ç‚¹ï¼Œå³åˆ é™¤å½“å‰èŠ‚ç‚¹
	node.key, node.value = mostLeftMode.key,mostLeftMode.value

	node.right = remove(node.right, node.key)

	return node

}


&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Max&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;//è·å–æœ€å¤§èŠ‚ç‚¹å³ä¸ºäºŒå‰æ ‘æœ€å³èŠ‚ç‚¹ï¼Œæ ¹æ®äºŒå‰æ ‘çš„æ€§è´¨

func (tree *ItemBinarySearchTree) Max() *Item {

	tree.lock.Lock()
	defer tree.lock.Unlock()
	node := tree.root
	if node == nil {
		return nil
	}
	for {

		if node.right == nil {
			return &amp;amp;node.value
		}

		node = node.right
	}

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Min&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-'&quot;&gt;
// æ ¹æ®äºŒå‰æ ‘çš„æ€§è´¨,è·å–æœ€å¤§èŠ‚ç‚¹å³ä¸ºäºŒå‰æ ‘æœ€å³èŠ‚ç‚¹

func (tree *ItemBinarySearchTree) Min() *Item {

	tree.lock.Lock()
	defer tree.lock.Unlock()

	node := tree.root

	if node == nil {
		return nil
	}

	for {
		if node.left == nil {
			return &amp;amp;node.value
		} else {
			node = node.left
		}

	}

}

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;Traverse&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
// å…ˆåºéå†ï¼šæ ¹èŠ‚ç‚¹ -&amp;gt; å·¦å­æ ‘ -&amp;gt;å³å­æ ‘
func (tree *ItemBinarySearchTree) PreOrderTraverse(printFunc func(Item)) {

	tree.lock.Lock()
	defer tree.lock.Unlock()
	
	preOrderTraverse(tree.root, printFunc)

}

func preOrderTraverse(node *Node, printFunc func(Item)) {

	if node != nil {
	//å…ˆæ‰“å°æ ¹èŠ‚ç‚¹
		printFunc(node.value)
		
		//ç„¶åé€’å½’è°ƒç”¨è‡ªå·±ï¼Œå°†å·¦èŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹ï¼Œæ‰“å°
		preOrderTraverse(node.left, printFunc)
		//ç„¶åé€’å½’è°ƒç”¨è‡ªå·±ï¼Œå°†å³èŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹ï¼Œæ‰“å°
		preOrderTraverse(node.right, printFunc)

	}

}

// ä¸­åºéå†ï¼š å·¦å­æ ‘ -&amp;gt;æ ¹èŠ‚ç‚¹ -&amp;gt;å³å­æ ‘
func (tree *ItemBinarySearchTree) PostOrderTraverse(printFunc func(Item)) {

	tree.lock.Lock()
	defer tree.lock.Unlock()

	postOrderTraverse(tree.root, printFunc)

}

func postOrderTraverse(node *Node, printFunc func(Item)) {

	if node != nil {
    //é€’å½’è°ƒç”¨è‡ªå·±ï¼Œå°†å·¦èŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹ï¼Œæ‰“å°
		preOrderTraverse(node.left, printFunc)
		//æ‰“å°æ ¹èŠ‚ç‚¹
		printFunc(node.value)
		//é€’å½’è°ƒç”¨è‡ªå·±ï¼Œå°†å³èŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹ï¼Œæ‰“å°
		preOrderTraverse(node.right, printFunc)

	}

}


// ååºéå†ï¼š å·¦å­æ ‘  -&amp;gt;å³å­æ ‘-&amp;gt;æ ¹èŠ‚ç‚¹

func (tree *ItemBinarySearchTree) InOrderTraverse(printFunc func(Item)) {

	tree.lock.Lock()
	defer tree.lock.Unlock()

	inOrderTraverse(tree.root, printFunc)

}

func inOrderTraverse(node *Node, printFunc func(Item)) {

	if node != nil {
     //é€’å½’è°ƒç”¨è‡ªå·±ï¼Œå°†å·¦èŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹ï¼Œæ‰“å°
		preOrderTraverse(node.left, printFunc)
		//é€’å½’è°ƒç”¨è‡ªå·±ï¼Œå°†å³èŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹ï¼Œæ‰“å°
		preOrderTraverse(node.right, printFunc)
		//æ‰“å°æ ¹èŠ‚ç‚¹
		printFunc(node.value)

	}

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;String&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
//ååºéå†æ‰“å°æ ‘çš„ç»“æ„
func (tree *ItemBinarySearchTree) String() {
	tree.lock.Lock()
	defer tree.lock.Unlock()
	if tree.root == nil {
		println(&quot;Tree is empty&quot;)
		return
	}
	stringify(tree.root, 0)
	println(&quot;----------------------------&quot;)
}
func stringify(node *Node, level int) {
	if node == nil {
		return
	}
	format := &quot;&quot;
	for i := 0; i &amp;lt; level; i++ {
		format += &quot;\t&quot; //æ ¹æ®èŠ‚ç‚¹çš„æ·±åº¦å†³å®šç¼©è¿›é•¿åº¦

	}
	format += &quot;----[ &quot;
	level++
	//å…ˆé€’å½’æ‰“å°å·¦å­æ ‘ô±ˆô±‰ô±Šô±‹ô±Œô°Ÿô°œô°€ 
	stringify(node.left, level)
	//æ‰“å°å€¼
	fmt.Printf(format+&quot;%d\n&quot;, node.key) 
	//å†é€’å½’æ‰“å°å³å­æ ‘
	 stringify(node.right, level)
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;å¯¹äºäºŒå‰æ ‘çš„æ“ä½œï¼Œå¢åˆ æŸ¥éƒ½ä¸é€’å½’ç›¸å…³ï¼Œæ‰€ä»¥å®ç°çš„æ—¶å€™ä¸€å®šè¦åˆ†ææ¸…æ¥šé€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼Œåœ¨æ­£ç¡®çš„æ¡ä»¶ä¸‹returnï¼Œé¿å¼€æ­»å¾ªç¯ã€‚&lt;/strong&gt;&lt;/p&gt;

</description>
        <pubDate>Thu, 03 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/03/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/03/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/</guid>
        
        <category>äºŒå‰æ ‘</category>
        
        
      </item>
    
  </channel>
</rss>
