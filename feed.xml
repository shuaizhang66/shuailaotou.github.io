<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>å¼ å¸…åŒºå—é“¾åšå®¢</title>
    <description>å¼ å¸…ï¼Œæ±Ÿæ¹–äººç§°å¸…å“¥ï¼ŒåŒºå—é“¾æŠ€æœ¯å…¨èƒ½æŠ€æœ¯äººæ‰ã€‚</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Sat, 19 May 2018 18:00:49 +0800</pubDate>
    <lastBuildDate>Sat, 19 May 2018 18:00:49 +0800</lastBuildDate>
    <generator>Jekyll v3.5.1</generator>
    
      <item>
        <title>åˆ†å¸ƒå¼ç³»ç»ŸåŸç†ä»‹ç»</title>
        <description>&lt;h3 id=&quot;æ¦‚å¿µ&quot;&gt;æ¦‚å¿µ&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;1.1   æ¨¡å‹&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨åˆ†å¸ƒå¼å±‚é¢çš„åŸºæœ¬é—®é¢˜æ¨¡å‹,ä¸ºäº†æ§åˆ¶é—®é¢˜çš„è§„æ¨¡ï¼Œç²¾ç®€äº†åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ¨¡å‹ã€‚
&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-19-01.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.1  èŠ‚ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;èŠ‚ç‚¹&lt;/code&gt;æ˜¯æŒ‡ä¸€ä¸ªå¯ä»¥ç‹¬ç«‹æŒ‰ç…§åˆ†å¸ƒå¼åè®®å®Œæˆçš„ä¸€ç»„é€»è¾‘çš„ç¨‹åºä¸ªä½“ï¼Œä¸€ä¸ªèŠ‚ç‚¹å¾€å¾€æ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸Šçš„è¿›ç¨‹ã€‚
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.2 é€šä¿¡&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
èŠ‚ç‚¹ä¸èŠ‚ç‚¹ä¹‹é—´æ˜¯å®Œå…¨ç‹¬ç«‹ã€ç›¸äº’éš”ç¦»çš„ï¼ŒèŠ‚ç‚¹ä¹‹é—´ä¼ é€’ä¿¡æ¯çš„å”¯ä¸€æ–¹å¼æ˜¯é€šè¿‡ä¸å¯é çš„ç½‘ç»œè¿›è¡Œé€šä¿¡ã€‚å³ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥å‘å…¶ä»–èŠ‚ç‚¹é€šè¿‡ç½‘ç»œå‘é€æ¶ˆæ¯ï¼Œä½†æ˜¯å‘é€æ¶ˆæ¯çš„èŠ‚ç‚¹æ— æ³•ç¡®è®¤æ¶ˆæ¯æ˜¯å¦è¢«æ¥å—èŠ‚ç‚¹å®Œæ•´æ­£ç¡®çš„æ”¶åˆ°ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.3 å­˜å‚¨&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;èŠ‚ç‚¹å¯ä»¥é€šè¿‡å°†æ•°æ®å†™å…¥ä¸èŠ‚ç‚¹åœ¨åŒä¸€å°æœºå™¨çš„æœ¬åœ°å­˜å‚¨è®¾å¤‡ä¿å­˜æ•°æ®ã€‚é€šå¸¸çš„å­˜å‚¨è®¾å¤‡æœ‰ç£ç›˜ï¼ŒSSDç­‰å­˜å‚¨ã€è¯»å–æ•°æ®çš„èŠ‚ç‚¹ç§°ä¸ºæœ‰çŠ¶æ€çš„èŠ‚ç‚¹ï¼Œåä¹‹ç§°ä¸ºæ— çŠ¶æ€èŠ‚ç‚¹ã€‚å¦‚æœæŸä¸ªèŠ‚ç‚¹Aå­˜å‚¨æ•°æ®çš„æ–¹å¼æ˜¯å°†æ•°æ®é€šè¿‡ç½‘ç»œå‘é€åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹Bï¼Œç”±èŠ‚ç‚¹Bè´Ÿè´£å°†æ•°æ®å­˜å‚¨åˆ°èŠ‚ç‚¹Bçš„æœ¬åœ°å­˜å‚¨è®¾å¤‡ï¼Œé‚£ä¹ˆä¸èƒ½è®¤ä¸ºèŠ‚ç‚¹Aæ˜¯æœ‰çŠ¶æ€çš„èŠ‚ç‚¹ï¼Œè€Œåªæœ‰èŠ‚ç‚¹Bæ˜¯æœ‰çŠ¶æ€çš„èŠ‚ç‚¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4  å¼‚å¸¸&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ ¸å¿ƒé—®é¢˜ä¹‹ä¸€å°±æ˜¯å¤„ç†å„ç§å¼‚å¸¸æƒ…å†µ&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;strong&gt;1.1.4.1 æœºå™¨å®•æœº&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;å½“å‘ç”Ÿå®•æœºçš„æ—¶å€™ï¼ŒèŠ‚ç‚¹æ— æ³•è¿›å…¥æ­£å¸¸çš„å·¥ä½œçŠ¶æ€ï¼Œç§°ä¹‹ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;ä¸å¯ç”¨çŠ¶æ€&lt;/code&gt;ã€‚æœºå™¨é‡å¯åï¼ŒèŠ‚ç‚¹å¯ä»¥é€šè¿‡è¯»å–æœ¬åœ°å­˜å‚¨è®¾å¤‡ä¸­çš„ä¿¡æ¯æˆ–è€…é€šè¿‡è¯»å–å…¶ä»–èŠ‚ç‚¹æ•°æ®çš„æ–¹å¼æ¢å¤å†…å­˜ä¿¡æ¯ï¼Œä»è€Œæ¢å¤åˆ°æŸä¸€å®•æœºå‰çš„çŠ¶æ€ã€‚
æ— çŠ¶æ€çš„èŠ‚ç‚¹å¯ä»¥ç«‹å³æ¢å¤&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4.2 ç½‘ç»œå¼‚å¸¸&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;èŠ‚ç‚¹é€šè¿‡ä¸å¯é çš„ç½‘ç»œè¿›è¡Œé€šä¿¡&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4.2.1 æ¶ˆæ¯ä¸¢å¤±&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;æ¶ˆæ¯ä¸¢å¤±æ˜¯æœ€å¸¸è§çš„ç½‘ç»œå¼‚å¸¸ï¼Œåœ¨å‘ç”Ÿç½‘ç»œæ‹¥å µã€è·¯ç”±å˜åŠ¨ã€è®¾å¤‡å¼‚å¸¸ç­‰æƒ…å†µæ—¶ï¼Œéƒ½å¯èƒ½å‘ç”Ÿå‘é€çš„æ•°æ®ä¸¢å¤±ã€‚
å¦‚æœæŸäº›èŠ‚ç‚¹çš„ç›´æ¥çš„ç½‘ç»œé€šä¿¡æ­£å¸¸æˆ–ä¸¢åŒ…ç‡åœ¨åˆç†èŒƒå›´å†…ï¼Œè€ŒæŸäº› èŠ‚ç‚¹ä¹‹é—´å§‹ç»ˆæ— æ³•æ­£å¸¸é€šä¿¡ï¼Œåˆ™ç§°è¿™ç§ç‰¹æ®Šçš„ç½‘ç»œå¼‚å¸¸ä¸ºâ€œç½‘ç»œåˆ†åŒ–â€(network partition)ã€‚ç½‘ç»œåˆ† åŒ–æ˜¯ä¸€ç±»å¸¸è§çš„ç½‘ç»œå¼‚å¸¸ï¼Œå°¤å…¶å½“åˆ†å¸ƒå¼ç³»ç»Ÿéƒ¨ç½²åœ¨å¤šä¸ªæœºæˆ¿ä¹‹é—´æ—¶ã€‚å›¾ 1-1 ä¸­ï¼Œç”¨è™šçº¿åˆ†å‰²äº†ä¸¤ ç‰‡èŠ‚ç‚¹ï¼Œè¿™ä¸¤ç‰‡èŠ‚ç‚¹ä¹‹é—´å½¼æ­¤å®Œå…¨æ— æ³•é€šä¿¡ï¼Œå³å‡ºç°äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;â€œç½‘ç»œåˆ†åŒ–â€&lt;/code&gt;
ä¾‹ 1.1:æŸåˆ†å¸ƒå¼ç³»ç»Ÿéƒ¨ç½²äºä¸¤ä¸ªæœºæˆ¿ï¼Œæœºæˆ¿é—´ä½¿ç”¨å†…éƒ¨ç‹¬ç«‹å…‰çº¤é“¾è·¯ã€‚ç”±äºæœºæˆ¿é—´çš„å…‰çº¤é“¾è·¯ äº¤å‰²è°ƒæ•´ï¼Œä¸¤ä¸ªæœºæˆ¿é—´é€šä¿¡ä¸­æ–­ï¼ŒæœŸé—´ï¼Œå„æœºæˆ¿å†…çš„èŠ‚ç‚¹ç›¸äº’é€šä¿¡æ­£å¸¸ã€‚æ›´ä¸ºä¸¥é‡çš„æ˜¯ï¼Œæ‰€æœ‰çš„è‹± ç‰¹ç½‘ç”¨æˆ·éƒ½å¯ä»¥æ­£å¸¸è®¿é—®ä¸¤ä¸ªæœºæˆ¿å†…å¯¹å¤–æœåŠ¡èŠ‚ç‚¹ã€‚æœ¬æ–‡åç»­å°†è®¨è®ºå‡ºç°è¿™ç§ä¸¥é‡çš„ç½‘ç»œåˆ†åŒ–æ—¶ï¼Œ å¯¹åˆ†å¸ƒå¼ç³»ç»Ÿçš„è®¾è®¡å¸¦æ¥çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;å·¨å¤§æŒ‘æˆ˜&lt;/code&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4.2.2 æ¶ˆæ¯ä¹±åº&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;æ¶ˆæ¯ä¹±åºæ˜¯æŒ‡èŠ‚ç‚¹å‘é€çš„ç½‘ç»œæ¶ˆæ¯æœ‰ä¸€å®šçš„æ¦‚ç‡ä¸æ˜¯æŒ‰ç…§å‘é€æ—¶çš„é¡ºåºä¾æ¬¡åˆ°è¾¾ç›®çš„èŠ‚ç‚¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4.2.3 æ•°æ®é”™è¯¯&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ç½‘ç»œä¸Šä¼ è¾“çš„æ•°æ®æœ‰å¯èƒ½å‘ç”Ÿæ¯”ç‰¹é”™è¯¯ï¼Œä»è€Œé€ æˆæ•°æ®é”™è¯¯&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4.2.4 ä¸å¯é çš„TCP&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;TCPä¹Ÿä¼šå› ä¸ºä¸€äº›æç«¯æƒ…å†µå˜å¾—ä¸å¯é &lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4.3 åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸‰æ€&lt;/strong&gt;
&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ä¸€ä¸ªèŠ‚ç‚¹Aå‘å¦ä¸€ä¸ªèŠ‚ç‚¹Bå‘é€æ¶ˆæ¯ï¼ŒèŠ‚ç‚¹Bæ ¹æ®æ”¶åˆ°çš„æ¶ˆæ¯å†…å®¹å®ŒæˆæŸäº›æ“ä½œï¼Œå¹¶å°†æ“ä½œçš„ç»“æœé€šè¿‡å¦ä¸€ä¸ªæ¶ˆæ¯è¿”å›ç»™èŠ‚ç‚¹Aï¼Œé‚£ä¹ˆè¿™ä¸ªRPCçš„æ‰§è¡Œç»“æœå°±æœ‰ä¸‰ç§çŠ¶æ€ï¼šâ€œæˆåŠŸâ€ï¼Œâ€œå¤±è´¥â€ï¼Œâ€œè¶…æ—¶ï¼ˆæœªçŸ¥ï¼‰â€ï¼Œç§°ä¹‹ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸‰æ€ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4.4 å­˜å‚¨æ•°æ®ä¸¢å¤±&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ•°æ®ä¸¢å¤±æŒ‡èŠ‚ç‚¹å­˜å‚¨çš„æ•°æ®ä¸å¯è¢«è¯»å–æˆ–è¯»å–å‡ºçš„æ•°æ®é”™è¯¯ã€‚æ•°æ®ä¸¢å¤±æ˜¯å¦ä¸€ç±»å¸¸è§çš„å¼‚å¸¸ã€‚ å°¤å…¶æ˜¯ä½¿ç”¨æœºæ¢°ç¡¬ç›˜åšå­˜å‚¨ä»‹è´¨æ—¶ï¼Œç¡¬ç›˜æŸåçš„æ¦‚ç‡è¾ƒå¤§ã€‚å¯¹äºæœ‰çŠ¶æ€èŠ‚ç‚¹æ¥è¯´ï¼Œæ•°æ®ä¸¢å¤±æ„å‘³ç€ çŠ¶æ€ä¸¢å¤±ï¼Œé€šå¸¸åªèƒ½ä»å…¶ä»–èŠ‚ç‚¹è¯»å–ã€æ¢å¤å­˜å‚¨çš„çŠ¶æ€ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.1.4.6 å¼‚å¸¸çš„å¤„ç†åŸåˆ™&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;è¢«å¤§é‡å·¥ç¨‹å®è·µæ‰€æ£€éªŒçš„å¼‚å¸¸å¤„ç†é»„é‡‘åŸåˆ™æ˜¯ï¼šä»»ä½•åœ¨è®¾è®¡é˜¶æ®µè€ƒè™‘åˆ°çš„å¼‚å¸¸æƒ…å†µä¸€å®šä¼šåœ¨ç³»ç»Ÿå®é™…è¿è¡Œä¸­å‘ç”Ÿï¼Œä½†åœ¨ç³»ç»Ÿå®é™…è¿è¡Œé‡åˆ°çš„å¼‚å¸¸å´å¾ˆå¯èƒ½åœ¨è®¾è®¡æ—¶æœªèƒ½è€ƒè™‘ï¼Œæ‰€ä»¥ï¼Œé™¤ééœ€æ±‚æŒ‡æ ‡å…è®¸ï¼Œåœ¨ç³»ç»Ÿè®¾è®¡æ—¶ä¸èƒ½æ”¾è¿‡ä»»ä½•å¼‚å¸¸æƒ…å†µã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.2 å‰¯æœ¬&lt;/strong&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.2.1 å‰¯æœ¬çš„æ¦‚å¿µ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
å‰¯æœ¬æ˜¯æŒ‡åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸ºæ•°æ®æˆ–æœåŠ¡æä¾›çš„å†—ä½™ã€‚å¯¹äºæ•°æ®å‰¯æœ¬æŒ‡åœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸ŠæŒä¹…åŒ–åŒä¸€ä»½æ•°æ®ï¼Œå½“å‡ºç°æŸä¸€ä¸ªèŠ‚ç‚¹çš„å­˜å‚¨æ•°æ®ä¸¢å¤±æ—¶ï¼Œå¯ä»¥ä»å‰¯æœ¬ä¸Šè¯»åˆ°æ•°æ®ã€‚
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.2.1 å‰¯æœ¬ä¸€è‡´æ€§&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
åˆ†å¸ƒå¼ç³»ç»Ÿé€šè¿‡å‰¯æœ¬åè®®ï¼Œä½¿å¾—ä»ç³»ç»Ÿå¤–éƒ¨è¯»å–ç³»ç»Ÿå†…éƒ¨å„ä¸ªå‰¯æœ¬çš„æ•°æ® åœ¨ä¸€å®šçš„çº¦æŸæ¡ä»¶ä¸‹ç›¸åŒï¼Œç§°ä¹‹ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;å‰¯æœ¬ä¸€è‡´æ€§&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.3 è¡¡é‡åˆ†å¸ƒå¼ç³»ç»Ÿçš„æŒ‡æ ‡&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;è¯„ä»·åˆ†å¸ƒå¼ç³»ç»Ÿæœ‰ä¸€äº›å¸¸ç”¨çš„æŒ‡æ ‡ï¼ŒåŒ…æ‹¬æ€§èƒ½ï¼Œå¯ç”¨æ€§ï¼Œå¯æ‰©å±•æ€§ï¼Œä¸€è‡´æ€§&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.3.1 æ€§èƒ½&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;å¸¸è§çš„æ€§èƒ½æŒ‡æ ‡&lt;/code&gt;æœ‰ç³»ç»Ÿçš„ååèƒ½åŠ›ï¼ŒæŒ‡ç³»ç»Ÿåœ¨æŸæ®µæ—¶é—´å¯ä»¥å¤„ç†çš„æ•°æ®æ€»é‡ï¼Œé€šå¸¸å¯ä»¥ç”¨ç³»ç»Ÿç¾å¦™å¤„ç†çš„æ€»çš„æ•°æ®é‡æ¥è¡¡é‡ï¼›ç³»ç»Ÿçš„å“åº”å»¶è¿Ÿï¼ŒæŒ‡ç³»ç»Ÿå®ŒæˆæŸä¸€åŠŸèƒ½éœ€è¦ä½¿ç”¨çš„æ—¶é—´ï¼›ç³»ç»Ÿçš„å¹¶å‘èƒ½åŠ›ï¼ŒæŒ‡ç³»ç»Ÿå¯ä»¥åŒæ—¶å®ŒæˆæŸä¸€åŠŸèƒ½çš„èƒ½åŠ›ï¼Œé€šå¸¸ä¹Ÿç”¨QPSæ¥è¡¡é‡ã€‚ä»¥ä¸Šä¸‰ä¸ªæ€§èƒ½æŒ‡æ ‡å¾€å¾€ä¼šç›¸äº’åˆ¶çº¦ï¼Œè¿½æ±‚é«˜ååçš„ç³»ç»Ÿï¼Œå¾€å¾€å¾ˆéš¾åšåˆ°ä½å»¶è¿Ÿï¼›ç³»ç»Ÿå¹³å‡å“åº”æ—¶é—´è¾ƒé•¿æ—¶ï¼Œä¹Ÿå¾ˆéš¾æé«˜QPSã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.3.2 å¯ç”¨æ€§&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ç³»ç»Ÿçš„å¯ç”¨æ€§&lt;/code&gt;æŒ‡ç³»ç»Ÿåœ¨é¢å¯¹å„ç§å¼‚å¸¸æ—¶å¯ä»¥æ­£ç¡®æä¾›æœåŠ¡çš„èƒ½åŠ›ã€‚ç³»ç»Ÿçš„å¯ç”¨æ€§å¯ä»¥ç”¨ç³»ç»ŸåœæœåŠ¡çš„æ—¶é—´ä¸æ­£å¸¸æœåŠ¡æ—¶é—´çš„æ¯”ä¾‹è¡¡é‡ï¼Œä¹Ÿå¯ä»¥ç”¨æŸåŠŸèƒ½çš„å¤±è´¥æ¬¡æ•°ä¸æˆåŠŸæ¬¡æ•°çš„æ¯”ä¾‹è¡¡é‡ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.3.3 å¯æ‰©å±•æ€§&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ç³»ç»Ÿçš„å¯ç”¨æ€§&lt;/code&gt;æŒ‡åˆ†å¸ƒå¼ç³»ç»Ÿé€šè¿‡æ‰©å±•é›†ç¾¤æœºå™¨è§„æ¨¡æé«˜ç³»ç»Ÿæ€§èƒ½ï¼ˆååã€å»¶è¿Ÿã€å¹¶å‘ï¼‰ã€å­˜å‚¨å®¹é‡ã€è®¡ç®—èƒ½åŠ›çš„ç‰¹æ€§ã€‚å¯æ‰©å±•æ€§æ—¶åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç‰¹æœ‰æ€§è´¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.3.4 ä¸€è‡´æ€§&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
åˆ†å¸ƒå¼ç³»ç»Ÿä¸ºäº†æé«˜å¯ç”¨æ€§ï¼Œæ€»æ˜¯ä¸å¯é¿å…çš„ä½¿ç”¨å‰¯æœ¬çš„æœºåˆ¶ï¼Œä»è€Œå¼•å‘å‰¯æœ¬ä¸€è‡´æ€§çš„é—®é¢˜&lt;/p&gt;

&lt;h3 id=&quot;2åˆ†å¸ƒå¼ç³»ç»ŸåŸç†&quot;&gt;2.åˆ†å¸ƒå¼ç³»ç»ŸåŸç†&lt;/h3&gt;

&lt;p&gt;&lt;br /&gt;
&lt;strong&gt;2.1 æ•°æ®åˆ†å¸ƒæ–¹å¼&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ‰€è°“åˆ†å¸ƒå¼ç³»ç»Ÿé¡¾åæ€ä¹‰å°±æ˜¯åˆ©ç”¨å¤šå°è®¡ç®—æœºååŒè§£å†³å•å°è®¡ç®—æœºæ‰€ä¸èƒ½è§£å†³çš„è®¡ç®—ã€å­˜å‚¨ç­‰é—®é¢˜&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;strong&gt;2.1.1 å“ˆå¸Œæ–¹å¼&lt;/strong&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;å“ˆå¸Œæ–¹å¼æ˜¯æœ€å¸¸è§çš„æ•°æ®åˆ†å¸ƒæ–¹å¼ï¼Œå…¶æ–¹æ³•æ˜¯æŒ‰ç…§æ•°æ®çš„æŸä¸€ç‰¹å¾è®¡ç®—å“ˆå¸Œå€¼ï¼Œå¹¶å°†å“ˆå¸Œå€¼ä¸æœºå™¨ä¸­çš„æœºå™¨å»ºç«‹æ˜ å°„å…³ç³»ï¼Œä»è€Œå°†ä¸åŒå“ˆå¸Œå€¼çš„æ•°æ®åˆ†å¸ƒåˆ°ä¸åŒçš„æœºå™¨ä¸Šã€‚æ‰€è°“æ•°æ®ç‰¹å¾å¯ä»¥æ˜¯key -value ç³»ç»Ÿä¸­çš„keyï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ä¸åº”ç”¨ä¸šåŠ¡é€»è¾‘ç›¸å…³çš„å€¼ã€‚ä¾‹å¦‚ï¼Œä¸€ç§å¸¸è§çš„å“ˆå¸Œæ–¹å¼æ˜¯æŒ‰ æ•°æ®å±äºçš„ç”¨æˆ· id è®¡ç®—å“ˆå¸Œå€¼ï¼Œé›†ç¾¤ä¸­çš„æœåŠ¡å™¨æŒ‰ 0 åˆ°æœºå™¨æ•°å‡ 1 ç¼–å·ï¼Œå“ˆå¸Œå€¼é™¤ä»¥æœåŠ¡å™¨çš„ä¸ªæ•°ï¼Œ ç»“æœçš„ä½™æ•°ä½œä¸ºå¤„ç†è¯¥æ•°æ®çš„æœåŠ¡å™¨ç¼–å·ã€‚å·¥ç¨‹ä¸­ï¼Œå¾€å¾€éœ€è¦è€ƒè™‘æœåŠ¡å™¨çš„å‰¯æœ¬å†—ä½™ï¼Œå°†æ¯æ•°å°(ä¾‹ å¦‚ 3)æœåŠ¡å™¨ç»„æˆä¸€ç»„ï¼Œç”¨å“ˆå¸Œå€¼é™¤ä»¥æ€»çš„ç»„æ•°ï¼Œå…¶ä½™æ•°ä¸ºæœåŠ¡å™¨ç»„çš„ç¼–å·ã€‚å›¾ 2-1 ç»™å‡ºäº†å“ˆå¸Œæ–¹ å¼åˆ†æ•°æ®çš„ä¸€ä¸ªä¾‹å­ï¼Œå°†æ•°æ®æŒ‰å“ˆå¸Œå€¼åˆ†é…åˆ° 4 ä¸ªèŠ‚ç‚¹ä¸Šã€‚
&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-19-02.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.1.2 æŒ‰æ•°æ®èŒƒå›´åˆ†å¸ƒ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
æŒ‰æ•°æ®èŒƒå›´åˆ†å¸ƒæ˜¯å¦ä¸€ç§å¸¸è§çš„æ•°æ®åˆ†å¸ƒæ–¹å¼ï¼Œå°†æ•°æ®æŒ‰ç‰¹å¾å€¼çš„å€¼åŸŸèŒƒå›´åˆ’åˆ†ä¸ºä¸åŒçš„åŒºé—´ï¼Œä½¿å¾—é›†ç¾¤ä¸­æ¯å°æœåŠ¡å™¨å¤„ç†ä¸åŒåŒºé—´çš„æ•°æ®ã€‚ä¾‹ 2.1.1:å·²çŸ¥æŸç³»ç»Ÿä¸­ç”¨æˆ· id çš„å€¼åŸŸèŒƒå›´æ˜¯[1,100)ï¼Œé›†ç¾¤æœ‰ 3 å°æœåŠ¡å™¨ï¼Œä½¿ç”¨æŒ‰æ•°æ®èŒƒå›´åˆ’åˆ† æ•°æ®çš„æ•°æ®åˆ†å¸ƒæ–¹å¼ã€‚å°†ç”¨æˆ· id çš„å€¼åŸŸåˆ†ä¸ºä¸‰ä¸ªåŒºé—´[1, 33),ï¼Œ[33, 90)ï¼Œ[90, 100)åˆ†åˆ«ç”± 3 å°æœåŠ¡å™¨ è´Ÿè´£å¤„ç†ã€‚å›¾ 2-3 ç»™å‡ºè¿™ä¸ªä¾‹å­çš„ç¤ºæ„å›¾ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-19-03.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ä¸å“ˆå¸Œåˆ†å¸ƒæ•°æ®çš„æ–¹å¼åªéœ€è¦è®°å½•å“ˆå¸Œå‡½æ•°åŠåˆ†æ¡¶ä¸ªæ•°(æœºå™¨æ•°)ä¸åŒï¼ŒæŒ‰æ•°æ®èŒƒå›´åˆ†å¸ƒæ•°æ® éœ€è¦è®°å½•æ‰€æœ‰çš„æ•°æ®åˆ†å¸ƒæƒ…å†µã€‚ä¸€èˆ¬çš„ï¼Œå¾€å¾€éœ€è¦ä½¿ç”¨ä¸“é—¨çš„æœåŠ¡å™¨åœ¨å†…å­˜ä¸­ç»´æŠ¤æ•°æ®åˆ†å¸ƒä¿¡æ¯ï¼Œ ç§°è¿™ç§æ•°æ®çš„åˆ†å¸ƒä¿¡æ¯ä¸ºä¸€ç§å…ƒä¿¡æ¯ã€‚ç”šè‡³å¯¹äºå¤§è§„æ¨¡çš„é›†ç¾¤ï¼Œç”±äºå…ƒä¿¡æ¯çš„è§„æ¨¡éå¸¸åºå¤§ï¼Œå•å°
è®¡ç®—æœºæ— æ³•ç‹¬ç«‹ç»´æŠ¤ï¼Œéœ€è¦ä½¿ç”¨å¤šå°æœºå™¨ä½œä¸ºå…ƒä¿¡æ¯æœåŠ¡å™¨ã€‚
&lt;br /&gt;
 ä½¿ç”¨èŒƒå›´åˆ†å¸ƒæ•°æ®çš„æ–¹å¼çš„æœ€å¤§ä¼˜ç‚¹å°±æ˜¯å¯ä»¥çµæ´»çš„æ ¹æ®æ•°æ®é‡çš„å…·ä½“æƒ…å†µæ‹†åˆ†åŸæœ‰æ•°æ®åŒºé—´ï¼Œ æ‹†åˆ†åçš„æ•°æ®åŒºé—´å¯ä»¥è¿ç§»åˆ°å…¶ä»–æœºå™¨ï¼Œä¸€æ—¦éœ€è¦é›†ç¾¤å®Œæˆè´Ÿè½½å‡è¡¡æ—¶ï¼Œä¸å“ˆå¸Œæ–¹å¼ç›¸æ¯”éå¸¸çµæ´»ã€‚ å¦å¤–ï¼Œå½“é›†ç¾¤éœ€è¦æ‰©å®¹æ—¶ï¼Œå¯ä»¥éšæ„æ·»åŠ æœºå™¨ï¼Œè€Œä¸é™ä¸ºå€å¢çš„æ–¹å¼ï¼Œåªéœ€å°†åŸæœºå™¨ä¸Šçš„éƒ¨åˆ†æ•°æ® åˆ†åŒºè¿ç§»åˆ°æ–°åŠ å…¥çš„æœºå™¨ä¸Šå°±å¯ä»¥å®Œæˆé›†ç¾¤æ‰©å®¹ã€‚
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;strong&gt;2.1.3 æŒ‰æ•°æ®é‡åˆ†å¸ƒ&lt;/strong&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;å¦ä¸€ç±»å¸¸ç”¨çš„æ•°æ®åˆ†å¸ƒæ–¹å¼åˆ™æ˜¯æŒ‰ç…§æ•°æ®é‡åˆ†å¸ƒæ•°æ®ã€‚ä¸å“ˆå¸Œæ–¹å¼å’ŒæŒ‰æ•°æ®èŒƒå›´æ–¹å¼ä¸åŒï¼Œæ•° æ®é‡åˆ†å¸ƒæ•°æ®ä¸å…·ä½“çš„æ•°æ®ç‰¹å¾æ— å…³ï¼Œè€Œæ˜¯å°†æ•°æ®è§†ä¸ºä¸€ä¸ªé¡ºåºå¢é•¿çš„æ–‡ä»¶ï¼Œå¹¶å°†è¿™ä¸ªæ–‡ä»¶æŒ‰ç…§æŸ ä¸€è¾ƒä¸ºå›ºå®šçš„å¤§å°åˆ’åˆ†ä¸ºè‹¥å¹²æ•°æ®å—(chunk)ï¼Œä¸åŒçš„æ•°æ®å—åˆ†å¸ƒåˆ°ä¸åŒçš„æœåŠ¡å™¨ä¸Šã€‚ä¸æŒ‰æ•°æ®èŒƒ å›´åˆ†å¸ƒæ•°æ®çš„æ–¹å¼ç±»ä¼¼çš„æ˜¯ï¼ŒæŒ‰æ•°æ®é‡åˆ†å¸ƒæ•°æ®ä¹Ÿéœ€è¦è®°å½•æ•°æ®å—çš„å…·ä½“åˆ†å¸ƒæƒ…å†µï¼Œå¹¶å°†è¯¥åˆ†å¸ƒä¿¡ æ¯ä½œä¸ºå…ƒæ•°æ®ä½¿ç”¨å…ƒæ•°æ®æœåŠ¡å™¨ç®¡ç†ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;strong&gt;2.1.4 ä¸€è‡´æ€§å“ˆå¸Œ&lt;/strong&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ä¸€è‡´æ€§å“ˆå¸Œ(consistent hashing)æ˜¯å¦ä¸€ä¸ªç§åœ¨å·¥ç¨‹ä¸­ä½¿ç”¨è¾ƒä¸ºå¹¿æ³›çš„æ•°æ®åˆ†å¸ƒæ–¹å¼ã€‚ä¸€è‡´æ€§å“ˆ
å¸Œæœ€åˆåœ¨ P2P ç½‘ç»œä¸­ä½œä¸ºåˆ†å¸ƒå¼å“ˆå¸Œè¡¨(DHT)çš„å¸¸ç”¨æ•°æ®åˆ†å¸ƒç®—æ³•ã€‚ä¸€è‡´æ€§å“ˆå¸Œçš„åŸºæœ¬æ–¹å¼æ˜¯ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œå‡½æ•°è®¡ç®—æ•°æ®æˆ–æ•°æ®ç‰¹å¾çš„å“ˆå¸Œå€¼ï¼Œä»¤è¯¥å“ˆå¸Œå‡½æ•°çš„è¾“å‡ºå€¼åŸŸä¸ºä¸€ä¸ªå°é—­çš„ç¯ï¼Œå³å“ˆå¸Œ å‡½æ•°è¾“å‡ºçš„æœ€å¤§å€¼æ˜¯æœ€å°å€¼çš„å‰åºã€‚å°†èŠ‚ç‚¹éšæœºåˆ†å¸ƒåˆ°è¿™ä¸ªç¯ä¸Šï¼Œæ¯ä¸ªèŠ‚ç‚¹è´Ÿè´£å¤„ç†ä»è‡ªå·±å¼€å§‹é¡º æ—¶é’ˆè‡³ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å…¨éƒ¨å“ˆå¸Œå€¼åŸŸä¸Šçš„æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.1.5 å‰¯æœ¬ä¸æ•°æ®åˆ†å¸ƒ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å‡è®¾æœ‰ 3 ä¸ªå‰¯ æœ¬æœºå™¨ï¼ŒæŸæ—¶åˆ»å…¶ä¸­æŸå°æœºå™¨ç£ç›˜æŸåï¼Œä¸¢å¤±äº†å…¨éƒ¨æ•°æ®ï¼Œæ­¤æ—¶ä½¿ç”¨æ–°çš„æœºå™¨æ›¿ä»£æ•…éšœæœºå™¨ï¼Œä¸ºäº† æ˜¯çš„æ–°æœºå™¨ä¹Ÿå¯ä»¥æä¾›æœåŠ¡ï¼Œéœ€è¦ä»æ­£å¸¸çš„ä¸¤å°æœºå™¨ä¸Šæ‹·è´æ•°æ®ã€‚æ­¤ç§å…¨ç›˜æ‹·è´æ•°æ®ä¸€èˆ¬éƒ½è¾ƒä¸ºæ¶ˆ è€—èµ„æºï¼Œä¸ºäº†ä¸å½±å“æœåŠ¡è´¨é‡ï¼Œå®è·µä¸­å¾€å¾€é‡‡ç”¨ä¸¤ç§æ–¹å¼:ä¸€ã€å°†ä¸€å°å¯ç”¨çš„å‰¯æœ¬æœºå™¨ä¸‹çº¿ï¼Œä¸“é—¨ ä½œä¸ºæ•°æ®æºæ‹·è´æ•°æ®ï¼Œè¿™æ ·åšçš„ç¼ºç‚¹æ˜¯é€ æˆå®é™…æ­£å¸¸å‰¯æœ¬æ•°åªæœ‰ 1 ä¸ªï¼Œå¯¹æ•°æ®å®‰å…¨æ€§é€ æˆå·¨å¤§éšæ‚£ï¼Œ ä¸”å¦‚æœæœåŠ¡ç”±äºåˆ†å¸ƒå¼åè®®è®¾è®¡æˆ–å‹åŠ›çš„è¦æ±‚å¿…é¡» 2 ä¸ªå‰¯æœ¬æ‰èƒ½æ­£å¸¸å·¥ä½œï¼Œåˆ™è¯¥åšæ³•å®Œå…¨ä¸å¯è¡Œã€‚ äºŒã€ä»¥è¾ƒä½çš„èµ„æºä½¿ç”¨é™é€Ÿçš„æ–¹æ³•ä»ä¸¤ä¸ªæ­£å¸¸å‰¯æœ¬ä¸Šæ‹·è´æ•°æ®ï¼Œæ­¤æ–¹æ³•ä¸åœæœåŠ¡ï¼Œä½†å¯ä»¥é€‰æ‹©æœåŠ¡ å‹åŠ›è¾ƒå°çš„æ—¶æ®µè¿›è¡Œã€‚è¯¥æ–¹æ³•çš„ç¼ºç‚¹æ˜¯é€Ÿåº¦è¾ƒæ…¢ï¼Œå¦‚æœéœ€è¦æ¢å¤çš„æ•°æ®é‡å·¨å¤§(ä¾‹å¦‚æ•° T)ï¼Œé™é€Ÿ è¾ƒå°(ä¾‹å¦‚ 10MB/s)ï¼Œå¾€å¾€éœ€è¦æ•°å¤©æ‰èƒ½å¤Ÿå®Œæˆæ¢å¤ã€‚
æ›´åˆé€‚çš„åšæ³•ä¸æ˜¯ä»¥æœºå™¨ä½œä¸ºå‰¯æœ¬å•ä½ï¼Œè€Œæ˜¯å°†æ•°æ®æ‹†ä¸ºè¾ƒåˆç†çš„æ•°æ®æ®µï¼Œä»¥æ•°æ®æ®µä¸ºå•ä½ä½œ ä¸ºå‰¯æœ¬ã€‚å®è·µä¸­ï¼Œå¸¸å¸¸ä½¿å¾—æ¯ä¸ªæ•°æ®æ®µçš„å¤§å°å°½é‡ç›¸ç­‰ä¸”æ§åˆ¶åœ¨ä¸€å®šçš„å¤§å°ä»¥å†…ã€‚æ•°æ®æ®µæœ‰å¾ˆå¤šä¸ åŒçš„ç§°è°“ï¼Œsegmentï¼Œfragmentï¼Œchunkï¼Œpartition ç­‰ç­‰ã€‚æ•°æ®æ®µçš„é€‰æ‹©ä¸æ•°æ®åˆ†å¸ƒæ–¹å¼ç›´æ¥ç›¸å…³ã€‚å¯¹ äºå“ˆå¸Œåˆ†æ•°æ®çš„æ–¹å¼ï¼Œæ¯ä¸ªå“ˆå¸Œåˆ†æ¡¶åçš„ä½™æ•°å¯ä»¥ä½œä¸ºä¸€ä¸ªæ•°æ®æ®µï¼Œä¸ºäº†æ§åˆ¶æ•°æ®æ®µçš„å¤§å°ï¼Œå¸¸å¸¸ ä½¿å¾—åˆ†æ¡¶ä¸ªæ•°å¤§äºé›†ç¾¤è§„æ¨¡ã€‚ä¾‹å¦‚ï¼Œæœ‰ 3 å°æœåŠ¡å™¨ï¼Œ10G æ•°æ®ï¼Œä¸ºäº†ä½¿å¾—æ¯ä¸ªæ•°æ®æ®µéƒ½æ˜¯ 100M å·¦ å³å¤§å°ï¼Œå“ˆå¸ŒåæŒ‰ 100 å–æ¨¡ï¼Œå¾— 1000 ä¸ªæ•°æ®æ®µï¼Œæ¯å°æœåŠ¡å™¨å¯ä»¥è´Ÿè´£ 333 ä¸ªæ•°æ®æ®µã€‚å¯¹äºæŒ‰æ•°æ®èŒƒ å›´åˆ†å¸ƒæ•°æ®çš„æ–¹å¼ï¼Œå¯ä»¥å°†æ¯ä¸ªæ•°æ®åŒºé—´ä½œä¸ºä¸€ä¸ªæ•°æ®æ®µï¼Œå¹¶æ§åˆ¶æ•°æ®åŒºé—´ä¸­æ•°æ®çš„å¤§å°ã€‚å¯¹äºæŒ‰ æ•°æ®é‡åˆ†æ•°æ®çš„æ–¹å¼ï¼Œå¯ä»¥è‡ªç„¶çš„æŒ‰ç…§æ¯ä¸ªæ•°æ®å—ä½œä¸ºæ•°æ®æ®µã€‚å¯¹äºä¸€è‡´æ€§å“ˆå¸Œåˆ†å¸ƒæ•°æ®çš„æ–¹å¼ï¼Œ é€šå¸¸çš„åšæ³•æ˜¯è®²ä¸€è‡´æ€§å“ˆå¸Œç¯åˆ†ä¸ºè‹¥å¹²ç­‰é•¿åˆ†åŒºï¼Œåˆ†åŒºä¸ªæ•°ä¸€èˆ¬è¿œå¤§äºèŠ‚ç‚¹ä¸ªæ•°ï¼Œå‡è®¾å“ˆå¸Œå‡½æ•°å‡ åŒ€ï¼Œåˆ™æ¯ä¸ªåˆ†åŒºä¸­çš„æ•°æ®å¯ä»¥ä½œä¸ºä¸€ä¸ªæ•°æ®æ®µã€‚
ä¸€æ—¦å°†æ•°æ®åˆ†ä¸ºæ•°æ®æ®µï¼Œåˆ™å¯ä»¥ä»¥æ•°æ®æ®µä¸ºå•ä½ç®¡ç†å‰¯æœ¬ï¼Œä»è€Œå‰¯æœ¬ä¸æœºå™¨ä¸å†ç¡¬ç›¸å…³ï¼Œæ¯å° æœºå™¨éƒ½å¯ä»¥è´Ÿè´£ä¸€å®šæ•°æ®æ®µçš„å‰¯æœ¬ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.1.6 æœ¬åœ°åŒ–è®¡ç®—&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å¯¹äºåˆ†å¸ƒå¼ç³»ç»Ÿè€Œè¨€ï¼Œé™¤äº†è§£å†³å¤§è§„æ¨¡å­˜å‚¨é—®é¢˜æ›´éœ€è¦è§£å†³å¤§è§„æ¨¡çš„è®¡ç®—é—®é¢˜ã€‚ç„¶è€Œè®¡ç®—ç¦»ä¸å¼€æ•° æ®ï¼Œè®¡ç®—çš„è§„æ¨¡å¾€å¾€ä¸è¾“å…¥çš„æ•°æ®é‡æˆ–è€…è®¡ç®—äº§ç”Ÿçš„ä¸­é—´ç»“æœçš„æ•°æ®é‡æ­£ç›¸å…³ã€‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œ æ•°æ®çš„åˆ†å¸ƒæ–¹å¼ä¹Ÿæ·±æ·±å½±å“ç€è®¡ç®—çš„åˆ†å¸ƒæ–¹å¼ã€‚
åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­è®¡ç®—èŠ‚ç‚¹å’Œä¿å­˜è®¡ç®—æ•°æ®çš„å­˜å‚¨èŠ‚ç‚¹å¯ä»¥åœ¨åŒä¸€å°ç‰©ç†æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥ä½äºä¸ åŒçš„ç‰©ç†æœºå™¨ã€‚å¦‚æœè®¡ç®—èŠ‚ç‚¹å’Œå­˜å‚¨èŠ‚ç‚¹ä½äºä¸åŒçš„ç‰©ç†æœºå™¨åˆ™è®¡ç®—çš„æ•°æ®éœ€è¦é€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œæ­¤ ç§æ–¹å¼çš„å¼€é”€å¾ˆå¤§ï¼Œç”šè‡³ç½‘ç»œå¸¦å®½ä¼šæˆä¸ºç³»ç»Ÿçš„æ€»ä½“ç“¶é¢ˆã€‚å¦ä¸€ç§æ€è·¯æ˜¯ï¼Œå°†è®¡ç®—å°½é‡è°ƒåº¦åˆ°ä¸å­˜ å‚¨èŠ‚ç‚¹åœ¨åŒä¸€å°ç‰©ç†æœºå™¨ä¸Šçš„è®¡ç®—èŠ‚ç‚¹ä¸Šè¿›è¡Œï¼Œè¿™ç§°ä¹‹ä¸ºæœ¬åœ°åŒ–è®¡ç®—ã€‚æœ¬åœ°åŒ–è®¡ç®—æ˜¯è®¡ç®—è°ƒåº¦çš„ä¸€ ç§é‡è¦ä¼˜åŒ–ï¼Œå…¶ä½“ç°äº†ä¸€ç§é‡è¦çš„åˆ†å¸ƒå¼è°ƒåº¦æ€æƒ³:â€œç§»åŠ¨æ•°æ®ä¸å¦‚ç§»åŠ¨è®¡ç®—â€ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.2åŸºæœ¬å‰¯æœ¬åè®®&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å‰¯æœ¬æ§åˆ¶åè®®æŒ‡æŒ‰ç‰¹å®šçš„åè®®æµç¨‹æ§åˆ¶å‰¯æœ¬æ•°æ®çš„è¯»å†™è¡Œä¸ºï¼Œä½¿å¾—å‰¯æœ¬æ»¡è¶³ä¸€å®šçš„å¯ç”¨æ€§å’Œä¸€ è‡´æ€§è¦æ±‚çš„åˆ†å¸ƒå¼åè®®ã€‚å‰¯æœ¬æ§åˆ¶åè®®è¦å…·æœ‰ä¸€å®šçš„å¯¹æŠ—å¼‚å¸¸çŠ¶æ€çš„å®¹é”™èƒ½åŠ›ï¼Œä»è€Œä½¿å¾—ç³»ç»Ÿå…·æœ‰ ä¸€å®šçš„å¯ç”¨æ€§ï¼ŒåŒæ—¶å‰¯æœ¬æ§åˆ¶åè®®è¦èƒ½æä¾›ä¸€å®šä¸€è‡´æ€§çº§åˆ«ã€‚å‰¯æœ¬åè®®åˆ†ä¸ºâ€œä¸­å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶åè®®â€å’Œâ€œå»ä¸­å¿ƒåŒ–çš„å‰¯æœ¬æ§åˆ¶åè®®â€&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.2.1 ä¸­å¿ƒåŒ–å‰¯æœ¬åè®®&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ä¸­å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶åè®®çš„åŸºæœ¬æ€è·¯æ˜¯ç”±ä¸€ä¸ªä¸­å¿ƒèŠ‚ç‚¹åè°ƒå‰¯æœ¬æ•°æ®çš„æ›´æ–°ã€ç»´æŠ¤å‰¯æœ¬ä¹‹é—´çš„ä¸€è‡´ æ€§ã€‚ä¸­å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶åè®®çš„ç¼ºç‚¹æ˜¯ç³»ç»Ÿçš„å¯ç”¨æ€§ä¾èµ–äºä¸­å¿ƒåŒ–èŠ‚ç‚¹ï¼Œå½“ ä¸­å¿ƒèŠ‚ç‚¹å¼‚å¸¸æˆ–ä¸ä¸­å¿ƒèŠ‚ç‚¹é€šä¿¡ä¸­æ–­æ—¶ï¼Œç³»ç»Ÿå°†å¤±å»æŸäº›æœåŠ¡(é€šå¸¸è‡³å°‘å¤±å»æ›´æ–°æœåŠ¡)ï¼Œæ‰€ä»¥ä¸­å¿ƒ åŒ–å‰¯æœ¬æ§åˆ¶åè®®çš„ç¼ºç‚¹æ­£æ˜¯å­˜åœ¨ä¸€å®šçš„åœæœåŠ¡æ—¶é—´ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.2.2 primary-secondary åè®®&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡ç€é‡ä»‹ç»ä¸€ç§éå¸¸å¸¸ç”¨çš„ primary-secondary(ä¹Ÿç§° primary-backup)çš„ä¸­å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶åè®®ã€‚ åœ¨ primary-secondary ç±»å‹çš„åè®®ä¸­ï¼Œå‰¯æœ¬è¢«åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œå…¶ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå‰¯æœ¬ä½œä¸º primary å‰¯æœ¬ï¼Œ é™¤ primary ä»¥å¤–çš„å‰¯æœ¬éƒ½ä½œä¸º secondary å‰¯æœ¬ã€‚ç»´æŠ¤ primary å‰¯æœ¬çš„èŠ‚ç‚¹ä½œä¸ºä¸­å¿ƒèŠ‚ç‚¹ï¼Œä¸­å¿ƒèŠ‚ç‚¹è´Ÿ è´£ç»´æŠ¤æ•°æ®çš„æ›´æ–°ã€å¹¶å‘æ§åˆ¶ã€åè°ƒå‰¯æœ¬çš„ä¸€è‡´æ€§ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.2.2.1 æ•°æ®æ›´æ–°åŸºæœ¬æµç¨‹&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æµç¨‹ 2.2.1: Primary-secondary åè®®çš„æ•°æ®æ›´æ–°æµç¨‹&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;æ•°æ®æ›´æ–°éƒ½ç”± primary èŠ‚ç‚¹åè°ƒå®Œæˆã€‚&lt;/li&gt;
  &lt;li&gt;å¤–éƒ¨èŠ‚ç‚¹å°†æ›´æ–°æ“ä½œå‘ç»™ primary èŠ‚ç‚¹&lt;/li&gt;
  &lt;li&gt;primary èŠ‚ç‚¹è¿›è¡Œå¹¶å‘æ§åˆ¶å³ç¡®å®šå¹¶å‘æ›´æ–°æ“ä½œçš„å…ˆåé¡ºåº&lt;/li&gt;
  &lt;li&gt;primary èŠ‚ç‚¹å°†æ›´æ–°æ“ä½œå‘é€ç»™ secondary èŠ‚ç‚¹&lt;/li&gt;
  &lt;li&gt;primary æ ¹æ® secondary èŠ‚ç‚¹çš„å®Œæˆæƒ…å†µå†³å®šæ›´æ–°æ˜¯å¦æˆåŠŸå¹¶å°†ç»“æœè¿”å›å¤–éƒ¨èŠ‚ç‚¹&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;2.2.2.2 æ•°æ®è¯»å–æ–¹å¼&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ•°æ®è¯»å–æ–¹å¼æ˜¯ primary-secondary ç±»åè®®éœ€è¦è§£å†³çš„ç¬¬äºŒä¸ªé—®é¢˜ã€‚ä¸æ•°æ®æ›´æ–°æµç¨‹ç±»ä¼¼ï¼Œè¯»å–æ–¹å¼ä¹Ÿä¸ä¸€è‡´æ€§é«˜åº¦ç›¸å…³ã€‚å¦‚æœåªéœ€è¦æœ€ç»ˆä¸€è‡´æ€§ï¼Œåˆ™è¯»å–ä»»ä½•å‰¯æœ¬éƒ½å¯ä»¥æ»¡è¶³éœ€æ±‚ã€‚å¦‚æœéœ€è¦ä¼š è¯ä¸€è‡´æ€§ï¼Œåˆ™å¯ä»¥ä¸ºå‰¯æœ¬è®¾ç½®ç‰ˆæœ¬å·ï¼Œæ¯æ¬¡æ›´æ–°åé€’å¢ç‰ˆæœ¬å·ï¼Œç”¨æˆ·è¯»å–å‰¯æœ¬æ—¶éªŒè¯ç‰ˆæœ¬å·ï¼Œä»è€Œ ä¿è¯ç”¨æˆ·è¯»åˆ°çš„æ•°æ®åœ¨ä¼šè¯èŒƒå›´å†…å•è°ƒé€’å¢ã€‚ä½¿ç”¨ primary-secondary æ¯”è¾ƒå›°éš¾çš„æ˜¯å®ç°å¼ºä¸€è‡´æ€§ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.2.2.3 æ•°æ®åŒæ­¥&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Primary-secondary å‹åè®®ä¸€èˆ¬éƒ½ä¼šé‡åˆ° secondary å‰¯æœ¬ä¸ primary ä¸ä¸€è‡´çš„é—®é¢˜ã€‚æ­¤æ—¶ï¼Œä¸ä¸€è‡´
çš„ secondary å‰¯æœ¬éœ€è¦ä¸ primary è¿›è¡ŒåŒæ­¥(reconcile)ã€‚
é€šå¸¸ä¸ä¸€è‡´çš„å½¢å¼æœ‰ä¸‰ç§:ä¸€ã€ç”±äºç½‘ç»œåˆ†åŒ–ç­‰å¼‚å¸¸ï¼Œsecondary ä¸Šçš„æ•°æ®è½åäº primary ä¸Šçš„ æ•°æ®ã€‚äºŒã€åœ¨æŸäº›åè®®ä¸‹ï¼Œsecondary ä¸Šçš„æ•°æ®æœ‰å¯èƒ½æ˜¯è„æ•°æ®ï¼Œéœ€è¦è¢«ä¸¢å¼ƒã€‚æ‰€è°“è„æ•°æ®æ˜¯ç”±äº primary å‰¯æœ¬æ²¡æœ‰è¿›è¡ŒæŸä¸€æ›´æ–°æ“ä½œï¼Œè€Œ secondary å‰¯æœ¬ä¸Šåè€Œè¿›è¡Œçš„å¤šä½™çš„ä¿®æ”¹æ“ä½œï¼Œä»è€Œé€ æˆ secondary å‰¯æœ¬æ•°æ®é”™è¯¯ã€‚ä¸‰ã€secondary æ˜¯ä¸€ä¸ªæ–°å¢åŠ çš„å‰¯æœ¬ï¼Œå®Œå…¨æ²¡æœ‰æ•°æ®ï¼Œéœ€è¦ä»å…¶ä»–å‰¯æœ¬ä¸Š æ‹·è´æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.2.3 å»ä¸­å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶åè®®&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å»ä¸­å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶æ˜¯å¦ä¸€ç±»è¾ƒä¸ºå¤æ‚çš„å‰¯æœ¬æ§åˆ¶åè®®ã€‚ä¸ä¸­å¿ƒåŒ–å‰¯æœ¬ç³»ç»Ÿåè®®æœ€å¤§çš„ä¸åŒæ˜¯ï¼Œå»ä¸­å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶åè®®æ²¡æœ‰ä¸­å¿ƒèŠ‚ç‚¹ï¼Œåè®®ä¸­æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½æ˜¯å®Œå…¨å¯¹ç­‰çš„ï¼ŒèŠ‚ç‚¹ä¹‹é—´é€šè¿‡å¹³ç­‰åå•† è¾¾åˆ°ä¸€è‡´ã€‚ä»è€Œå»ä¸­å¿ƒåŒ–åè®®æ²¡æœ‰å› ä¸ºä¸­å¿ƒåŒ–èŠ‚ç‚¹å¼‚å¸¸è€Œå¸¦æ¥çš„åœæœåŠ¡ç­‰é—®é¢˜ã€‚å›¾ 2-9 ç»™å‡ºäº†å»ä¸­ å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶åè®®çš„ç¤ºæ„å›¾ã€‚
&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-19-04.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ç„¶è€Œï¼Œæ²¡æœ‰ä»€ä¹ˆäº‹æƒ…æ˜¯å®Œç¾çš„ï¼Œå»ä¸­å¿ƒåŒ–åè®®çš„æœ€å¤§çš„ç¼ºç‚¹æ˜¯åè®®è¿‡ç¨‹é€šå¸¸æ¯”è¾ƒå¤æ‚ã€‚å°¤å…¶å½“ å»ä¸­å¿ƒåŒ–åè®®éœ€è¦å®ç°å¼ºä¸€è‡´æ€§æ—¶ï¼Œåè®®æµç¨‹å˜å¾—å¤æ‚ä¸”ä¸å®¹æ˜“ç†è§£ã€‚ç”±äºæµç¨‹çš„å¤æ‚ï¼Œå»ä¸­å¿ƒåŒ– åè®®çš„æ•ˆç‡æˆ–è€…æ€§èƒ½ä¸€èˆ¬ä¹Ÿè¾ƒä¸­å¿ƒåŒ–åè®®ä½ã€‚ä¸€ä¸ªä¸æ°å½“çš„æ¯”æ–¹å°±æ˜¯ï¼Œä¸­å¿ƒåŒ–å‰¯æœ¬æ§åˆ¶åè®®ç±»ä¼¼ä¸“ åˆ¶åˆ¶åº¦ï¼Œç³»ç»Ÿæ•ˆç‡é«˜ä½†é«˜åº¦ä¾èµ–äºä¸­å¿ƒèŠ‚ç‚¹ï¼Œä¸€æ—¦ä¸­å¿ƒèŠ‚ç‚¹å¼‚å¸¸ï¼Œç³»ç»Ÿå—åˆ°çš„å½±å“è¾ƒå¤§;å»ä¸­å¿ƒåŒ– å‰¯æœ¬æ§åˆ¶åè®®ç±»ä¼¼æ°‘ä¸»åˆ¶åº¦ï¼ŒèŠ‚ç‚¹é›†ä½“åå•†ï¼Œæ•ˆç‡ä½ä¸‹ï¼Œä½†ä¸ªåˆ«èŠ‚ç‚¹çš„å¼‚å¸¸ä¸ä¼šå¯¹ç³»ç»Ÿæ€»ä½“é€ æˆå¤ª å¤§å½±å“ã€‚xd&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.3 Lease æœºåˆ¶&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Lease æœºåˆ¶æ˜¯æœ€é‡è¦çš„åˆ†å¸ƒå¼åè®®ï¼Œå¹¿æ³›åº”ç”¨äºå„ç§å®é™…çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ã€‚å³ä½¿åœ¨æŸäº›ç³»ç»Ÿä¸­ ç›¸ä¼¼çš„è®¾è®¡ä¸è¢«ç§°ä¸º leaseï¼Œä½†æˆ‘ä»¬å¯ä»¥åˆ†æå‘ç°å…¶æœ¬è´¨å°±æ˜¯ä¸€ç§ lease çš„å®ç°ã€‚æœ¬èŠ‚ä»ä¸€ä¸ªåˆ†å¸ƒå¼ cache ç³»ç»Ÿå‡ºå‘ä»‹ç»æœ€åˆçš„ lease æœºåˆ¶ï¼Œæ¥ç€åŠ ä»¥å¼•ç”³ï¼Œæ¢è®¨ lease æœºåˆ¶çš„æœ¬è´¨ã€‚æœ€åä»‹ç»äº† lease æœº åˆ¶æœ€é‡è¦çš„åº”ç”¨:åˆ¤å®šèŠ‚ç‚¹çŠ¶æ€ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.3.1 åŸºäº lease çš„åˆ†å¸ƒå¼ cache ç³»ç»Ÿ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæœ‰ä¸€ä¸ªä¸­å¿ƒæœåŠ¡å™¨èŠ‚ç‚¹ï¼Œä¸­å¿ƒæœåŠ¡å™¨å­˜å‚¨ã€ç»´æŠ¤ ç€ä¸€äº›æ•°æ®ï¼Œè¿™äº›æ•°æ®æ˜¯ç³»ç»Ÿçš„å…ƒæ•°æ®ã€‚ç³»ç»Ÿä¸­å…¶ä»–çš„èŠ‚ç‚¹é€šè¿‡è®¿é—®ä¸­å¿ƒæœåŠ¡å™¨èŠ‚ç‚¹è¯»å–ã€ä¿®æ”¹å…¶ ä¸Šçš„å…ƒæ•°æ®ã€‚ç”±äºç³»ç»Ÿä¸­å„ç§æ“ä½œéƒ½ä¾èµ–äºå…ƒæ•°æ®ï¼Œå¦‚æœæ¯æ¬¡è¯»å–å…ƒæ•°æ®çš„æ“ä½œéƒ½è®¿é—®ä¸­å¿ƒæœåŠ¡å™¨ èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä¸­å¿ƒæœåŠ¡å™¨èŠ‚ç‚¹çš„æ€§èƒ½æˆä¸ºç³»ç»Ÿçš„ç“¶é¢ˆã€‚ä¸ºæ­¤ï¼Œè®¾è®¡ä¸€ç§å…ƒæ•°æ® cacheï¼Œåœ¨å„ä¸ªèŠ‚ç‚¹ä¸Š cache å…ƒæ•°æ®ä¿¡æ¯ï¼Œä»è€Œå‡å°‘å¯¹ä¸­å¿ƒæœåŠ¡å™¨èŠ‚ç‚¹çš„è®¿é—®ï¼Œæé«˜æ€§èƒ½ã€‚è®¾è®¡çš„ cache ç³»ç»Ÿè¦èƒ½æœ€å¤§å¯èƒ½çš„å¤„ç†èŠ‚ç‚¹å®•æœºã€ç½‘ç»œä¸­æ–­ç­‰ å¼‚å¸¸ï¼Œæœ€å¤§ç¨‹åº¦çš„æé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚
ä¸ºæ­¤ï¼Œåˆ©ç”¨ lease æœºåˆ¶è®¾è®¡ä¸€å¥— cache ç³»ç»Ÿï¼Œå…¶åŸºæœ¬åŸç†ä¸ºå¦‚ä¸‹ã€‚ä¸­å¿ƒæœåŠ¡å™¨åœ¨å‘å„èŠ‚ç‚¹å‘é€æ•° æ®æ—¶åŒæ—¶å‘èŠ‚ç‚¹é¢å‘ä¸€ä¸ª leaseã€‚æ¯ä¸ª lease å…·æœ‰ä¸€ä¸ªæœ‰æ•ˆæœŸï¼Œå’Œä¿¡ç”¨å¡ä¸Šçš„æœ‰æ•ˆæœŸç±»ä¼¼ï¼Œlease ä¸Šçš„ æœ‰æ•ˆæœŸé€šå¸¸æ˜¯ä¸€ä¸ªæ˜ç¡®çš„æ—¶é—´ç‚¹ï¼Œä¾‹å¦‚ 12:00:10ï¼Œä¸€æ—¦çœŸå®æ—¶é—´è¶…è¿‡è¿™ä¸ªæ—¶é—´ç‚¹ï¼Œåˆ™ lease è¿‡æœŸå¤±æ•ˆã€‚ è¿™æ · lease çš„æœ‰æ•ˆæœŸä¸èŠ‚ç‚¹æ”¶åˆ° lease çš„æ—¶é—´æ— å…³ï¼ŒèŠ‚ç‚¹å¯èƒ½æ”¶åˆ° lease æ—¶è¯¥ lease å°±å·²ç»è¿‡æœŸå¤±æ•ˆã€‚ è¿™é‡Œé¦–å…ˆå‡è®¾ä¸­å¿ƒæœåŠ¡å™¨ä¸å„èŠ‚ç‚¹çš„æ—¶é’Ÿæ˜¯åŒæ­¥çš„ï¼Œä¸‹èŠ‚ä¸­è®¨è®ºæ—¶é’Ÿä¸åŒæ­¥å¯¹ lease çš„å½±å“ã€‚ä¸­å¿ƒæœ åŠ¡å™¨å‘å‡ºçš„ lease çš„å«ä¹‰ä¸º:åœ¨ lease çš„æœ‰æ•ˆæœŸå†…ï¼Œä¸­å¿ƒæœåŠ¡å™¨ä¿è¯ä¸ä¼šä¿®æ”¹å¯¹åº”æ•°æ®çš„å€¼ã€‚å› æ­¤ï¼Œ èŠ‚ç‚¹æ”¶åˆ°æ•°æ®å’Œ lease åï¼Œå°†æ•°æ®åŠ å…¥æœ¬åœ° Cacheï¼Œä¸€æ—¦å¯¹åº”çš„ lease è¶…æ—¶ï¼ŒèŠ‚ç‚¹å°†å¯¹åº”çš„æœ¬åœ° cache æ•°æ®åˆ é™¤ã€‚ä¸­å¿ƒæœåŠ¡å™¨åœ¨ä¿®æ”¹æ•°æ®æ—¶ï¼Œé¦–å…ˆé˜»å¡æ‰€æœ‰æ–°çš„è¯»è¯·æ±‚ï¼Œå¹¶ç­‰å¾…ä¹‹å‰ä¸ºè¯¥æ•°æ®å‘å‡ºçš„æ‰€æœ‰ lease è¶…æ—¶è¿‡æœŸï¼Œç„¶åä¿®æ”¹æ•°æ®çš„å€¼ã€‚
å…·ä½“çš„æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯èŠ‚ç‚¹ä¸€ä¸ªåŸºæœ¬æµç¨‹å¦‚ä¸‹:
æµç¨‹ 
2.3.1:åŸºäº lease çš„ cacheï¼Œå®¢æˆ·ç«¯èŠ‚ç‚¹è¯»å–å…ƒæ•°æ®&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;åˆ¤æ–­å…ƒæ•°æ®æ˜¯å¦å·²ç»å¤„äºæœ¬åœ° cache ä¸” lease å¤„äºæœ‰æ•ˆæœŸå†…
1.1 æ˜¯:ç›´æ¥è¿”å› cache ä¸­çš„å…ƒæ•°æ®
1.2 å¦:å‘ä¸­å¿ƒæœåŠ¡å™¨èŠ‚ç‚¹è¯·æ±‚è¯»å–å…ƒæ•°æ®ä¿¡æ¯ 
1.2.1 æœåŠ¡å™¨æ”¶åˆ°è¯»å–è¯·æ±‚åï¼Œè¿”å›å…ƒæ•°æ®åŠä¸€ä¸ªå¯¹åº”çš„ lease
1.2.2 å®¢æˆ·ç«¯æ˜¯å¦æˆåŠŸæ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„æ•°æ®
1.2.2.1 å¤±è´¥æˆ–è¶…æ—¶:é€€å‡ºæµç¨‹ï¼Œè¯»å–å¤±è´¥ï¼Œå¯é‡è¯•
1.2.2.2 æˆåŠŸ:å°†å…ƒæ•°æ®ä¸è¯¥å…ƒæ•°æ®çš„leaseè®°å½•åˆ°å†…å­˜ä¸­ï¼Œè¿”å›å…ƒæ•°æ®
æµç¨‹ 2.3.2:åŸºäº lease çš„ cacheï¼Œå®¢æˆ·ç«¯èŠ‚ç‚¹ä¿®æ”¹å…ƒæ•°æ®æµç¨‹&lt;/li&gt;
  &lt;li&gt;èŠ‚ç‚¹å‘æœåŠ¡å™¨å‘èµ·ä¿®æ”¹å…ƒæ•°æ®è¯·æ±‚ã€‚&lt;/li&gt;
  &lt;li&gt;æœåŠ¡å™¨æ”¶åˆ°ä¿®æ”¹è¯·æ±‚åï¼Œé˜»å¡æ‰€æœ‰æ–°çš„è¯»æ•°æ®è¯·æ±‚ï¼Œå³æ¥æ”¶è¯»è¯·æ±‚ï¼Œä½†ä¸è¿”å›æ•°æ®ã€‚ 3. æœåŠ¡å™¨ç­‰å¾…æ‰€æœ‰ä¸è¯¥å…ƒæ•°æ®ç›¸å…³çš„ lease è¶…æ—¶ã€‚&lt;/li&gt;
  &lt;li&gt;æœåŠ¡å™¨ä¿®æ”¹å…ƒæ•°æ®å¹¶å‘å®¢æˆ·ç«¯èŠ‚ç‚¹è¿”å›ä¿®æ”¹æˆåŠŸã€‚
ä¸Šè¿°æœºåˆ¶å¯ä»¥ä¿è¯å„ä¸ªèŠ‚ç‚¹ä¸Šçš„ cache ä¸ä¸­å¿ƒæœåŠ¡å™¨ä¸Šçš„ä¸­å¿ƒå§‹ç»ˆä¸€è‡´ã€‚è¿™æ˜¯å› ä¸ºä¸­å¿ƒæœåŠ¡å™¨ èŠ‚ç‚¹åœ¨å‘é€æ•°æ®çš„åŒæ—¶æˆäºˆäº†èŠ‚ç‚¹å¯¹åº”çš„ leaseï¼Œåœ¨ lease æœ‰æ•ˆæœŸå†…ï¼ŒæœåŠ¡å™¨ä¸ä¼šä¿®æ”¹æ•°æ®ï¼Œä»è€Œå®¢ æˆ·ç«¯èŠ‚ç‚¹å¯ä»¥æ”¾å¿ƒçš„åœ¨ lease æœ‰æ•ˆæœŸå†… cache æ•°æ®ã€‚ä¸Šè¿° lease æœºåˆ¶å¯ä»¥å®¹é”™çš„å…³é”®æ˜¯:æœåŠ¡å™¨ä¸€æ—¦ å‘å‡ºæ•°æ®åŠ leaseï¼Œæ— è®ºå®¢æˆ·ç«¯æ˜¯å¦æ”¶åˆ°ï¼Œä¹Ÿæ— è®ºåç»­å®¢æˆ·ç«¯æ˜¯å¦å®•æœºï¼Œä¹Ÿæ— è®ºåç»­ç½‘ç»œæ˜¯å¦æ­£å¸¸ï¼Œ æœåŠ¡å™¨åªè¦ç­‰å¾… lease è¶…æ—¶ï¼Œå°±å¯ä»¥ä¿è¯å¯¹åº”çš„å®¢æˆ·ç«¯èŠ‚ç‚¹ä¸ä¼šå†ç»§ç»­ cache æ•°æ®ï¼Œä»è€Œå¯ä»¥æ”¾å¿ƒçš„ ä¿®æ”¹æ•°æ®è€Œä¸ä¼šç ´å cache çš„ä¸€è‡´æ€§ã€‚
ä¸Šè¿°åŸºç¡€æµç¨‹æœ‰ä¸€äº›æ€§èƒ½å’Œå¯ç”¨æ€§ä¸Šçš„é—®é¢˜ï¼Œä½†å¯ä»¥å¾ˆå®¹æ˜“å°±ä¼˜åŒ–æ”¹æ€§ã€‚ä¼˜åŒ–ç‚¹ä¸€:æœåŠ¡å™¨åœ¨ ä¿®æ”¹å…ƒæ•°æ®æ—¶é¦–å…ˆè¦é˜»å¡æ‰€æœ‰æ–°çš„è¯»è¯·æ±‚ï¼Œé€ æˆæ²¡æœ‰è¯»æœåŠ¡ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢å‘å‡ºæ–°çš„ lease ä»è€Œå¼•èµ· ä¸æ–­æœ‰æ–°å®¢æˆ·ç«¯èŠ‚ç‚¹æŒæœ‰ lease å¹¶ç¼“å­˜ç€æ•°æ®ï¼Œå½¢æˆâ€œæ´»é”â€ã€‚ä¼˜åŒ–çš„æ–¹æ³•å¾ˆç®€å•ï¼ŒæœåŠ¡å™¨åœ¨è¿›å…¥ä¿® æ”¹æ•°æ®æµç¨‹åï¼Œä¸€æ—¦æ”¶åˆ°è¯»è¯·æ±‚åˆ™åªè¿”å›æ•°æ®ä½†ä¸é¢å‘ leaseã€‚ä»è€Œé€ æˆåœ¨ä¿®æ”¹æµç¨‹æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œ å®¢æˆ·ç«¯å¯ä»¥è¯»åˆ°å…ƒæ•°æ®ï¼Œåªæ˜¯ä¸èƒ½ç¼“å­˜å…ƒæ•°æ®ã€‚è¿›ä¸€æ­¥çš„ä¼˜åŒ–æ˜¯ï¼Œå½“è¿›å…¥ä¿®æ”¹æµç¨‹ï¼ŒæœåŠ¡å™¨é¢å‘çš„ lease æœ‰æ•ˆæœŸé™é€‰æ‹©ä¸ºå·²å‘å‡ºçš„ lease çš„æœ€å¤§æœ‰æ•ˆæœŸé™ã€‚è¿™æ ·åšï¼Œå®¢æˆ·ç«¯å¯ä»¥ç»§ç»­åœ¨æœåŠ¡å™¨è¿›å…¥ä¿®æ”¹ æµç¨‹åç»§ç»­ç¼“å­˜å…ƒæ•°æ®ï¼Œä½†æœåŠ¡å™¨çš„ç­‰å¾…æ‰€æœ‰ lease è¿‡æœŸçš„æ—¶é—´ä¹Ÿä¸ä¼šå› ä¸ºé¢å‘æ–°çš„ lease è€Œä¸æ–­å»¶ é•¿ã€‚å®é™…ä½¿ç”¨ä¸­ï¼Œç¬¬ä¸€å±‚ä¼˜åŒ–å°±è¶³å¤Ÿäº†ï¼Œå› ä¸ºç­‰å¾… lease è¶…æ—¶çš„æ—¶é—´ä¼šè¢«â€œä¼˜åŒ–ç‚¹äºŒâ€ä¸­çš„ä¼˜åŒ–æ–¹æ³• å¤§å¤§å‡å°‘ã€‚ä¼˜åŒ–ç‚¹äºŒ:æœåŠ¡å™¨åœ¨ä¿®æ”¹å…ƒæ•°æ®æ—¶éœ€è¦ç­‰å¾…æ‰€æœ‰çš„ lease è¿‡æœŸè¶…æ—¶ï¼Œä»è€Œé€ æˆä¿®æ”¹å…ƒæ•°æ® çš„æ“ä½œæ—¶å»¶å¤§å¤§å¢å¤§ã€‚ä¼˜åŒ–çš„æ–¹æ³•æ˜¯ï¼Œåœ¨ç­‰å¾…æ‰€æœ‰çš„ lease è¿‡æœŸçš„è¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡å™¨ä¸»åŠ¨é€šçŸ¥å„ä¸ªæŒæœ‰ lease çš„èŠ‚ç‚¹æ”¾å¼ƒ lease å¹¶æ¸…é™¤ cache ä¸­çš„æ•°æ®ï¼Œå¦‚æœæœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯è¿”å›çš„ç¡®è®¤æ”¾å¼ƒ lease çš„æ¶ˆæ¯ï¼Œ åˆ™æœåŠ¡å™¨ä¸éœ€è¦åœ¨ç­‰å¾…è¯¥ lease è¶…æ—¶ã€‚è¯¥è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå› ä¸ºå¼‚å¸¸é€ æˆæœåŠ¡å™¨é€šçŸ¥å¤±è´¥æˆ–è€…å®¢æˆ·ç«¯èŠ‚ç‚¹ å‘é€åº”ç­”æ¶ˆæ¯å¤±è´¥ï¼ŒæœåŠ¡å™¨åªéœ€ä¾ç…§åŸæœ¬çš„æµç¨‹ç­‰å¾… lease è¶…æ—¶å³å¯ï¼Œè€Œä¸ä¼šå½±å“åè®®çš„æ­£ç¡®æ€§ã€‚
æœ€åï¼Œæˆ‘ä»¬åˆ†æä¸€ä¸‹ cache æœºåˆ¶ä¸å¤šå‰¯æœ¬æœºåˆ¶çš„åŒºåˆ«ã€‚Cache æœºåˆ¶ä¸å¤šå‰¯æœ¬æœºåˆ¶çš„ç›¸ä¼¼ä¹‹å¤„éƒ½ 27&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æ˜¯å°†ä¸€ä»½æ•°æ®ä¿å­˜åœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šã€‚ä½† Cache æœºåˆ¶å´è¦ç®€å•è®¸å¤šï¼Œå¯¹äº cache çš„æ•°æ®ï¼Œå¯ä»¥éšæ—¶åˆ é™¤ ä¸¢å¼ƒï¼Œå¹¶å‘½ä¸­ cache çš„åæœä»…ä»…æ˜¯éœ€è¦è®¿é—®æ•°æ®æºè¯»å–æ•°æ®;ç„¶è€Œå‰¯æœ¬æœºåˆ¶å´ä¸ä¸€æ ·ï¼Œå‰¯æœ¬æ˜¯ä¸èƒ½ éšæ„ä¸¢å¼ƒçš„ï¼Œæ¯å¤±å»ä¸€ä¸ªå‰¯æœ¬ï¼ŒæœåŠ¡è´¨é‡éƒ½åœ¨ä¸‹é™ï¼Œä¸€æ—¦å‰¯æœ¬æ•°ä¸‹é™åˆ°ä¸€å®šç¨‹åº¦ï¼Œåˆ™å¾€å¾€æœåŠ¡å°†ä¸ å†å¯ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.5 æ—¥å¿—æŠ€æœ¯&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ—¥å¿—æŠ€æœ¯æ˜¯å®•æœºæ¢å¤çš„ä¸»è¦æŠ€æœ¯ä¹‹ä¸€[3]ã€‚æ—¥å¿—æŠ€æœ¯æœ€åˆä½¿ç”¨åœ¨æ•°æ®åº“ç³»ç»Ÿä¸­ã€‚ä¸¥æ ¼æ¥è¯´æ—¥å¿—æŠ€ æœ¯ä¸æ˜¯ä¸€ç§åˆ†å¸ƒå¼ç³»ç»Ÿçš„æŠ€æœ¯ï¼Œä½†åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿçš„å®è·µä¸­ï¼Œå´å¹¿æ³›ä½¿ç”¨äº†æ—¥å¿—æŠ€æœ¯åšå®•æœºæ¢å¤ï¼Œç”š è‡³å¦‚ BigTable ç­‰ç³»ç»Ÿå°†æ—¥å¿—ä¿å­˜åˆ°ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­è¿›ä¸€æ­¥å¢å¼ºäº†ç³»ç»Ÿå®¹é”™èƒ½åŠ›ã€‚&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/shuailaotou/booksofTN/blob/master/åˆ†å¸ƒå¼ç³»ç»ŸåŸç†ä»‹ç».pdf&quot;&gt;githubæºä»£ç &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å–œæ¬¢å°±starä¸€ä¸‹å§ï¼ğŸ‘»ğŸ‘»ğŸ‘»&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä½œè€…åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œå¦‚æœ‰é”™è¯¯æè¿°ï¼Œè¯·è¯„è®ºçº æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼ğŸ³ğŸ³ğŸ³&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Sat, 19 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/19/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E4%BB%8B%E7%BB%8D/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/19/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E4%BB%8B%E7%BB%8D/</guid>
        
        <category>åˆ†å¸ƒå¼ç³»ç»Ÿ</category>
        
        
      </item>
    
      <item>
        <title>æ•£åˆ—ç®—æ³•å®ç°Goè¯­è¨€Mapå‡½æ•°</title>
        <description>&lt;h3 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Hash&lt;/code&gt;ä¸€èˆ¬ç¿»è¯‘åšâ€œæ•£åˆ—â€ï¼Œä¹Ÿæœ‰ç›´æ¥éŸ³è¯‘ä¸ºå“ˆå¸Œçš„ï¼Œå°±æ˜¯æŠŠä»»æ„é•¿åº¦çš„è¾“å…¥ï¼ˆåˆå«åšé¢„æ˜ å°„ï¼‰ï¼Œé€šè¿‡æ•£åˆ—ç®—æ³•ï¼Œå˜æ¢æˆå›ºå®šé•¿åº¦çš„è¾“å‡ºï¼Œè¯¥è¾“å‡ºå°±æ˜¯æ•£åˆ—å€¼ï¼Œè¿™ç§è½¬åŒ–æ˜¯ä¸€ç§å‹ç¼©æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯æ•£åˆ—å€¼çš„ç©ºé—´é€šå¸¸è¿œå°äºè¾“å…¥å€¼çš„ç©ºé—´ï¼Œä¸åŒçš„è¾“å…¥å¯èƒ½ä¼šæ•£åˆ—æˆç›¸åŒçš„è¾“å‡ºï¼ŒäºŒä¸å¯èƒ½ä»æ•£åˆ—å€¼æ¥å”¯ä¸€çš„ç¡®å®šè¾“å…¥å€¼ã€‚ç®€å•çš„è¯´å°±æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;ä¸€ç§å°†ä»»æ„é•¿åº¦çš„æ¶ˆæ¯å‹ç¼©åˆ°æŸä¸€å›ºå®šé•¿åº¦çš„æ¶ˆæ¯æ‘˜è¦å‡½æ•°ã€‚&lt;/code&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;å“ˆå¸Œç®—æ³•&quot;&gt;å“ˆå¸Œç®—æ³•&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Hash&lt;/code&gt;ä¸»è¦ç”¨äºä¿¡æ¯å®‰å…¨é¢†åŸŸä¸­çš„åŠ å¯†ç®—æ³•ï¼Œå®ƒæŠŠä¸€äº›é•¿åº¦ä¸åŒçš„ä¿¡æ¯è½¬åŒ–æˆæ‚ä¹±çš„128ä½çš„ç¼–ç ï¼Œè¿™äº›ç¼–ç å€¼å«åšHASHå€¼ï¼Œä¹Ÿå¯ä»¥è¯´ï¼Œhashå°±æ˜¯æ‰¾åˆ°ä¸€ç§æ•°æ®å†…å®¹å’Œæ•°æ®å­˜æ”¾åœ°å€ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚å…·ä½“å“ˆå¸Œç®—æ³•å¯ä»¥å‚è€ƒ&lt;a href=&quot;https://www.jianshu.com/p/bf1d7eee28d0&quot;&gt;å“ˆå¸Œç®—æ³•æ€»ç»“&lt;/a&gt;è¿™ç¯‡æ–‡ç« ã€‚
&lt;br /&gt;
æ•£åˆ—è¡¨æ˜¯ä¸€ç§ç”¨äºä»¥å¸¸ç†Ÿå¹³å‡æ—¶é—´æ‰§è¡Œæ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾çš„ç®—æ³•ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æ•£åˆ—å‡½æ•°&quot;&gt;æ•£åˆ—å‡½æ•°&lt;/h3&gt;
&lt;p&gt;æ•£åˆ—è¡¨æ¯ä¸ªå…³é”®å­—è¢«å½±å°„åˆ°0ï½ArrSizeè¿™ä¸ªèŒƒå›´å†…ï¼ˆæœ¬æ–‡é€‰å–çš„æ•°ç»„é•¿åº¦ä¸º16çš„æ•°ç»„ï¼Œå–çš„å…³é”®å­—ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;1103515245&lt;/code&gt;ï¼‰ï¼Œè¿™ä¸ªæ˜ å°„å«åšæ•£åˆ—å‡½æ•°ã€‚&lt;strong&gt;ä¸Šé¢çš„ä¸¤ä¸ªå‡½æ•°å–å€¼ä¿è¯äº†ï¼Œå…³é”®å­—è¢«å½±å°„åˆ°0-15ä¸‹æ ‡æ•°ç»„çš„æ¦‚ç‡ä¸€æ ·ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;mapå®ç°åŸç†&quot;&gt;Mapå®ç°åŸç†&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªå®¹é‡ä¸º16çš„é“¾è¡¨æ•°ç»„ï¼Œä¾æ®ä¸Šé¢æ•£åˆ—å‡½æ•°çš„åŸç†ï¼Œå°†Keyå€¼ç­‰æ¦‚ç‡çš„è½¬æ¢æˆ0-16ä¹‹é—´çš„ä¸‹æ ‡å€¼ã€‚ç„¶åæ ¹æ®ä¸‹æ ‡å€¼ï¼Œå°†keyå’Œvalueæ’å…¥åˆ°å¯¹åº”çš„ä¸‹æ ‡æ•°ç»„ä¸­çš„é“¾è¡¨ä¸Šã€‚
åŸç†å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-16-01.png&quot; width=&quot;40%&quot; height=&quot;40%&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ä»£ç å®ç°&quot;&gt;ä»£ç å®ç°&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;ç»“æ„ä½“ä½œä¸ºæ•°æ®åŸŸçš„ç±»å‹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
type DM struct {
	K string
	V string
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å£°æ˜å…¨å±€å˜é‡ï¼Œä¿å­˜å¤´ç»“ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;var head *Node
var curr *Node

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å£°æ˜èŠ‚ç‚¹ç±»å‹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;type Node struct {
	//æ•°æ®åŸŸ
	Data DM
	//åœ°å€åŸŸ
	NextNode *Node
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åˆ›å»ºå¤´ç»“ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func CreateHeadNode(k string, v string) *Node {
	var node *Node = new(Node)
	//è®¾ç½®æ•°æ®åŸŸç»“æ„ä½“ä¸­çš„é”®å€¼å¯¹
	node.Data.K = k
	node.Data.V = v
	//è®¾ç½®åœ°å€åŸŸ
	node.NextNode = nil
	//ä¿å­˜å¤´ç»“ç‚¹
	head = node
	curr = node

	return node

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åœ¨æŒ‡å®šçš„èŠ‚ç‚¹(curr)åè¾¹æ·»åŠ æ–°èŠ‚ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func AddNode(k string, v string, curr *Node) *Node {
	var newNode *Node = new(Node)
	//è®¾ç½®æ–°èŠ‚ç‚¹ä¸­çš„æ•°æ®åŸŸ
	newNode.Data.K = k
	newNode.Data.V = v

	//è®¾ç½®åœ°å€åŸŸ
	newNode.NextNode = nil
	//æŒ‚æ¥èŠ‚ç‚¹
	curr.NextNode = newNode
	curr = newNode
	//è¿”å›å€¼
	return newNode
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åœ¨æŒ‡å®šçš„èŠ‚ç‚¹åè¾¹éå†é“¾è¡¨&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func ShowNodes(n *Node) {
	var node = n
	for {
		if node.NextNode == nil {
			fmt.Print(node.Data)
			break
		} else {
			fmt.Println(node.Data)
			node = node.NextNode
		}
	}

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è®¡ç®—èŠ‚ç‚¹çš„ä¸ªæ•°&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
func NodeCnt() int {
	var cnt int = 1
	var node = head
	for {
		if node.NextNode == nil {
			break
		} else {
			node = node.NextNode
			cnt = cnt + 1
		}

	}
	return cnt
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å£°æ˜å…¨å±€æ•°ç»„&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;var bultArr [16]*Node

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ç»™æ•°ç»„åˆå§‹åŒ–&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func CreateBulet() {

	var arr = [16]*Node{}
	for i := 0; i &amp;lt; 16; i++ {
	 // ä¸ºæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½åˆ›å»ºå¤´èŠ‚ç‚¹
		arr[i] = CreateHeadNode(&quot;å¤´èŠ‚ç‚¹&quot;, &quot;å¤´ç»“ç‚¹&quot;)

	}
	bultArr = arr

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å°†keyè½¬æ¢æˆæ•°ç»„ä¸‹æ ‡çš„æ•£åˆ—ç®—æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;æ­¤æ–¹æ³•ä¸ºå›ºå®šçš„æ–¹æ³•ï¼Œç§‘å­¦å®¶ç®—çš„ğŸ¤«ğŸ¤­ï¼Œå³ä¸Šé¢çš„æ•£åˆ—å‡½æ•°&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func HashCode(key string) int {
	var index int = 0
	index = int(key[0])
	for k := 0; k &amp;lt; len(key); k++ {
		index *= (1103515245 + int(key[k]))
	}
	index &amp;gt;&amp;gt;= 27
	index &amp;amp;= 16 - 1

	return index
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å‘æ•°ç»„ä¸­æ·»åŠ é”®å€¼å¯¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func AddKeyValue(k string, v string) {

	//è®¡ç®—å»ºæ‰€å¯¹åº”çš„æœ¨æ¡¶ä¸‹æ ‡
	var pos = HashCode(k)
	//è·å¾—æœ¨æ¡¶æ•°ç»„

	var head *Node = bultArr[pos]
	//å‘æŒ‡å®šä¸‹æ ‡çš„å¤´èŠ‚ç‚¹æ·»åŠ èŠ‚ç‚¹
	AddNode(k, v, head)

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è·å–æ•°æ®&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func GetValueByKey(k string) string {
	var pos = HashCode(k)
	var head *Node = bultArr[pos]
	//é€šè¿‡å¤´èŠ‚ç‚¹éå†é“¾è¡¨
	
	//æŸ¥æ‰¾å¯¹åº”ä¸‹æ ‡ä¸‹çš„é“¾è¡¨ï¼Œåˆ¤æ–­åœ¨keyä¸èŠ‚ç‚¹ä¸­çš„keyä¸€ç›´æ—¶æ‰“å°
	for {
		if head.Data.K == k {
			fmt.Println(head.Data.V)
			break
		} else {
			head = head.NextNode
			if head.NextNode == nil {

			}
		}
	}

	return &quot;&quot;
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;å“ˆå¸Œæ•£åˆ—ç®—æ³•çš„æ•°å€¼æŒ‡å®šæ•°ç»„é•¿åº¦ä¹Ÿå¯ä»¥æ˜¯32ï¼Œ64ï¼Œä½†æ˜¯å¯¹åº”çš„æ•°å­—å°±ä¸æ˜¯1103515245äº†ï¼Œæœ‰å…¶ä»–çš„æ•°ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å»æŸ¥è¯¢ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;å–œæ¬¢å°±starä¸€ä¸‹å§ï¼ğŸ‘»ğŸ‘»ğŸ‘»&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä½œè€…åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œå¦‚æœ‰é”™è¯¯æè¿°ï¼Œè¯·è¯„è®ºçº æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼ğŸ³ğŸ³ğŸ³&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Wed, 16 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/16/%E6%95%A3%E5%88%97%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0Go%E8%AF%AD%E8%A8%80Map%E5%87%BD%E6%95%B0/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/16/%E6%95%A3%E5%88%97%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0Go%E8%AF%AD%E8%A8%80Map%E5%87%BD%E6%95%B0/</guid>
        
        <category>æ•£åˆ—ç®—æ³•ï¼ŒMapå‡½æ•°</category>
        
        
      </item>
    
      <item>
        <title>GOè¯­è¨€å®ç°é“¾è¡¨çš„å¢åˆ æ”¹æŸ¥</title>
        <description>&lt;h3 id=&quot;é“¾è¡¨linked-list&quot;&gt;é“¾è¡¨ï¼ˆLinked listï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;é“¾è¡¨&lt;/code&gt;æ˜¯ä¸€ç§å¸¸è§çš„æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸€ç§&lt;code class=&quot;highlighter-rouge&quot;&gt;çº¿æ€§è¡¨&lt;/code&gt;ï¼Œä½†æ˜¯å¹¶ä¸ä¼šæŒ‰çº¿æ€§çš„é¡ºåºå­˜å‚¨æ•°æ®ï¼Œè€Œæ˜¯åœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹é‡Œå­˜å‚¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;æŒ‡é’ˆ&lt;/code&gt;ã€‚ç”±äºä¸å¿…é¡»çš„é¡ºåºå­˜å‚¨ï¼Œé“¾è¡¨åœ¨æ’å…¥çš„æ—¶å€™å¯ä»¥åˆ°è¾¾Oï¼ˆ1ï¼‰çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;å¤æ‚åº¦&lt;/code&gt;ï¼Œæ¯”å¦ä¸€ç§çº¿æ€§è¡¨é¡ºåºå¿«çš„å¤šï¼Œä½†æ˜¯æŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…è®¿é—®ç‰¹å®šç¼–å·çš„èŠ‚ç‚¹åˆ™éœ€è¦Oï¼ˆnï¼‰çš„æ—¶é—´ï¼Œè€Œé¡ºåºç›¸åº”çš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯Oï¼ˆlognï¼‰å’ŒOï¼ˆ1ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¼˜ç‚¹&quot;&gt;ä¼˜ç‚¹&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;é“¾è¡¨&lt;/code&gt;é€šå¸¸ç”±ä¸€è¿ä¸²çš„èŠ‚ç‚¹ç»„æˆï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä»»æ„çš„å®ä¾‹æ•°æ®ï¼ˆdata fieldsï¼‰å’Œä¸€æˆ–è€…ä¸¤ä¸ªç”¨æ¥æŒ‡å‘ä¸Šä¸€ä¸ªæˆ–è€…ä¸‹ä¸€ä¸ªçš„èŠ‚ç‚¹çš„ä½ç½®çš„é“¾æ¥ã€‚é“¾è¡¨æœ€æ˜æ˜¾çš„å¥½å¤„æ˜¯ï¼Œå¸¸è§„çš„æ•°å­—æ’åˆ—å…³è”é¡¹ç›®çš„æ–¹å¼å¯èƒ½ä¸åŒäºè¿™äº›æ•°æ®é¡¹ç›®åœ¨è®°å¿†ä½“æˆ–è€…ç£ç›˜ä¸Šçš„é¡ºåºï¼Œæ•°æ®çš„è®¿é—®å¾€å¾€è¦åœ¨ä¸åŒçš„æ’åˆ—ä¹¦åºä¸­è½¬æ¢ã€‚äºŒé“¾è¡¨æ˜¯ä¸€ç§è‡ªæˆ‘æŒ‡ç¤ºæ•°æ®ç±»å‹ï¼Œå› ä¸ºå®ƒåŒ…å«æŒ‡å‘å¦ä¸€ä¸ªç›¸åŒç±»å‹çš„æ•°æ®çš„æŒ‡é’ˆã€‚é“¾è¡¨å…è®¸æ’å…¥å’Œç§»é™¤è¡¨ä¸Šä»»æ„ä½ç½®çš„èŠ‚ç‚¹ï¼Œä½†æ˜¯ä¸å…è®¸éšæœºçš„å­˜å–ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åˆ†ç±»&quot;&gt;åˆ†ç±»&lt;/h3&gt;
&lt;p&gt;é“¾è¡¨æœ‰å¾ˆå¤šç§ç±»å‹ï¼š&lt;strong&gt;å•å‘é“¾è¡¨&lt;/strong&gt;ï¼Œ&lt;strong&gt;åŒå‘é“¾è¡¨&lt;/strong&gt;ï¼Œ&lt;strong&gt;å¾ªç¯é“¾è¡¨&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å•å‘é“¾è¡¨&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å®ƒåŒ…å«ä¸¤ä¸ªåŸŸï¼Œä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;ä¿¡æ¯åŸŸ&lt;/code&gt;å’Œä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;æŒ‡é’ˆåŸŸ&lt;/code&gt;ã€‚è¿™ä¸ªé“¾æ¥æŒ‡å‘åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè€Œæœ€åä¸€ä¸ªèŠ‚ç‚¹åˆ™æŒ‡å‘ä¸€ä¸ªç©ºå€¼ã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-15-01.png&quot; width=&quot;80%&quot; height=&quot;100%&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;åŒå‘é“¾è¡¨&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ä¸€ç§æ›´å¤æ‚çš„é“¾è¡¨æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;â€œåŒå‘é“¾è¡¨â€&lt;/code&gt;æˆ–&lt;code class=&quot;highlighter-rouge&quot;&gt;â€œåŒé¢é“¾è¡¨â€&lt;/code&gt;ã€‚æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªè¿æ¥ï¼šä¸€ä¸ªæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œï¼ˆå½“æ­¤â€œè¿æ¥â€ä¸ºç¬¬ä¸€ä¸ªâ€œè¿æ¥â€æ—¶ï¼ŒæŒ‡å‘ç©ºå€¼æˆ–è€…ç©ºåˆ—è¡¨ï¼‰ï¼›è€Œå¦ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œï¼ˆå½“æ­¤â€œè¿æ¥â€ä¸ºæœ€åä¸€ä¸ªâ€œè¿æ¥â€æ—¶ï¼ŒæŒ‡å‘ç©ºå€¼æˆ–è€…ç©ºåˆ—è¡¨ï¼‰&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-15-02.png&quot; width=&quot;80%&quot; height=&quot;100%&quot; /&gt;

&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å¾ªç¯é“¾è¡¨&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;åœ¨ä¸€ä¸ª å¾ªç¯é“¾è¡¨ä¸­, é¦–èŠ‚ç‚¹å’Œæœ«èŠ‚ç‚¹è¢«è¿æ¥åœ¨ä¸€èµ·ã€‚è¿™ç§æ–¹å¼åœ¨å•å‘å’ŒåŒå‘é“¾è¡¨ä¸­çš†å¯å®ç°ã€‚è¦è½¬æ¢ä¸€ä¸ªå¾ªç¯é“¾è¡¨ï¼Œä½ å¼€å§‹äºä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ç„¶åæ²¿ç€åˆ—è¡¨çš„ä»»ä¸€æ–¹å‘ç›´åˆ°è¿”å›å¼€å§‹çš„èŠ‚ç‚¹ã€‚å†æ¥çœ‹å¦ä¸€ç§æ–¹æ³•ï¼Œå¾ªç¯é“¾è¡¨å¯ä»¥è¢«è§†ä¸ºâ€œæ— å¤´æ— å°¾â€ã€‚è¿™ç§åˆ—è¡¨å¾ˆåˆ©äºèŠ‚çº¦æ•°æ®å­˜å‚¨ç¼“å­˜ï¼Œ å‡å®šä½ åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­æœ‰ä¸€ä¸ªå¯¹è±¡å¹¶ä¸”å¸Œæœ›æ‰€æœ‰å…¶ä»–å¯¹è±¡è¿­ä»£åœ¨ä¸€ä¸ªéç‰¹æ®Šçš„æ’åˆ—ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;æŒ‡å‘æ•´ä¸ªåˆ—è¡¨çš„æŒ‡é’ˆå¯ä»¥è¢«ç§°ä½œè®¿é—®æŒ‡é’ˆã€‚&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-15-03.png&quot; width=&quot;80%&quot; height=&quot;100%&quot; /&gt;

&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ä»£ç å®ç°&quot;&gt;ä»£ç å®ç°&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å£°æ˜å…¨å±€å˜é‡ï¼Œä¿å­˜å¤´èŠ‚ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  //å¤´èŠ‚ç‚¹
var head *Node
//å½“å‰çš„èŠ‚ç‚¹ï¼Œå˜åŒ–çš„
var curr *Node

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å£°æ˜èŠ‚ç‚¹ç±»å‹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;type Node struct{
//æ•°æ®åŸŸ
Data  string
//åœ°å€åŸŸï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
NextNode  *Node
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åˆ›å»ºå¤´èŠ‚ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func CreateHeadNode(data string)*Node{
//åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹
 var node *Node = new(Node)
 node.Data = data
 node.NextData = nil
 //ä¿å­˜å¤´èŠ‚ç‚¹
 head = node
 //å°†curræŒ‡å‘å¤´èŠ‚ç‚¹
 curr = node
 return node
 
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ·»åŠ æ–°èŠ‚ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func AddNode(data string)*Node{
//åˆ›å»ºæ–°èŠ‚ç‚¹
var newNode *node = new(Node)
// æ–°èŠ‚ç‚¹èµ‹å€¼
newNode.Data = data
newNode.NextNode = nil
//å°†å½“å‰èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºçš„å¤´èŠ‚ç‚¹ æˆ–è€…è¦æ·»åŠ çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„NextNodeæŒ‡å‘æ–°èŠ‚ç‚¹newNode
curr.NextNode = newNode
// å°†æ–°èŠ‚ç‚¹èµ‹å€¼ç»™currèŠ‚ç‚¹
curr = newNode
 return newNode

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;éå†é“¾è¡¨&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func ShowNodes{
//å°†å¤´èŠ‚ç‚¹èµ‹å€¼ç»™nodeèŠ‚ç‚¹
var node = head

for {
 
 //å¦‚æœå¤´èŠ‚ç‚¹çš„åœ°å€åŸŸä¸ºç©ºï¼Œé‚£ä¹ˆè¿™ä¸ªé“¾è¡¨åªæœ‰å¤´ï¼Œç›´æ¥æ‰“å°
 if node.NextNode == nil{
  fmt.Print(node.Data)
  break
 }else{
 //å°†ä¸‹ä¸€ä¸ªèŠ‚ç‚¹èµ‹å€¼ç»™node
 fmt.Println(node.Data)
 node = node.NextNode
 } 
}
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è®¡ç®—èŠ‚ç‚¹çš„ä¸ªæ•°&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func NodeCnt() int {
	var cnt int = 1
	var node = head
	for {
		if node.NextNode == nil {
			break
		} else {
			node = node.NextNode
			cnt = cnt + 1
		}

	}
	return cnt
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ’å…¥èŠ‚ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func InsertNodeByIndex(index int,data string) *Node{
//åœ¨ç¬¬ä¸€ä¸ªä½ç½®æ’å…¥
if index == 0{
 var node *Node = new(Node)
 node.Data = data
// å°†æ–°èŠ‚ç‚¹çš„åœ°å€åŸŸæŒ‡å‘åŸæ¥çš„å¤´èŠ‚ç‚¹
 node.NextNode = head
 å°†æ–°èŠ‚ç‚¹è®¾ä¸ºå¤´èŠ‚ç‚¹
 head = node
}else if (index &amp;gt; NodeCnt()- 1){ // åœ¨å°¾éƒ¨æ’å…¥
 AddNode(data)
}else{

var n = head
//éå†æ‰¾åˆ°è¦æ’å…¥èŠ‚ç‚¹çš„ä½ç½®çš„èŠ‚ç‚¹
for (i:= 0;i&amp;lt; index -1;i++)
{
  n = n.NextNode
}

var newNode *Node = new(Node)
newNode.Data  = data
//å°†æ–°èŠ‚ç‚¹çš„åœ°å€åŸŸæŒ‡å‘ä¸‹æ‰¾åˆ°èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
newNode.NextNode = n.NextNode
//å°†æ‰¾åˆ°èŠ‚ç‚¹çš„åœ°å€åŸŸæŒ‡å‘æ–°èŠ‚ç‚¹
n.NextNode = newNode
}
return nil

}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åˆ é™¤èŠ‚ç‚¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func DeleteNodeByIndex(index int){
 
 var node = head
 if index == 0{
 //åˆ é™¤å¤´èŠ‚ç‚¹ï¼Œå°±æ˜¯ç¬¬äºŒä¸ªèŠ‚ç‚¹ä¸ºå¤´èŠ‚ç‚¹
 head = node.NextNode
 }else{
 //æ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹
 for(i:=0;i&amp;lt; index-1;i++){
   node = node.NextNode
 }

 node.NextNode = node.NextNode.NextNode

 } 
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Goè¯­è¨€ä¸­æ˜¯è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œæ–­å¼€é“¾æ¥çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œåœ¨ç¨‹åºè¿è¡Œç»“æŸæ—¶è‡ªåŠ¨é”€æ¯&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;ä¿®æ”¹æŒ‡å®šèŠ‚ç‚¹å†…å®¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func UpdateNodeByIndex(index int,data string){

var node = head
if index == 0{
  head.Data = data
}else{
 for i := 0; i &amp;lt; index; i++ {
			node = node.NextNode
		}
		node.Data = data
}
 
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;æœ¬æ–‡åªæ˜¯å®ç°äº†ç®€å•çš„å•å‘é“¾è¡¨çš„åŸºæœ¬æ“ä½œï¼Œä¸‹ä¸€ç« å°†è®²è¿°ä¸€ä¸‹é“¾è¡¨çš„å®é™…åº”ç”¨ä¹‹ä¸€ï¼ŒMapçš„å®ç°åŸç†å³è¡Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;Hashæ•£åˆ—åŸç†&lt;/code&gt;ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/shuailaotou/MyHashMap&quot;&gt;githubæºä»£ç &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å–œæ¬¢å°±starä¸€ä¸‹å§ï¼ğŸ‘»ğŸ‘»ğŸ‘»&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä½œè€…åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œå¦‚æœ‰é”™è¯¯æè¿°ï¼Œè¯·è¯„è®ºçº æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼ğŸ³ğŸ³ğŸ³&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Wed, 16 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/16/GO%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E9%93%BE%E8%A1%A8%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/16/GO%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E9%93%BE%E8%A1%A8%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/</guid>
        
        <category>é“¾è¡¨</category>
        
        
      </item>
    
      <item>
        <title>ä½¿ç”¨JavaScriptå®ç°æ™ºèƒ½åˆçº¦demo</title>
        <description>&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &quot;use strict&quot;
 //å£°æ˜ä¸€ä¸ªç±»ï¼Œæœ‰ä¸‰ä¸ªå±æ€§ï¼Œç›¸å½“äºMVCä¸­çš„Model
var DictionItem = function(text){
   if(text){
     //å°†å­—ç¬¦ä¸²è½¬æ¢æˆJsonå­—ç¬¦ä¸²
   var obj = Json.para(text);
    this.key = obj.key;
    this.value = obj.value;
    this.author = obj.author;
   }else{
    this.key = &quot;&quot;;
    this.value = &quot;&quot;;
    this.author = &quot;&quot;;
   }
 } ,
 //ç›¸å½“äºMVCä¸­çš„Cæ–¹æ³•ï¼Œå†…éƒ¨çš„æ–¹æ³•å®ç°å°†å¯¹è±¡è½¬åŒ–æˆJsonå­—ç¬¦ä¸²
DictionItem.prototype = {
  toString:function(){
    return JSON.stringify(this)
  }
}
//åˆ›å»ºäº†ä¸€ä¸ªç±»ï¼Œç±»åå­—æ˜¯superDiction,
 //éƒ¨ç½²ä¸€ä¸ªåˆçº¦ä¼šåˆ›å»ºä¸€ä¸ªsuperDictionå¯¹è±¡ï¼Œé€šè¿‡åˆçº¦åœ°å€å¯ä»¥æ‰¾åˆ°æ”¹å¯¹è±¡
 //åˆçº¦åœ°å€å¯ä»¥ç†è§£æˆï¼Œåœ¨åŒºå—é“¾ä¸Šå­˜å‚¨æ”¹å¯¹è±¡çš„ç©ºé—´åœ°å€
 //æ¯æ¬¡éƒ¨ç½²åˆçº¦éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„åˆçº¦å¯¹è±¡ï¼Œå¹¶ä¸”å¯¹åº”ä¸€ä¸ªæ–°çš„åˆçº¦åœ°å€
 var superDiction:function(){
   //å®šä¹‰äº†ä¸€ä¸ªsuperDictionå¯¹è±¡çš„å±æ€§ï¼Œå±æ€§ç±»å‹ä¸ºå­—å…¸ï¼Œå¯¹åº”çš„åå­—æ˜¯repo
LocalContractStorage.defineMapProperty(this,&quot;repo&quot;,{
     //ç›¸å½“äºgetæ–¹æ³•ï¼Œgetè¯»å–æ•°æ®çš„æ—¶å€™ï¼Œä¼šè®²Jsonå­—ç¬¦ä¸²è½¬æ¢æˆDictionItemå¯¹è±¡
   parse:function(text){
   return new DictionItem(text);
   }
   //ç›¸å½“äºsetæ–¹æ³•ï¼Œputæˆ–è€…setæ–¹æ³•çš„æ—¶å€™ï¼Œä¼šè®²å¯¹è±¡è½¬æ¢æˆJsonå¯¹è±¡ï¼Œå¹¶ä¸”å†™åˆ°é“¾ä¸Š
   stringify:function(o){
    return  Json.stringify(o)
   }
   });
 }, 
  superDiction.prototype ={
  init:function(){
  }
  save:function:(key,value){
    //å»æ‰ç©ºæ ¼
  var key = key.trim();
  var value = key.trim();
  if(key == &quot;&quot;||value ==&quot;&quot;)
  {
     throw new ERROR(&quot;ä¸èƒ½ä¸ºç©º&quot;);
  }
  if(key.length&amp;gt;64||key.value&amp;gt;64)
   throw new ERROR(&quot;é•¿åº¦è¶…æ ‡&quot;);
  }
  //è‡ªåŠ¨è·å–å½“å‰ç™»é™†é’±åŒ…çš„åœ°å€
  var from = Blockchain.transction.from
  //æ ¹æ®å½“å‰çš„keyå€¼ï¼Œæˆ–è€…value
   var dicItem = this.repo.get(key);
   //å¦‚æœvalueå­˜åœ¨ï¼ŒæŠ›å‡ºå¼‚å¸¸
   if(dicItem){
   throw new ERROR(&quot;value å·²ç»å­˜åœ¨&quot;);
   }
   //å¦‚æœæ²¡æœ‰ï¼Œåˆ™åˆ›å»ºæ–°çš„DictionItemå¯¹è±¡å­˜å‚¨
  var dicItem = new DictionItem();
  dicItem.key = key;
  dicItem.value = value;
  dicItem.author = from;
  this.repo.put(key,dicItem);
 },
 //æŸ¥è¯¢
   get: function (key) {
        key = key.trim();
        if ( key === &quot;&quot; ) {
            throw new Error(&quot;empty key&quot;)
        }
        return this.repo.get(key);
    }
} 
 module.exports = SuperDictionary;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/shuailaotou/contract&quot;&gt;githubæºä»£ç &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å–œæ¬¢å°±starä¸€ä¸‹å§ï¼ğŸ‘»ğŸ‘»ğŸ‘»&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä½œè€…åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œå¦‚æœ‰é”™è¯¯æè¿°ï¼Œè¯·è¯„è®ºçº æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼ğŸ³ğŸ³ğŸ³&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Wed, 09 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/09/%E4%BD%BF%E7%94%A8JavaScript%E5%AE%9E%E7%8E%B0%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6demo/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/09/%E4%BD%BF%E7%94%A8JavaScript%E5%AE%9E%E7%8E%B0%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6demo/</guid>
        
        <category>æ™ºèƒ½åˆçº¦</category>
        
        
      </item>
    
      <item>
        <title>å¦‚ä½•åˆ›å»ºä¸€ä¸ªReacté¡¹ç›®ä»¥åŠå¦‚ä½•å®‰è£…ç¬¬ä¸‰æ–¹çš„åº“</title>
        <description>&lt;h2 id=&quot;åˆ›å»ºreacté¡¹ç›®&quot;&gt;åˆ›å»ºreacté¡¹ç›®&lt;/h2&gt;

&lt;h3 id=&quot;1é¦–å…ˆå®‰è£…npm&quot;&gt;1.é¦–å…ˆå®‰è£…npm&lt;/h3&gt;
&lt;p&gt;æˆ‘çš„Macæ˜¯ä½¿ç”¨brewå®‰è£…çš„
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-01.png&quot; alt=&quot;05-08-01.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;2ä½¿ç”¨npmå‘½ä»¤åˆ›å»ºapp&quot;&gt;2.ä½¿ç”¨npmå‘½ä»¤åˆ›å»ºapp&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;1.é¦–å…ˆåˆ›å»ºé¡¹ç›®æ–‡ä»¶ç›®å½•&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-02.png&quot; alt=&quot;05-08-02.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.ç„¶ååœ¨ä¸Šé¢åˆ›å»ºçš„æ–‡ä»¶ä¸‹æ‰§è¡Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;create-react-app  reactdemo&lt;/code&gt;ä»£ç &lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-03.png&quot; alt=&quot;05-08-03.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;æ³¨æ„åˆ›å»ºçš„æ–‡ä»¶å¤¹çš„åå­—ä¸èƒ½å¤§å†™&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;3ä½¿ç”¨atomæ‰“å¼€ä¸‹è½½å¥½çš„æ–‡ä»¶-atom-&quot;&gt;3.ä½¿ç”¨atomæ‰“å¼€ä¸‹è½½å¥½çš„æ–‡ä»¶ atom ./&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com//react05-08-04.png&quot; alt=&quot;05-08-04.png&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;4æ‰“å¼€ä¹‹åå°†é€‰ä¸­çš„æ–‡ä»¶åˆ é™¤&quot;&gt;4.æ‰“å¼€ä¹‹åå°†é€‰ä¸­çš„æ–‡ä»¶åˆ é™¤&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-05.png&quot; alt=&quot;05-08-05.png&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;5å°†indexjsä¸­é€‰ä¸­çš„ä»£ç åˆ é™¤&quot;&gt;5.å°†index.jsä¸­é€‰ä¸­çš„ä»£ç åˆ é™¤&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-06.png&quot; alt=&quot;05-08-06.png&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;6å°†indexjsä¸­é€‰ä¸­çš„ä»£ç æ”¹æˆ&quot;&gt;6.å°†index.jsä¸­é€‰ä¸­çš„ä»£ç æ”¹æˆ&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-07.png&quot; alt=&quot;05-08-07.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;7ä½¿ç”¨ä»£ç npm-startå¯åŠ¨reactapp&quot;&gt;7.ä½¿ç”¨ä»£ç npm startå¯åŠ¨reactapp&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-08.png&quot; alt=&quot;05-08-08.png&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;8è¿è¡Œç»“æœ&quot;&gt;8.è¿è¡Œç»“æœ&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-09.png&quot; alt=&quot;05-08-09.png&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;åˆ é™¤å®‰è£…ç¬¬ä¸‰æ–¹åŒ…&quot;&gt;åˆ é™¤å®‰è£…ç¬¬ä¸‰æ–¹åŒ…&lt;/h2&gt;

&lt;h3 id=&quot;1ä½¿ç”¨ä»£ç npm-uninstall-reactåˆ é™¤reactåŒ…&quot;&gt;1.ä½¿ç”¨ä»£ç npm uninstall reactåˆ é™¤reactåŒ…&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com//react05-08-10.png&quot; alt=&quot;05-08-10.png&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;1åŒç†ä½¿ç”¨ä»£ç npm-install-nebulaså®‰è£…nebulasåŒ…&quot;&gt;1.åŒç†ä½¿ç”¨ä»£ç npm install nebulaså®‰è£…nebulasåŒ…&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/05-08-11.png&quot; alt=&quot;05-08-11.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å®‰è£…å¥½ä¹‹åå¯ä»¥åœ¨node_modulesä¸­æ‰¾åˆ°nebulasçš„åŒ…&lt;code class=&quot;highlighter-rouge&quot;&gt;nebulasä¸ºæ˜Ÿäº‘é“¾çš„åŒ…ï¼Œæ˜Ÿäº‘é“¾ä¸ºåŒºå—é“¾çš„å…¬é“¾ï¼Œå‡†å¤‡åœ¨ä¸Šé¢å¼€å‘dappï¼Œæœ‰å¥–åŠ±å“¦ğŸ‘»&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;æ®è¯´æ‰¾å·¥ä½œgithubçš„Starå¾ˆé‡è¦ï¼Œå“ˆå“ˆå“ˆã€‚å–œæ¬¢å°±starä¸€ä¸‹å§ï¼ğŸ‘»ğŸ‘»ğŸ‘»&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä½œè€…åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œå¦‚æœ‰é”™è¯¯æè¿°ï¼Œè¯·è¯„è®ºçº æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼ğŸ³ğŸ³ğŸ³&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Tue, 08 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/08/%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAReact%E9%A1%B9%E7%9B%AE%E4%BB%A5%E5%8F%8A%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9%E7%9A%84%E5%BA%93/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/08/%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAReact%E9%A1%B9%E7%9B%AE%E4%BB%A5%E5%8F%8A%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9%E7%9A%84%E5%BA%93/</guid>
        
        <category>reacté¡¹ç›®</category>
        
        
      </item>
    
      <item>
        <title>goè¯­è¨€å®ç°äºŒå‰æœç´¢æ ‘</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;æ•´ç†ï¼šå¼ å¸… åšå®¢ : zhangshuai.ren&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;åŸºæœ¬æ¦‚å¿µä»‹ç»&quot;&gt;åŸºæœ¬æ¦‚å¿µä»‹ç»&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;æ ‘(tree)  :&lt;/strong&gt;    ä¸€ç§åˆ†å±‚çš„æ•°æ®ç»“æ„ï¼Œç±»æ¯”å®¶è°±&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;äºŒå‰æœç´¢æ ‘ï¼ˆbinary treeï¼‰ï¼š&lt;/strong&gt; å·¦èŠ‚ç‚¹çš„å€¼å‡å°äºæœ‰èŠ‚ç‚¹çš„äºŒå‰æ ‘&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;æ·±åº¦ï¼ˆdepthï¼‰ï¼š&lt;/strong&gt;ä» &lt;strong&gt;root&lt;/strong&gt;æ ¹ç»“ç‚¹åˆ°å½“å‰èŠ‚ç‚¹å”¯ä¸€è·¯å¾„çš„é•¿åº¦&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;é«˜åº¦ï¼ˆheightï¼‰ï¼š&lt;/strong&gt;ä»å½“å‰èŠ‚ç‚¹åˆ°ä¸€ç‰‡æ ‘å¶æœ€é•¿çš„è·¯å¾„çš„é•¿åº¦&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;æ ¹ï¼ˆrootï¼‰ï¼š&lt;/strong&gt;æ·±åº¦ä¸º0çš„æ ‘èŠ‚ç‚¹&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;å†…éƒ¨èŠ‚ç‚¹ï¼ˆinternal nodeï¼‰ï¼š&lt;/strong&gt;è‡³å°‘æœ‰ä¸€ä¸ªå­—èŠ‚ç‚¹çš„èŠ‚ç‚¹&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;æ ‘å¶èŠ‚ç‚¹ï¼ˆleafï¼‰ï¼š&lt;/strong&gt;æ— å­—èŠ‚ç‚¹çš„èŠ‚ç‚¹&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;å…„å¼ŸèŠ‚ç‚¹ï¼ˆsiblingï¼‰&lt;/strong&gt;ï¼šæ‹¥æœ‰ç›¸åŒçˆ¶èŠ‚ç‚¹çš„å­—èŠ‚ç‚¹æ³¢ã€&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/1-1.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;

&lt;h3 id=&quot;åº”ç”¨&quot;&gt;åº”ç”¨&lt;/h3&gt;
&lt;p&gt;æ–‡ä»¶ç³»ç»Ÿå’Œæ•°æ®åº“ç³»ç»Ÿä¸€èˆ¬éƒ½é‡‡ç”¨æ ‘ï¼ˆç‰¹åˆ«æ˜¯Bæ ‘ï¼‰çš„æ•°æ®ç»“æ„æ•°æ®ï¼Œä¸»è¦ä¸ºæ’åºå’Œæ£€ç´¢çš„æ•ˆç‡ã€‚äºŒå‰æ ‘æ˜¯ä¸€ç§æœ€åŸºæœ¬æœ€å…¸å‹çš„æ’åºæ ‘ï¼Œå¯¹äºå­¦ä¹ å’Œç ”ç©¶æ ‘çš„ç‰¹æ€§ï¼Œä½†æ˜¯æœ¬èº«å¾ˆå°‘åœ¨å®é™…ä¸­è¿›è¡Œåº”ç”¨ã€‚å°±åƒå†’æ³¡æ’åºä¸€æ ·ï¼ŒäºŒå‰æ ‘å› ä¸ºæ•ˆç‡é—®é¢˜å¹¶ä¸å®ç”¨ã€‚&lt;/p&gt;

&lt;h3 id=&quot;äºŒå‰æ ‘çš„å¸¸ç”¨æ“ä½œ&quot;&gt;äºŒå‰æ ‘çš„å¸¸ç”¨æ“ä½œ&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt; Insertï¼ˆvï¼‰ //å‘äºŒå‰æ ‘çš„åˆé€‚ä½ç½®æ’å…¥èŠ‚ç‚¹&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Remove(v). // ç§»é™¤æ ‘ä¸­æ‰€æœ‰å€¼ä¸ºvçš„èŠ‚ç‚¹&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Search(v)   //æ£€æŸ¥å€¼ä¸ºvçš„å…ƒç´ æ˜¯å¦åœ¨æ ‘ä¸­&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Min().    //è·å–äºŒå‰æ ‘ä¸­æœ€å°çš„å€¼&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Max()     //è·å–äºŒå‰æ ‘ä¸­æœ€å¤§çš„å€¼&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;InOrderTraverse()  //ä¸­åºéå†æ ‘&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;PreOrderTraverse()  //å…ˆåºéå†æ ‘&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;PostOrderTraverse() //ååºéå†æ ‘&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;String()     //åœ¨å‘½ä»¤è¡Œæ ¼å¼åŒ–æ‰“å°å‡ºäºŒå‰æ ‘&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åŒæ ·é€‚ç”¨gennyæä¾›ä»£ç çš„å¤ç”¨æ€§ï¼Œæ ‘ç±»å‹å‘½åä¸ºï¼šItemBinarySearchTree,æ ‘èŠ‚ç‚¹çš„ç»“æ„ä½“å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;åœ¨å‘½ä»¤ç«¯ä½¿ç”¨ 
go get &quot;github.com/cheekybits/genny/generic&quot; 
å‘½ä»¤è·å–è¿™ä¸ªåŒ…

import (
    &quot;fmt&quot;
    &quot;sync&quot;

    &quot;github.com/cheekybits/genny/generic&quot;  
)


type Item generic.Type   //generic.Type ä¸º&quot;github.com/cheekybits/genny/generic&quot;è¿™ä¸ªåŒ…ä¸‹é¢çš„ä¸€ä¸ªç©ºæ¥å£ç±»å‹ï¼Œtypeä¸ºgeneric.Typeèµ·åˆ«åä¸ºItem

type Node struct{
    key        int    //ä¸­åºéå†çš„èŠ‚ç‚¹åºå·
    value      Item   //èŠ‚ç‚¹å­˜å‚¨çš„å€¼
    left       *Node  //å·¦èŠ‚ç‚¹
    right      *Node   //å³é¢èŠ‚ç‚¹
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;æ’å…¥æ“ä½œä¸éå†&quot;&gt;æ’å…¥æ“ä½œä¸éå†&lt;/h3&gt;
&lt;p&gt;æ’å…¥æ“ä½œéœ€è¦ä½¿ç”¨åˆ°é€’å½’ï¼Œæ’å…¥æ“ä½œéœ€è¦ä»ä¸Šåˆ°ä¸‹çš„æŸ¥æ‰¾æ–°èŠ‚ç‚¹åœ¨æ ‘ä¸­åˆé€‚çš„ä½ç½®ï¼Œæ–°èŠ‚ç‚¹çš„å€¼å°äºä»»æ„èŠ‚ç‚¹ï¼Œåˆ™å‘å·¦å­æ ‘ç»§ç»­å¯»æ‰¾ï¼ŒåŒç†å‘å³å­æ ‘å¯»æ‰¾ï¼Œç›´åˆ°æ ‘å¶èŠ‚ç‚¹å†æ’å…¥ã€‚&lt;/p&gt;

&lt;p&gt;éå†æ“ä½œæœ‰ä¸‰ç§æ–¹å¼ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;ä¸­åºéå†(in-order)ï¼š&lt;/strong&gt;å·¦å­æ ‘ï¼ˆLï¼‰â€“&amp;gt;æ ¹èŠ‚ç‚¹(D)â€“&amp;gt;å³æ ‘(R)1-&amp;gt;2-&amp;gt;3-&amp;gt;4-&amp;gt;5-&amp;gt;6-&amp;gt;7-&amp;gt;8-&amp;gt;9-&amp;gt;10- &amp;gt;11 ï¼ˆLDRï¼‰&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;å…ˆåºéå†ï¼ˆpre-orderï¼‰ï¼š&lt;/strong&gt;æ ¹èŠ‚ç‚¹(D)â€“&amp;gt;å·¦å­æ ‘(L)â€“&amp;gt;å³æ ‘(R) 8-&amp;gt;4-&amp;gt;2-&amp;gt;1-&amp;gt;3-&amp;gt;6-&amp;gt;5-&amp;gt;7 &amp;gt;10-&amp;gt;9- &amp;gt;11ï¼ˆDLRï¼‰&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;ååºéå†ï¼ˆpre-orderï¼‰ï¼š&lt;/strong&gt;å·¦å­æ ‘(L)â€“&amp;gt;å³å­æ ‘(R)â€“&amp;gt;æ ¹èŠ‚ç‚¹ï¼ˆDï¼‰ 1-&amp;gt;3-&amp;gt;2-&amp;gt;5-&amp;gt;7-&amp;gt;6-&amp;gt;4-&amp;gt;9&amp;gt;11-&amp;gt;10- &amp;gt;8 ï¼ˆLRDï¼‰&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;æ ¹æ®æ ¹èŠ‚ç‚¹çš„ä½ç½®æ¥çœ‹æ˜¯ä»€ä¹ˆåºåˆ—éå†&lt;/em&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/1-2.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;String()&lt;/code&gt; å¯è§†åŒ–æ ‘ç»“æ„&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/1-3.png&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/center&gt;

&lt;h3 id=&quot;ä»£ç å®ç°&quot;&gt;ä»£ç å®ç°&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Insert&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;//å‘äºŒå‰æ ‘åˆé€‚çš„ä½ç½®æ’å…¥èŠ‚ç‚¹
func (tree *ItemBinarySearchTree) Insert(key int, value Item) {

//ä¸ºäº†ç¡®ä¿æ“ä½œäºŒå‰æ ‘çš„æ•°æ®å®‰å…¨ï¼Œå¯¹æ•°æ®æ“ä½œè¿›è¡Œè¯»å†™ä¸Šé”
	tree.lock.Lock()
	defer tree.lock.Unlock()
	newNode := &amp;amp;Node{key, value, nil, nil}
//å¦‚æœå½“å‰çš„æ ‘ä¸ºç©ºï¼Œé‚£ä¹ˆæ’å…¥çš„èŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹
	if tree.root == nil {
		tree.root = newNode
	} else {
	//è°ƒç”¨ä¸‹é¢çš„æ’å…¥å‡½æ•°ï¼Œå¦èµ·ä¸€ä¸ªæ–¹æ³•ğŸ‘‡
		insertNode(tree.root, newNode)
	}

}

//æ‰¾åˆ°åˆé€‚çš„ä½ç½®
func insertNode(node, newNode *Node) {

//å½“æ–°èŠ‚ç‚¹çš„å€¼å°äºèŠ‚ç‚¹çš„å€¼çš„æ—¶å€™ï¼Œåº”è¯¥æ’å…¥åˆ°èŠ‚ç‚¹çš„å·¦ä¾§
	if newNode.key &amp;lt; node.key {
	//å¦‚æœæ—§èŠ‚ç‚¹å·¦ä¾§æ²¡æœ‰èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ—§èŠ‚ç‚¹ç›´æ¥èµ‹å€¼æ–°èŠ‚ç‚¹
		if node.left == nil {
			node.left = newNode
		} else {
		//å¦åˆ™å°†å·¦èŠ‚ç‚¹ä½œä¸ºè€èŠ‚ç‚¹ï¼Œç»§ç»­å¯»æ‰¾å·¦èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹
			insertNode(node.left, newNode)
		}
	} else {
	//ä¸ä¸Šé¢åŒç†
		if node.right == nil {
			node.right = newNode
		} else {
			insertNode(node.right, newNode)
		}
	}

}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Search&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;//æ£€æŸ¥keyçš„å…ƒç´ æ˜¯å¦å­˜åœ¨
func (tree *ItemBinarySearchTree) Search(key int) bool {

	tree.lock.Lock()
	defer tree.lock.Unlock()
	return search(tree.root, key)

}
func search(node *Node, key int) bool {

	if node == nil {
		return false
	}
  //å¦‚æœkeyçš„å€¼å°äºèŠ‚ç‚¹çš„å€¼ï¼Œé‚£ä¹ˆåº”è¯¥æ’å…¥åˆ°å·¦å­æ ‘
	if key &amp;lt; node.key {
	//å°†å·¦å­æ ‘ä½œä¸ºæ–°èŠ‚ç‚¹ï¼Œç»§ç»­æŸ¥è¯¢
		return search(node.left, key)
	}
	
	// å¦‚æœkeyçš„å€¼å¤§äºèŠ‚ç‚¹çš„å€¼ï¼Œé‚£ä¹ˆåº”è¯¥æ’å…¥å³å­æ ‘
	if key &amp;gt; node.key {
	//å°†å³å­æ ‘ä½œä¸ºæ–°èŠ‚ç‚¹ï¼Œç»§ç»­æŸ¥è¯¢
		return search(node.right, key)
	}

//å¦‚æœå½“å‰keyçš„å€¼==node.key è¿”å›true
	return true

}


&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Remove&lt;/strong&gt;&lt;/p&gt;
&lt;h5 id=&quot;åˆ é™¤èŠ‚ç‚¹çš„æµç¨‹&quot;&gt;åˆ é™¤èŠ‚ç‚¹çš„æµç¨‹&lt;/h5&gt;

&lt;p&gt;å…ˆé€’å½’æŸ¥æ‰¾ï¼Œå†åˆ é™¤èŠ‚ç‚¹ã€‚ä½†æ˜¯åœ¨åˆ é™¤æ—¶éœ€è¦æ ¹æ®èŠ‚ç‚¹æ‹¥æœ‰å­èŠ‚ç‚¹çš„æ•°é‡ï¼Œåˆ†å¦‚ä¸‹3ä¸­æƒ…å†µï¼š
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/1-4.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;h4 id=&quot;ä»£ç å®ç°-1&quot;&gt;ä»£ç å®ç°&lt;/h4&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
func (tree *ItemBinarySearchTree) remove(key int) {

	tree.lock.Lock()
	defer tree.lock.Unlock()
	remove(tree.root, key)
	
}

func remove(node *Node, key int) *Node {
	if node == nil {
		return nil
	}
	
   // å¦‚æœkey&amp;lt; node.key åˆ™å‘å·¦å¯»æ‰¾
	
	if key &amp;lt; node.key {
	
		// å°†å·¦èŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹é€’å½’ç»§ç»­å¯»æ‰¾
		
		node.left = remove(node.left, key)
		return node
	}

	// å¦‚æœkey&amp;gt; node.key åˆ™å‘å³å¯»æ‰¾

	if key &amp;gt; node.key {
	
	// å°†å³èŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹é€’å½’ç»§ç»­å¯»æ‰¾
	
		node.right = remove(node.right, key)
		return node
	}

//å¦‚æœkey==node.key åˆ¤æ–­nodeæœ‰æ²¡æœ‰å·¦å³å­æ ‘ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ç›´æ¥åˆ é™¤
	if node.left == nil &amp;amp;&amp;amp; node.right == nil {

		node = nil
		return node
	}
//å¦‚æœkey==node.key åˆ¤æ–­nodeæœ‰æ²¡æœ‰å·¦å³å­æ ‘ï¼Œå¦‚æœæœ‰å³å­æ ‘ï¼Œåˆ™å°†å³å­æ ‘ç›´æ¥èµ‹å€¼ç»™å½“å‰èŠ‚ç‚¹ï¼Œå®Œæˆè¦†ç›–åˆ é™¤
	if node.left == nil {
		node = node.right
		return node
	}
	
	//å¦‚æœkey==node.key åˆ¤æ–­nodeæœ‰æ²¡æœ‰å·¦å³å­æ ‘ï¼Œå¦‚æœæœ‰å³å­æ ‘ï¼Œåˆ™å°†å³å­æ ‘ç›´æ¥èµ‹å€¼ç»™å½“å‰èŠ‚ç‚¹ï¼Œå®Œæˆè¦†ç›–åˆ é™¤
	
	if node.right == nil {
		node = node.left
		return node
	}

	mostLeftMode := node.right
// è¦åˆ é™¤çš„èŠ‚ç‚¹æœ‰2ä¸ªå­—èŠ‚ç‚¹ï¼Œæ‰¾åˆ°å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹ï¼Œæ›¿æ¢å½“å‰èŠ‚ç‚¹ô±šô±ô²ô°ˆô°–ô°—ô°› 
	for {
	
	//ä¸€ç›´éå†æ‰¾åˆ°æœ€å·¦èŠ‚ç‚¹
		if mostLeftMode != nil &amp;amp;&amp;amp; mostLeftMode.left != nil {
			mostLeftMode = mostLeftMode.left
		} else {
			break
		}

	}

// ä½¿ç”¨å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹æ›¿æ¢å½“å‰çš„èŠ‚ç‚¹ï¼Œå³åˆ é™¤å½“å‰èŠ‚ç‚¹
	node.key, node.value = mostLeftMode.key,mostLeftMode.value

	node.right = remove(node.right, node.key)

	return node

}


&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Max&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;//è·å–æœ€å¤§èŠ‚ç‚¹å³ä¸ºäºŒå‰æ ‘æœ€å³èŠ‚ç‚¹ï¼Œæ ¹æ®äºŒå‰æ ‘çš„æ€§è´¨

func (tree *ItemBinarySearchTree) Max() *Item {

	tree.lock.Lock()
	defer tree.lock.Unlock()
	node := tree.root
	if node == nil {
		return nil
	}
	for {

		if node.right == nil {
			return &amp;amp;node.value
		}

		node = node.right
	}

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Min&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-'&quot;&gt;
// æ ¹æ®äºŒå‰æ ‘çš„æ€§è´¨,è·å–æœ€å¤§èŠ‚ç‚¹å³ä¸ºäºŒå‰æ ‘æœ€å³èŠ‚ç‚¹

func (tree *ItemBinarySearchTree) Min() *Item {

	tree.lock.Lock()
	defer tree.lock.Unlock()

	node := tree.root

	if node == nil {
		return nil
	}

	for {
		if node.left == nil {
			return &amp;amp;node.value
		} else {
			node = node.left
		}

	}

}

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;Traverse&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
// å…ˆåºéå†ï¼šæ ¹èŠ‚ç‚¹ -&amp;gt; å·¦å­æ ‘ -&amp;gt;å³å­æ ‘
func (tree *ItemBinarySearchTree) PreOrderTraverse(printFunc func(Item)) {

	tree.lock.Lock()
	defer tree.lock.Unlock()
	
	preOrderTraverse(tree.root, printFunc)

}

func preOrderTraverse(node *Node, printFunc func(Item)) {

	if node != nil {
	//å…ˆæ‰“å°æ ¹èŠ‚ç‚¹
		printFunc(node.value)
		
		//ç„¶åé€’å½’è°ƒç”¨è‡ªå·±ï¼Œå°†å·¦èŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹ï¼Œæ‰“å°
		preOrderTraverse(node.left, printFunc)
		//ç„¶åé€’å½’è°ƒç”¨è‡ªå·±ï¼Œå°†å³èŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹ï¼Œæ‰“å°
		preOrderTraverse(node.right, printFunc)

	}

}

// ä¸­åºéå†ï¼š å·¦å­æ ‘ -&amp;gt;æ ¹èŠ‚ç‚¹ -&amp;gt;å³å­æ ‘
func (tree *ItemBinarySearchTree) PostOrderTraverse(printFunc func(Item)) {

	tree.lock.Lock()
	defer tree.lock.Unlock()

	postOrderTraverse(tree.root, printFunc)

}

func postOrderTraverse(node *Node, printFunc func(Item)) {

	if node != nil {
    //é€’å½’è°ƒç”¨è‡ªå·±ï¼Œå°†å·¦èŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹ï¼Œæ‰“å°
		preOrderTraverse(node.left, printFunc)
		//æ‰“å°æ ¹èŠ‚ç‚¹
		printFunc(node.value)
		//é€’å½’è°ƒç”¨è‡ªå·±ï¼Œå°†å³èŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹ï¼Œæ‰“å°
		preOrderTraverse(node.right, printFunc)

	}

}


// ååºéå†ï¼š å·¦å­æ ‘  -&amp;gt;å³å­æ ‘-&amp;gt;æ ¹èŠ‚ç‚¹

func (tree *ItemBinarySearchTree) InOrderTraverse(printFunc func(Item)) {

	tree.lock.Lock()
	defer tree.lock.Unlock()

	inOrderTraverse(tree.root, printFunc)

}

func inOrderTraverse(node *Node, printFunc func(Item)) {

	if node != nil {
     //é€’å½’è°ƒç”¨è‡ªå·±ï¼Œå°†å·¦èŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹ï¼Œæ‰“å°
		preOrderTraverse(node.left, printFunc)
		//é€’å½’è°ƒç”¨è‡ªå·±ï¼Œå°†å³èŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹ï¼Œæ‰“å°
		preOrderTraverse(node.right, printFunc)
		//æ‰“å°æ ¹èŠ‚ç‚¹
		printFunc(node.value)

	}

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;String&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
//ååºéå†æ‰“å°æ ‘çš„ç»“æ„
func (tree *ItemBinarySearchTree) String() {
	tree.lock.Lock()
	defer tree.lock.Unlock()
	if tree.root == nil {
		println(&quot;Tree is empty&quot;)
		return
	}
	stringify(tree.root, 0)
	println(&quot;----------------------------&quot;)
}
func stringify(node *Node, level int) {
	if node == nil {
		return
	}
	format := &quot;&quot;
	for i := 0; i &amp;lt; level; i++ {
		format += &quot;\t&quot; //æ ¹æ®èŠ‚ç‚¹çš„æ·±åº¦å†³å®šç¼©è¿›é•¿åº¦

	}
	format += &quot;----[ &quot;
	level++
	//å…ˆé€’å½’æ‰“å°å·¦å­æ ‘ô±ˆô±‰ô±Šô±‹ô±Œô°Ÿô°œô°€ 
	stringify(node.left, level)
	//æ‰“å°å€¼
	fmt.Printf(format+&quot;%d\n&quot;, node.key) 
	//å†é€’å½’æ‰“å°å³å­æ ‘
	 stringify(node.right, level)
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;å¯¹äºäºŒå‰æ ‘çš„æ“ä½œï¼Œå¢åˆ æŸ¥éƒ½ä¸é€’å½’ç›¸å…³ï¼Œæ‰€ä»¥å®ç°çš„æ—¶å€™ä¸€å®šè¦åˆ†ææ¸…æ¥šé€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼Œåœ¨æ­£ç¡®çš„æ¡ä»¶ä¸‹returnï¼Œé¿å¼€æ­»å¾ªç¯ã€‚&lt;/strong&gt;&lt;/p&gt;

</description>
        <pubDate>Thu, 03 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/03/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/03/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/</guid>
        
        <category>äºŒå‰æ ‘</category>
        
        
      </item>
    
      <item>
        <title>Goè¯­è¨€ç®€å•å®ç°æ¯”ç‰¹å¸æŒ–çŸ¿åŸç†</title>
        <description>&lt;h3 id=&quot;åŒºå—é“¾åŸºæœ¬æ¦‚å¿µ&quot;&gt;åŒºå—é“¾åŸºæœ¬æ¦‚å¿µ&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;åŒºå—é“¾&lt;/code&gt;æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¯¹ç­‰ç½‘ç»œï¼ˆpeer-to-peerï¼‰çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;åˆ†å¸ƒå¼è´¦æœ¬æ•°æ®åº“&lt;/code&gt;ï¼Œ
æ¯”ç‰¹å¸çš„åº•å±‚å°±é‡‡ç”¨äº†åŒºå—é“¾çš„æŠ€æœ¯æ¶æ„ã€‚åŒºå—é“¾æœ¬èº«å…¶å®æ˜¯ä¸€ä¸²é“¾æ¥çš„æ•°æ®åŒºå—ï¼Œæ¯ç›¸é‚»åŒºå—ä¹‹é—´ç›¸äº’è¿æ¥ï¼Œå…¶é“¾æ¥æŒ‡é’ˆæ˜¯é‡‡ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;å¯†ç å­¦å“ˆå¸Œç®—æ³•&lt;/code&gt;å¯¹åŒºå—å¤´è¿›è¡Œå¤„ç†æ‰€äº§ç”Ÿçš„åŒºå—å¤´å“ˆå¸Œå€¼ã€‚æ¯ä¸€ä¸ªåŒºå—æ•°æ®å—ä¸­è®°å½•äº†ä¸€ç»„é‡‡ç”¨å“ˆå¸Œç®—æ³•ç»„æˆçš„æ ‘çŠ¶äº¤æ˜“çŠ¶æ€ä¿¡æ¯ï¼Œè¿™æ ·ä¿è¯äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;æ¯ä¸ªåŒºå—å†…çš„äº¤æ˜“æ•°æ®ä¸å¯ç¯¡æ”¹ï¼ŒåŒºå—é“¾é‡Œé“¾æ¥çš„åŒºå—ä¹Ÿä¸å¯ç¯¡æ”¹&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;æ¯”ç‰¹å¸çš„äº¤æ˜“è®°å½•ä¼šä¿å­˜åœ¨æ•°æ®åŒºå—ä¸­ï¼Œæ¯”ç‰¹å¸ç³»ç»Ÿä¸­å¤§çº¦æ¯10åˆ†é’Ÿä¼šäº§ç”Ÿä¸€ä¸ªåŒºå—ï¼Œæ¯ä¸ªæ•°æ®åŒºå—ä¸€èˆ¬åŒ…å«åŒºå—å¤´ï¼ˆHeaderï¼‰å’ŒåŒºå—ä½“ï¼ˆBodyï¼‰ä¸¤éƒ¨åˆ†ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/4-27-1-1.jpg&quot; alt=&quot;1-1.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åŒºå—å¤´å°è£…äº†å½“å‰çš„ç‰ˆæœ¬å·ï¼ˆVersionï¼‰ã€å‰ä¸€åŒºå—åœ°å€ï¼ˆPrev-Blockï¼‰ã€æ—¶é—´æˆ³ï¼ˆTimestampï¼‰ã€éšæœºæ•°ï¼ˆNonceï¼‰ã€å½“å‰ åŒºå—çš„ç›®æ ‡å“ˆå¸Œå€¼ï¼ˆBitsï¼‰ã€Merkleæ•°çš„æ ¹å€¼ï¼ˆMerkle-rootï¼‰ç­‰ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;h4 id=&quot;åŒºå—å¤´åˆ†æ&quot;&gt;åŒºå—å¤´åˆ†æ&lt;/h4&gt;
&lt;p&gt;å‰80ä¸ªå­—èŠ‚æ˜¯åŒºå—å¤´&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hash&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;000000000003ba27aa200b1cecaad478d2b00432346c3f1f3986da1afd33e506&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;ver&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;prev_block&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;000000000002d01c1fccc21636b607dfd930d31d01c3a62104612a1719011250&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;mrkl_root&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;f3e94742aca4b5ef85488dc37c06c3282295ffec960994b2c0d5ac2a25a95766&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;time&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1293623863&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;bits&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;453281356&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;nonce&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;274148111&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;å­—èŠ‚&lt;/th&gt;
      &lt;th&gt;å­—æ®µ&lt;/th&gt;
      &lt;th&gt;è¯´æ˜&lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;ç‰ˆæœ¬&lt;/td&gt;
      &lt;td&gt;åŒºå—ç‰ˆæœ¬å·ï¼Œè¡¨ç¤ºåŒºå—éµå®ˆçš„éªŒè¯è§„åˆ™&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;32&lt;/td&gt;
      &lt;td&gt;çˆ¶åŒºå—å¤´å“ˆå¸Œå€¼&lt;/td&gt;
      &lt;td&gt;å‰ä¸€åŒºå—çš„å“ˆå¸Œå€¼ï¼Œä½¿ç”¨SHA(SHA256(çˆ¶åŒºå—å¤´))è®¡ç®—&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;32&lt;/td&gt;
      &lt;td&gt;Merkleæ ¹&lt;/td&gt;
      &lt;td&gt;è¯¥åŒºå—ä¸­äº¤æ˜“çš„Merkleæ ‘æ ¹çš„å“ˆå¸Œå€¼ï¼Œ&lt;br /&gt;åŒæ ·é‡‡ç”¨SHA(SHA256(çˆ¶åŒºå—å¤´))è®¡ç®—&amp;lt;/br&amp;gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;æ—¶é—´æˆ³&lt;/td&gt;
      &lt;td&gt;è¯¥åŒºå—äº§ç”Ÿçš„è¿‘ä¼¼æ—¶é—´ï¼Œç²¾ç¡®åˆ°ç§’çš„UNIXæ—¶é—´æˆ³ï¼Œ&lt;br /&gt;å¿…é¡»ä¸¥æ ¼å¤§äºå‰11ä¸ªåŒºå—æ—¶é—´çš„ä¸­å€¼&amp;lt;/br&amp;gt;ï¼Œ&lt;br /&gt;åŒæ—¶å…¨èŠ‚ç‚¹ä¹Ÿä¼šæ‹’ç»é‚£äº›è¶…å‡ºè‡ªå·±2ä¸ªå°æ—¶æ—¶é—´æˆ³çš„åŒºå—&amp;lt;/br&amp;gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;éš¾åº¦ç›®æ ‡&lt;/td&gt;
      &lt;td&gt;è¯¥åŒºå—å·¥ä½œé‡ç®—æ³•çš„éš¾åº¦ç›®æ ‡ï¼Œå·²ç»ä½¿ç”¨ç‰¹å®šç®—æ³•ç¼–ç &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;Nonce&lt;/td&gt;
      &lt;td&gt;ä¸ºäº†æ‰¾åˆ°æ»¡è¶³éš¾åº¦ç›®æ ‡æ‰€è®¾å®šçš„éšæœºæ•°ï¼Œ&lt;br /&gt;ä¸ºäº†è§£å†³32ä½éšæœºæ•°åœ¨ç®—åŠ›é£å‡çš„æƒ…å†µä¸‹ä¸å¤Ÿç”¨çš„é—®é¢˜ï¼Œ&amp;lt;/br&amp;gt;è§„å®šæ—¶é—´æˆ³å’Œcoinbaseäº¤æ˜“ä¿¡æ¯å‡å¯æ›´æ”¹ï¼Œä»¥æ­¤æ‰©å±•nonceçš„ä½æ•°&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;æŒ–çŸ¿&quot;&gt;æŒ–çŸ¿&lt;/h3&gt;
&lt;p&gt;åŒºå—åœ¨æŒ–çŸ¿è¿‡ç¨‹ä¸­äº§ç”Ÿã€‚æ‰€è°“çš„æŒ–çŸ¿å®é™…ä¸Šæ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;ç©·ä¸¾éšæœºæ•°çš„ç®—æ³•&lt;/code&gt;ï¼ŒæŠŠä¸Šä¸ªåŒºå—çš„å“ˆå¸Œå€¼åŠ ä¸Šååˆ†é’Ÿå†…çš„å…¨éƒ¨äº¤æ˜“å•æ‰“åŒ…ï¼Œå†åŠ ä¸Šä¸€ä¸ªç®—è®¡æ•°ï¼Œç®—å‡ºä¸€ä¸ª256ä½çš„å­—ç¬¦ä¸²å“ˆå¸Œå€¼ï¼Œè¾“å…¥çš„éšæœºæ•°Nonce ä½¿å“ˆå¸Œå€¼æ»¡è¶³ä¸€å®šçš„æ¡ä»¶å°±è·å¾—è¿™ä¸ªåŒºå—çš„äº¤æ˜“è®°è´¦æƒã€‚æ–°äº§ç”Ÿçš„åŒºå—éœ€è¦&lt;code class=&quot;highlighter-rouge&quot;&gt;å¿«é€Ÿçš„å¹¿æ’­å‡ºå»&lt;/code&gt;ï¼Œä»¥ä¾¿å…¶ä»–çš„èŠ‚ç‚¹å¯¹å…¶è¿›è¡ŒéªŒè¯ï¼Œä»¥é˜²æ­¢é€ å‡ã€‚å½“è®°è´¦æˆåŠŸçš„æ—¶å€™ï¼Œå³è·å¾—åŒºå—å¥–åŠ±ï¼Œä¹Ÿå°±æ˜¯æŒ–åˆ°äº†æ¯”ç‰¹å¸ã€‚&lt;/p&gt;

&lt;h3 id=&quot;è·å¾—æ¯”ç‰¹å¸&quot;&gt;è·å¾—æ¯”ç‰¹å¸&lt;/h3&gt;
&lt;p&gt;éšç€éšæœºæ•°ï¼ˆNonceï¼‰çš„ä¸æ–­å˜åŒ–ï¼Œå°±ä¼šäº§ç”Ÿä¸åŒçš„å“ˆå¸Œå€¼ï¼Œå½“äº§ç”Ÿçš„&lt;code class=&quot;highlighter-rouge&quot;&gt;å“ˆå¸Œå€¼å·¦é¢çš„è¿ç»­ä½æ•°çš„0å€¼ä¸ªæ•°å¤§äºç­‰äºå½“å‰åŒºå—éš¾åº¦å€¼çš„æ—¶å€™&lt;/code&gt;ï¼Œå³ç¢°æ’æˆåŠŸï¼Œæ‰¾åˆ°éšæœºæ•°ï¼Œè·å¾—è®°è´¦æƒï¼Œè·å¾—æ¯”ç‰¹å¸ã€‚å¦‚ä¸‹å›¾ï¼š
&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/4-27-1-2.png&quot; alt=&quot;1-2.png&quot; /&gt;
è¿™ä¸ªéš¾åº¦ä¸º4ï¼Œç¢°æ’å‡ºçš„éšæœºæ•°æ˜¯87471.éšç€éš¾åº¦çš„ä¸æ–­æé«˜ï¼Œç¢°æ’å‡ºéšæœºæ•°çš„æ¦‚ç‡å°±è¶Šä½ã€‚ç›®å‰æ¯”ç‰¹å¸çŸ¿æœºæœ€å¤§çš„ç®—åŠ›ä¸ºèš‚èšå¤§é™†çš„S9çŸ¿æœºï¼ˆ14TH/sï¼‰ã€‚æˆ‘å°±æœ‰ä¸¤å°å“¦ï¼Œä¸è¿‡ç°åœ¨æ¯å¤©çš„äº§é‡åªæœ‰0.0009ä¸ªBTCï¼Œå°‘çš„å¯æ€œã€‚ã€‚ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ä»£ç å®ç°&quot;&gt;ä»£ç å®ç°&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å®šä¹‰blockç»“æ„ä½“&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
type block struct {

	ver       int   //ç‰ˆæœ¬å·
	prev_block string  //çˆ¶åŒºå—çš„å“ˆå¸Œå€¼
	mekl_root  string   //è¯¥åŒºå—merkleæ ‘çš„å“ˆå¸Œå€¼
	time       string   //æ—¶é—´æˆ³
	bits       int      // éš¾åº¦

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è·å–å“ˆå¸Œå€¼&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
func getHashValueStr(nonce int,blc block) string {

//æ‹¼æ¥åŒºå—ç‰ˆæœ¬å·ï¼Œæ—¶é—´æˆ³ï¼Œçˆ¶åŒºå—ï¼Œmerkleæ ‘ï¼Œéšæœºæ•°ä¸ºhvå­—ç¬¦ä¸²
	hv := strconv.Itoa(blc.ver) + blc.time + blc.prev_block+
		blc.mekl_root + strconv.Itoa(nonce)

	first := sha256.New()

	first.Write([]byte(hv))

// first.Sum(nil)è¿”å›å€¼ä¸º[]byte ç±»å‹çš„æ•°ç»„ï¼Œ
 è€Œå“ˆå¸Œå€¼ç”±æ¯ä½å­—ç¬¦16è¿›åˆ¶å­—ç¬¦ç»„æˆï¼Œæ‰€ä»¥åº”ç”¨fmt.Springtf
 å‡½æ•°å°†æ•°ç»„è½¬åŒ–ä¸ºå•ä¸ªå­—èŠ‚ä¸º16è¿›åˆ¶æ‹¼æ¥è€Œæˆçš„å“ˆå¸Œå­—ç¬¦ä¸²

	return fmt.Sprintf(&quot;%x&quot;,first.Sum(nil))

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ£€éªŒéšæœºæ•°ç”Ÿäº§çš„å“ˆå¸Œå‡½æ•°æ˜¯å¦ç¬¦åˆæ¡ä»¶&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;

func mining(hashStr string, diff int) bool {

	var i int

	for i = 0; i &amp;lt; len(hashStr); i++ {

      //å¦‚æœiä½æ•° çš„å€¼ä¸ä¸º0ï¼Œä¸æ»¡è¶³æ¡ä»¶ï¼Œè·³å‡ºå¾ªç¯
		if hashStr[i] != '0' {
			break
		}
	}
	//åˆ¤æ–­içš„å€¼æ˜¯å¦å¤§äºå½“å‰çš„éš¾åº¦ï¼Œå¤§äºç¢°æ’æˆåŠŸï¼Œå¦åˆ™å¤±è´¥
	return i &amp;gt;= diff

}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è·å–éšæœºæ•°&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
func getNonce(blc block)int  {

	nonce := 0
	
	//æ”¹å˜nonceçš„å€¼ï¼Œå¦‚æœè¿”å›falseï¼Œnonce++
	
	for !mining(getHashValueStr(nonce,blc), blc.bits) {

		fmt.Println(getHashValueStr(nonce,blc))
		nonce ++

	}
	fmt.Println(getHashValueStr(nonce,blc))
	fmt.Println(&quot;å‡ºå—æˆåŠŸï¼&quot;)

	return nonce


}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ä¸»å‡½æ•°&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
func main() {

	prev_block := &quot;000000000003ba27aa200b1cecaad478d2b00432346c3f1f3986da1afd33e506&quot;

	mrkl_root := &quot;000000000002d01c1fccc21636b607dfd930d31d01c3a62104612a1719011250&quot;

	time := &quot;1293623863&quot;

	bits := 4

	block := block{1, prev_block, mrkl_root, time, bits}

	nc := getNonce(block)

	fmt.Println(nc)

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://p7rz9r9fd.bkt.clouddn.com/4-27-1-3.png&quot; alt=&quot;1-3&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;ä»£ç åªæ˜¯ç®€å•çš„å®ç°äº†æ¯”ç‰¹å¸çš„æŒ–çŸ¿åŸç†ï¼Œå®é™…ä¸Šå¯èƒ½æ¯”è¿™å¤„ç†çš„æ›´ç»†è‡´ï¼Œè€ƒè™‘çš„æ›´å…¨é¢ä¸€äº›ã€‚
è‡³äºæŒ–çŸ¿çš„äº‹æƒ…ï¼Œå…µæ³•æœ‰äº‘â€œå…µè´µç¥é€Ÿâ€ï¼Œ17å¹´æ¯”ç‰¹å¸å¤§æ¶¨ï¼Œé‚£æ—¶å€™éš¾åº¦è¿˜ä¸æ˜¯å¾ˆé«˜ï¼Œå»äº‘å—å››å·é‚£è¾¹æŠ•èµ„çŸ¿å‚çš„äººéƒ½èµšçš„ç›†æ»¡é’µæ»¡ï¼Œæˆ‘å°±è®¤è¯†äº†ä¸€ä½17å¹´åˆæŒ–çŸ¿çš„çŸ¿å·¥ï¼Œæœ€é«˜å³°æ‹¥æœ‰20000å°S9ï¼Œä¸€å¹´èµšäº†å°†è¿‘10äº¿ï¼ŒæŠ•èµ„æˆæœ¬æ®è¯´æ˜¯å‡ åä¸‡ã€‚å½“ç„¶è¿™äº›ä¹Ÿéƒ½éœ€è¦ä¸€äº›çœ¼å…‰ï¼Œå‹‡æ°”ï¼Œæˆ‘åªæ˜¯åœ¨ç°åœ¨çœ‹è¿‡å»ç½¢äº†ï¼Œè‡³äºé‚£ä¸ªæ—¶å€™è°éƒ½ä¸çŸ¥é“æ¯”ç‰¹å¸èƒ½æ¶¨è¿™ä¹ˆçŒ›ã€‚åŒ…æ‹¬ç°åœ¨æˆ‘ä¹‹æ‰€ä»¥è¿˜ä¼šç»§ç»­è´­ç½®çŸ¿æœºï¼Œæ˜¯å› ä¸ºæˆ‘åŒæ ·è®¤ä¸ºç›®å‰æ¯”ç‰¹å¸è¿˜è¿œè¿œæœªåˆ°è¾¾å®ƒåº”æœ‰çš„ä»·å€¼ï¼Œäº§é‡è™½ç„¶å°‘ï¼Œä½†æ˜¯æŒ–å‡ºçš„å¸æˆ‘æ˜¯ä¸ä¼šå–çš„ï¼Œ5å¹´ä»¥åï¼Œ10å¹´ä»¥åå†çœ‹ï¼Œé‚£å¯èƒ½åŒæ ·ç°åœ¨çœ‹è¿‡å»çš„æ„Ÿè§‰ã€‚å½“ç„¶è¿™äº›ä¸æ˜¯é‡ç‚¹ï¼Œä¹Ÿä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚é‡ç‚¹çœ‹ä»£ç ï¼Œçœ‹ä»£ç ï¼ğŸ˜‚&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/shuailaotou/go-&quot;&gt;githubæºä»£ç &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æ®è¯´æ‰¾å·¥ä½œgithubçš„Starå¾ˆé‡è¦ï¼Œå“ˆå“ˆå“ˆã€‚å–œæ¬¢å°±starä¸€ä¸‹å§ï¼ğŸ‘»ğŸ‘»ğŸ‘»&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä½œè€…åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œå¦‚æœ‰é”™è¯¯æè¿°ï¼Œè¯·è¯„è®ºçº æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼ğŸ³ğŸ³ğŸ³&lt;/p&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Thu, 03 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/03/Go%E8%AF%AD%E8%A8%80%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0%E6%AF%94%E7%89%B9%E5%B8%81%E6%8C%96%E7%9F%BF%E5%8E%9F%E7%90%86/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/03/Go%E8%AF%AD%E8%A8%80%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0%E6%AF%94%E7%89%B9%E5%B8%81%E6%8C%96%E7%9F%BF%E5%8E%9F%E7%90%86/</guid>
        
        <category>æŒ–çŸ¿</category>
        
        
      </item>
    
      <item>
        <title>Golangç»å…¸ç¬”è¯•é¢˜åŠç­”æ¡ˆï¼ˆä¸‹ç¯‡ï¼‰</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;æ•´ç†ï¼šé»è·ƒæ˜¥&lt;/p&gt;

  &lt;p&gt;åšå®¢ï¼šhttp://liyuechun.org&lt;/p&gt;

  &lt;p&gt;å®˜ç½‘ï¼šhttp://kongyixueyuan.com&lt;/p&gt;

  &lt;p&gt;å¤‡æ³¨ï¼šå¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡æ­£ï¼Œä¸æ–­æ›´æ–°è¿­ä»£&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;1-ä¸‹é¢ä»£ç èƒ½è¿è¡Œå—ä¸ºä»€ä¹ˆ&quot;&gt;1. ä¸‹é¢ä»£ç èƒ½è¿è¡Œå—ï¼Ÿä¸ºä»€ä¹ˆ&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;type Param map[string]interface{}

type Show struct {
	Param
}

func main1() {
	s := new(Show)
	s.Param[&quot;RMB&quot;] = 10000
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;panic: assignment to entry in nil map

goroutine 1 [running]:
main.main()
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¦‚ä¸Šæ‰€ç¤ºï¼Œè¿è¡Œè¿‡ç¨‹ä¸­ä¼šå‘ç”Ÿå¼‚å¸¸ï¼ŒåŸå› æ˜¯å› ä¸ºå­—å…¸&lt;code class=&quot;highlighter-rouge&quot;&gt;Param&lt;/code&gt;çš„é»˜è®¤å€¼ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;ï¼Œå½“ç»™å­—å…¸&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;å¢åŠ é”®å€¼å¯¹æ˜¯å°±ä¼šå‘ç”Ÿè¿è¡Œæ—¶é”™è¯¯&lt;code class=&quot;highlighter-rouge&quot;&gt;panic: assignment to entry in nil map&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æ­£ç¡®çš„ä¿®æ”¹æ–¹æ¡ˆå¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import &quot;fmt&quot;

type Param map[string]interface{}

type Show struct {
	Param
}

func main() {

	// åˆ›å»ºShowç»“æ„ä½“å¯¹è±¡
	s := new(Show)
	// ä¸ºå­—å…¸Paramèµ‹åˆå§‹å€¼
	s.Param = Param{}
	// ä¿®æ”¹é”®å€¼å¯¹
	s.Param[&quot;RMB&quot;] = 10000
	fmt.Println(s)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;amp;{map[RMB:10000]}

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;2-è¯·è¯´å‡ºä¸‹é¢ä»£ç å­˜åœ¨ä»€ä¹ˆé—®é¢˜&quot;&gt;2. è¯·è¯´å‡ºä¸‹é¢ä»£ç å­˜åœ¨ä»€ä¹ˆé—®é¢˜&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;type student struct {
	Name string
}

func f(v interface{}) {
	switch msg := v.(type) {
    	case *student, student:
    		msg.Name
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;é—®é¢˜ä¸€ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;interface{}&lt;/code&gt;æ˜¯ä¸€ä¸ªæ²¡æœ‰å£°æ˜ä»»ä½•æ–¹æ³•çš„æ¥å£ã€‚&lt;/li&gt;
  &lt;li&gt;é—®é¢˜äºŒï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;Name&lt;/code&gt;æ˜¯ä¸€ä¸ªå±æ€§ï¼Œè€Œä¸æ˜¯æ–¹æ³•ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;interface{}&lt;/code&gt;ç±»å‹çš„å˜é‡æ— æ³•è°ƒç”¨å±æ€§ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;3-å†™å‡ºæ‰“å°çš„ç»“æœ&quot;&gt;3. å†™å‡ºæ‰“å°çš„ç»“æœã€‚&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;type People struct {
	name string `json:&quot;name&quot;`
}

func main() {
	js := `{
		&quot;name&quot;:&quot;11&quot;
	}`
	var p People
	err := json.Unmarshal([]byte(js), &amp;amp;p)
	if err != nil {
		fmt.Println(&quot;err: &quot;, err)
		return
	}
	fmt.Println(&quot;people: &quot;, p)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¾“å‡ºå†…å®¹å¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;people:  {}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;pä¸­çš„å±æ€§å€¼ä¸ºç©ºçš„åŸå› æ˜¯å› ä¸ºï¼Œnameçš„é¦–å­—æ¯å°å†™ï¼Œä¿®æ”¹æˆå¤§å†™ï¼Œé‡æ–°è¿è¡Œå³å¯ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import (
	&quot;encoding/json&quot;
	&quot;fmt&quot;
)

type People struct {
	Name string `json:&quot;name&quot;`
}

func main() {
	js := `{
        &quot;name&quot;:&quot;11&quot;
    }`
	var p People
	err := json.Unmarshal([]byte(js), &amp;amp;p)
	if err != nil {
		fmt.Println(&quot;err: &quot;, err)
		return
	}
	fmt.Println(&quot;people: &quot;, p)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;people:  {11}

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;4-ä¸‹é¢çš„ä»£ç æ˜¯æœ‰é—®é¢˜çš„è¯·è¯´æ˜åŸå› &quot;&gt;4. ä¸‹é¢çš„ä»£ç æ˜¯æœ‰é—®é¢˜çš„ï¼Œè¯·è¯´æ˜åŸå› ã€‚&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import &quot;fmt&quot;

type People struct {
	Name string
}

func (p *People) String() string {
	return fmt.Sprintf(&quot;print: %v&quot;, p)
}

func main() {
	p := &amp;amp;People{}
	p.String()
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;runtime: goroutine stack exceeds 1000000000-byte limit
fatal error: stack overflow

runtime stack:
runtime.throw(0x10c122b, 0xe)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å¦‚ä¸‹æ‰€ç¤ºï¼Œä¸Šé¢çš„ä»£ç å‡ºç°äº†æ ˆæº¢å‡ºï¼ŒåŸå› æ˜¯å› ä¸º%væ ¼å¼åŒ–å­—ç¬¦ä¸²æ˜¯æœ¬èº«ä¼šè°ƒç”¨String()æ–¹æ³•ï¼Œä¸Šé¢çš„æ ˆæº¢å‡ºæ˜¯å› ä¸ºæ— é™é€’å½’æ‰€è‡´ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;5-è¯·æ‰¾å‡ºä¸‹é¢ä»£ç çš„é—®é¢˜æ‰€åœ¨&quot;&gt;5. è¯·æ‰¾å‡ºä¸‹é¢ä»£ç çš„é—®é¢˜æ‰€åœ¨ã€‚&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import (
	&quot;fmt&quot;
	&quot;time&quot;
)

func main() {
	ch := make(chan int, 1000)
	go func() {
		for i := 0; i &amp;lt; 10; i++ {
			ch &amp;lt;- i
		}
	}()
	go func() {
		for {
			a, ok := &amp;lt;-ch
			if !ok {
				fmt.Println(&quot;close&quot;)
				return
			}
			fmt.Println(&quot;a: &quot;, a)
		}
	}()
	close(ch)
	fmt.Println(&quot;ok&quot;)
	time.Sleep(time.Second * 100)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;panic: send on closed channel
ok

goroutine 5 [running]:
main.main.func1(0xc420098000)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è§£æï¼šå‡ºç°ä¸Šé¢é”™è¯¯çš„åŸå› æ˜¯å› ä¸ºæå‰å…³é—­é€šé“æ‰€è‡´ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import (
	&quot;fmt&quot;
	&quot;time&quot;
)

func main() {
	// åˆ›å»ºä¸€ä¸ªç¼“å†²é€šé“
	ch := make(chan int, 1000)

	go func() {
		for i := 0; i &amp;lt; 10; i++ {
			ch &amp;lt;- i
		}
	}()

	go func() {
		for i := 0; i &amp;lt; 10; i++ {
			a, ok := &amp;lt;-ch
			
			if !ok {
				fmt.Println(&quot;close&quot;)
				close(ch)
				return
			}
			fmt.Println(&quot;a: &quot;, a)
		}
	}()

	fmt.Println(&quot;ok&quot;)
	time.Sleep(time.Second)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ok
a:  0
a:  1
a:  2
a:  3
a:  4
a:  5
a:  6
a:  7
a:  8
a:  9
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;6-è¯·è¯´æ˜ä¸‹é¢ä»£ç ä¹¦å†™æ˜¯å¦æ­£ç¡®&quot;&gt;6. è¯·è¯´æ˜ä¸‹é¢ä»£ç ä¹¦å†™æ˜¯å¦æ­£ç¡®ã€‚&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;var value int32

func SetValue(delta int32) {
	for {
		v := value
		if atomic.CompareAndSwapInt32(&amp;amp;value, v(v+delta)) {
			break
		}
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;atomic.CompareAndSwapInt32&lt;/code&gt;é‡Œé¢ä¸€å…±ä¸‰ä¸ªå‚æ•°ï¼Œä¸Šé¢çš„ä¹¦å†™é”™è¯¯ï¼Œæ­£ç¡®çš„ä¹¦å†™æ˜¯ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;atomic.CompareAndSwapInt32(&amp;amp;value, v,v+delta)&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;func CompareAndSwapInt32(addr *int32, old, new int32) (swapped bool)&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼åº”è¯¥æ˜¯æŒ‡å‘è¢«æ“ä½œå€¼çš„æŒ‡é’ˆå€¼ã€‚è¯¥å€¼çš„ç±»å‹å³ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;*int32&lt;/code&gt;ã€‚&lt;/li&gt;
  &lt;li&gt;åä¸¤ä¸ªå‚æ•°çš„ç±»å‹éƒ½æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;int32&lt;/code&gt;ç±»å‹ã€‚å®ƒä»¬çš„å€¼åº”è¯¥åˆ†åˆ«ä»£è¡¨è¢«æ“ä½œå€¼çš„æ—§å€¼å’Œæ–°å€¼&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;CompareAndSwapInt32Â·å‡½æ•°åœ¨è¢«è°ƒç”¨ä¹‹åä¼šå…ˆåˆ¤æ–­å‚æ•°&lt;/code&gt;addr&lt;code class=&quot;highlighter-rouge&quot;&gt;æŒ‡å‘çš„è¢«æ“ä½œå€¼ä¸å‚æ•°&lt;/code&gt;old`çš„å€¼æ˜¯å¦ç›¸ç­‰ã€‚&lt;/li&gt;
  &lt;li&gt;ä»…å½“æ­¤åˆ¤æ–­å¾—åˆ°è‚¯å®šçš„ç»“æœä¹‹åï¼Œè¯¥å‡½æ•°æ‰ä¼šç”¨å‚æ•°&lt;code class=&quot;highlighter-rouge&quot;&gt;new&lt;/code&gt;ä»£è¡¨çš„æ–°å€¼æ›¿æ¢æ‰åŸå…ˆçš„æ—§å€¼ã€‚å¦åˆ™ï¼Œåé¢çš„æ›¿æ¢æ“ä½œå°±ä¼šè¢«å¿½ç•¥ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import (
	&quot;sync/atomic&quot;
	&quot;fmt&quot;
)

var value int32

func SetValue(delta int32) {
	for {
		v := value
		// æ¯”è¾ƒå¹¶äº¤æ¢

		if atomic.CompareAndSwapInt32(&amp;amp;value, v,v+delta) {
			fmt.Println(value)
			break
		}
	}
}

func main()  {
	SetValue(100)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;100&lt;/code&gt;.&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;7-ä¸‹é¢çš„ç¨‹åºè¿è¡Œåä¸ºä»€ä¹ˆä¼šçˆ†å¼‚å¸¸&quot;&gt;7. ä¸‹é¢çš„ç¨‹åºè¿è¡Œåä¸ºä»€ä¹ˆä¼šçˆ†å¼‚å¸¸ã€‚&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import (
	&quot;fmt&quot;
	&quot;time&quot;
)

type Project struct{}

func (p *Project) deferError() {
	if err := recover(); err != nil {
		fmt.Println(&quot;recover: &quot;, err)
	}
}

func (p *Project) exec(msgchan chan interface{}) {
	for msg := range msgchan {
		m := msg.(int)
		fmt.Println(&quot;msg: &quot;, m)
	}
}

func (p *Project) run(msgchan chan interface{}) {
	for {
		defer p.deferError()
		go p.exec(msgchan)
		time.Sleep(time.Second * 2)
	}
}

func (p *Project) Main() {
	a := make(chan interface{}, 100)
	go p.run(a)
	go func() {
		for {
			a &amp;lt;- &quot;1&quot;
			time.Sleep(time.Second)
		}
	}()
	time.Sleep(time.Second * 100)
}

func main() {
	p := new(Project)
	p.Main()
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;panic: interface conversion: interface {} is string, not int

goroutine 17 [running]:
main.(*Project).exec(0x1157c08, 0xc420068060)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å‡ºç°å¼‚å¸¸çš„åŸå› æ˜¯å› ä¸ºå†™å…¥åˆ°ç®¡é“çš„æ•°æ®ç±»å‹ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;,è€Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;m := msg.(int)&lt;/code&gt;è¿™å¥ä»£ç é‡Œé¢å´ä½¿ç”¨äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;int&lt;/code&gt;ï¼Œä¿®æ”¹æ–¹æ³•ï¼Œå°†&lt;code class=&quot;highlighter-rouge&quot;&gt;int&lt;/code&gt;ä¿®æ”¹ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;å³å¯ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å®Œæ•´æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import (
	&quot;fmt&quot;
	&quot;time&quot;
)

type Project struct{}

func (p *Project) deferError() {
	if err := recover(); err != nil {
		fmt.Println(&quot;recover: &quot;, err)
	}
}

func (p *Project) exec(msgchan chan interface{}) {
	for msg := range msgchan {
		m := msg.(string)
		fmt.Println(&quot;msg: &quot;, m)
	}
}

func (p *Project) run(msgchan chan interface{}) {
	for {
		defer p.deferError()
		go p.exec(msgchan)
		time.Sleep(time.Second * 2)
	}
}

func (p *Project) Main() {
	a := make(chan interface{}, 100)
	go p.run(a)
	go func() {
		for {
			a &amp;lt;- &quot;1&quot;
			time.Sleep(time.Second)
		}
	}()
	time.Sleep(time.Second * 100)
}

func main() {
	p := new(Project)
	p.Main()
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;msg:  1
msg:  1
msg:  1
.
.
.
msg:  1
msg:  1
msg:  1
msg:  1
msg:  1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;8-è¯·è¯´å‡ºä¸‹é¢ä»£ç å“ªé‡Œå†™é”™äº†&quot;&gt;8. è¯·è¯´å‡ºä¸‹é¢ä»£ç å“ªé‡Œå†™é”™äº†ã€‚&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func main() {
	abc := make(chan int, 1000)
	for i := 0; i &amp;lt; 10; i++ {
		abc &amp;lt;- i
	}
	go func() {
		for {
			a := &amp;lt;-abc
			fmt.Println(&quot;a: &quot;, a)
		}
	}()
	close(abc)
	fmt.Println(&quot;close&quot;)
	time.Sleep(time.Second * 100)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;goä¸­çš„forå¾ªç¯æ˜¯æ­»å¾ªç¯ï¼Œåº”è¯¥è®¾ç½®å‡ºå£ã€‚æ­£ç¡®ä»£ç å¦‚ä¸‹ï¼š&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import (
	&quot;fmt&quot;
	&quot;time&quot;
)

func main() {
	abc := make(chan int, 1000)
	for i := 0; i &amp;lt; 10; i++ {
		abc &amp;lt;- i
	}
	go func() {
		for {
			a,ok := &amp;lt;-abc
			if !ok {
				fmt.Println(&quot;ç»“æŸï¼&quot;)
				return
			}
			fmt.Println(&quot;a: &quot;, a)
		}
	}()
	close(abc)
	fmt.Println(&quot;close&quot;)
	time.Sleep(time.Second * 100)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœä¸ºï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;close
a:  0
a:  1
a:  2
a:  3
a:  4
a:  5
a:  6
a:  7
a:  8
a:  9
ç»“æŸï¼
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;9-è¯·è¯´å‡ºä¸‹é¢ä»£ç æ‰§è¡Œæ—¶ä¸ºä»€ä¹ˆä¼šæŠ¥é”™&quot;&gt;9. è¯·è¯´å‡ºä¸‹é¢ä»£ç ï¼Œæ‰§è¡Œæ—¶ä¸ºä»€ä¹ˆä¼šæŠ¥é”™&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;type Student struct {
	name string
}

func main() {
	m := map[string]Student{&quot;people&quot;: {&quot;liyuechun&quot;}}
	m[&quot;people&quot;].name = &quot;wuyanzu&quot;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ç­”æ¡ˆï¼šæŠ¥é”™çš„åŸå› æ˜¯å› ä¸ºä¸èƒ½ä¿®æ”¹å­—å…¸ä¸­&lt;code class=&quot;highlighter-rouge&quot;&gt;value&lt;/code&gt;ä¸ºç»“æ„ä½“çš„å±æ€§å€¼ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ä»£ç ä½œå¦‚ä¸‹ä¿®æ”¹æ–¹å¯è¿è¡Œï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import &quot;fmt&quot;

type Student struct {
	name string
}

func main() {
	m := map[string]Student{&quot;people&quot;: {&quot;liyuechun&quot;}}
	fmt.Println(m)
	fmt.Println(m[&quot;people&quot;])

	// ä¸èƒ½ä¿®æ”¹å­—å…¸ä¸­ç»“æ„ä½“å±æ€§çš„å€¼
	//m[&quot;people&quot;].name = &quot;wuyanzu&quot;
	
	var s Student = m[&quot;people&quot;] //æ·±æ‹·è´
	s.name = &quot;xietingfeng&quot;
	fmt.Println(m)
	fmt.Println(s)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;map[people:{liyuechun}]
{liyuechun}
map[people:{liyuechun}]
{wuyanzu}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;10-è¯·è¯´å‡ºä¸‹é¢çš„ä»£ç å­˜åœ¨ä»€ä¹ˆé—®é¢˜&quot;&gt;10. è¯·è¯´å‡ºä¸‹é¢çš„ä»£ç å­˜åœ¨ä»€ä¹ˆé—®é¢˜&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;type query func(string) string

func exec(name string, vs ...query) string {
	ch := make(chan string)
	fn := func(i int) {
		ch &amp;lt;- vs[i](name)
	}
	for i, _ := range vs {
		go fn(i)
	}
	return &amp;lt;-ch
}

func main() {
	ret := exec(&quot;111&quot;, func(n string) string {
		return n + &quot;func1&quot;
	}, func(n string) string {
		return n + &quot;func2&quot;
	}, func(n string) string {
		return n + &quot;func3&quot;
	}, func(n string) string {
		return n + &quot;func4&quot;
	})
	fmt.Println(ret)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;return &amp;lt;-ch&lt;/code&gt;&lt;/strong&gt;ä¹‹æ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥ä¸ç®¡ä¼ å…¥å¤šå°‘&lt;code class=&quot;highlighter-rouge&quot;&gt;query&lt;/code&gt;å‡½æ•°ï¼Œéƒ½åªæ˜¯è¯»å–æœ€å…ˆæ‰§è¡Œå®Œçš„&lt;code class=&quot;highlighter-rouge&quot;&gt;query&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å…³æ³¨åŒºå—é“¾éƒ¨è½å®æ—¶è·å–æœ€æ–°æŠ€æœ¯æ–‡ç« &quot;&gt;å…³æ³¨åŒºå—é“¾éƒ¨è½ï¼Œå®æ—¶è·å–æœ€æ–°æŠ€æœ¯æ–‡ç« &lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;http://om1c35wrq.bkt.clouddn.com/%E5%8C%BA%E5%9D%97%E9%93%BE%E9%83%A8%E8%90%BD-1.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Fri, 27 Apr 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/04/27/golang-interview/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/04/27/golang-interview/</guid>
        
        <category>ç¬”è¯•é¢˜</category>
        
        
      </item>
    
      <item>
        <title>Golangç»å…¸ç¬”è¯•é¢˜åŠç­”æ¡ˆï¼ˆä¸Šç¯‡ï¼‰</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;æ•´ç†ï¼šé»è·ƒæ˜¥
åšå®¢ï¼šhttp://liyuechun.org
å®˜ç½‘ï¼šhttp://kongyixueyuan.com&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;1-å†™å‡ºä¸‹é¢ä»£ç è¾“å‡ºå†…å®¹&quot;&gt;1. å†™å‡ºä¸‹é¢ä»£ç è¾“å‡ºå†…å®¹&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&quot;language-Go&quot;&gt;package main

import (
	&quot;fmt&quot;
)

func main() {
	defer_call()
}

func defer_call() {

	defer func() {
		fmt.Println(&quot;æ‰“å°å‰&quot;)
	}()

	defer func() {
		fmt.Println(&quot;æ‰“å°ä¸­&quot;)
	}()

	defer func() {
		fmt.Println(&quot;æ‰“å°å&quot;)
	}()

	panic(&quot;è§¦å‘å¼‚å¸¸&quot;)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;è§¦å‘å¼‚å¸¸&lt;/code&gt;è¿™å‡ ä¸ªå­—æ‰“å°çš„é¡ºåºå…¶å®æ˜¯ä¸ç¡®å®šçš„ã€‚&lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;panic&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;recover&lt;/code&gt;ä¸€èˆ¬éƒ½ä¼šé…å¥—ä½¿ç”¨æ¥æ•æ‰å¼‚å¸¸ã€‚å…ˆçœ‹ä¸‹é¢çš„æ¡ˆä¾‹ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æ¡ˆä¾‹ä¸€&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import (
	&quot;fmt&quot;
)

func main() {
	defer_call()
}

func defer_call() {

	defer func() {
		fmt.Println(&quot;æ‰“å°å‰&quot;)
	}()

	defer func() {
		fmt.Println(&quot;æ‰“å°ä¸­&quot;)
	}()

	defer func() { // å¿…é¡»è¦å…ˆå£°æ˜deferï¼Œå¦åˆ™recover()ä¸èƒ½æ•è·åˆ°panicå¼‚å¸¸

		if err := recover();err != nil {
			fmt.Println(err) //err å°±æ˜¯panicä¼ å…¥çš„å‚æ•°
		}
		fmt.Println(&quot;æ‰“å°å&quot;)
	}()

	panic(&quot;è§¦å‘å¼‚å¸¸&quot;)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¾“å‡ºå†…å®¹ä¸ºï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;è§¦å‘å¼‚å¸¸
æ‰“å°å
æ‰“å°ä¸­
æ‰“å°å‰

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;æ¡ˆä¾‹äºŒ&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import (
	&quot;fmt&quot;
)

func main() {
	defer_call()
}

func defer_call() {

	defer func() {
		fmt.Println(&quot;æ‰“å°å‰&quot;)
	}()

	defer func() { // å¿…é¡»è¦å…ˆå£°æ˜deferï¼Œå¦åˆ™recover()ä¸èƒ½æ•è·åˆ°panicå¼‚å¸¸
		if err := recover();err != nil {
			fmt.Println(err) //err å°±æ˜¯panicä¼ å…¥çš„å‚æ•°
		}
		fmt.Println(&quot;æ‰“å°ä¸­&quot;)
	}()

	defer func() {

		fmt.Println(&quot;æ‰“å°å&quot;)
	}()

	panic(&quot;è§¦å‘å¼‚å¸¸&quot;)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¾“å‡ºå†…å®¹ä¸ºï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;æ‰“å°å
è§¦å‘å¼‚å¸¸
æ‰“å°ä¸­
æ‰“å°å‰

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;æ¡ˆä¾‹ä¸‰&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import (
	&quot;fmt&quot;
)

func main() {
	defer_call()
}

func defer_call() {

	defer func() {
		if err := recover();err != nil {
			fmt.Println(err) //err å°±æ˜¯panicä¼ å…¥çš„å‚æ•°
		}
		fmt.Println(&quot;æ‰“å°å‰&quot;)
	}()

	defer func() { // å¿…é¡»è¦å…ˆå£°æ˜deferï¼Œå¦åˆ™recover()ä¸èƒ½æ•è·åˆ°panicå¼‚å¸¸
		if err := recover();err != nil {
			fmt.Println(err) //err å°±æ˜¯panicä¼ å…¥çš„å‚æ•°
		}
		fmt.Println(&quot;æ‰“å°ä¸­&quot;)
	}()

	defer func() {
		if err := recover();err != nil {
			fmt.Println(err) //err å°±æ˜¯panicä¼ å…¥çš„å‚æ•°
		}
		fmt.Println(&quot;æ‰“å°å&quot;)
	}()

	panic(&quot;è§¦å‘å¼‚å¸¸&quot;)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¾“å‡ºå†…å®¹ä¸ºï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;è§¦å‘å¼‚å¸¸
æ‰“å°å
æ‰“å°ä¸­
æ‰“å°å‰

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ€»ç»“ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt;å‡½æ•°å±å»¶è¿Ÿæ‰§è¡Œï¼Œå»¶è¿Ÿåˆ°è°ƒç”¨è€…å‡½æ•°æ‰§è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;return&lt;/code&gt; å‘½ä»¤å‰è¢«æ‰§è¡Œã€‚å¤šä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt;ä¹‹é—´æŒ‰&lt;code class=&quot;highlighter-rouge&quot;&gt;LIFO&lt;/code&gt;å…ˆè¿›åå‡ºé¡ºåºæ‰§è¡Œã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Go&lt;/code&gt;ä¸­å¯ä»¥æŠ›å‡ºä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;panic&lt;/code&gt;çš„å¼‚å¸¸ï¼Œç„¶ååœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt;ä¸­é€šè¿‡&lt;code class=&quot;highlighter-rouge&quot;&gt;recover&lt;/code&gt;æ•è·è¿™ä¸ªå¼‚å¸¸ï¼Œç„¶åæ­£å¸¸å¤„ç†ã€‚&lt;/li&gt;
  &lt;li&gt;å¦‚æœåŒæ—¶æœ‰å¤šä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt;ï¼Œé‚£ä¹ˆå¼‚å¸¸ä¼šè¢«æœ€è¿‘çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;recover()&lt;/code&gt;æ•è·å¹¶æ­£å¸¸å¤„ç†ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;2-ä»¥ä¸‹ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜è¯´æ˜åŸå› &quot;&gt;2. ä»¥ä¸‹ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œè¯´æ˜åŸå› &lt;/h3&gt;

&lt;pre&gt;&lt;code class=&quot;language-Go&quot;&gt;package main
import (
	&quot;fmt&quot;
)
type student struct {
	Name string
	Age  int
}
func pase_student() map[string]*student {
	m := make(map[string]*student)
	stus := []student{
		{Name: &quot;zhou&quot;, Age: 24},
		{Name: &quot;li&quot;, Age: 23},
		{Name: &quot;wang&quot;, Age: 22},
	}
	for _, stu := range stus {
		m[stu.Name] = &amp;amp;stu
	}
	return m
}
func main() {
	students := pase_student()
	for k, v := range students {
		fmt.Printf(&quot;key=%s,value=%v \n&quot;, k, v)
	}
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;key=zhou,value=&amp;amp;{wang 22} 
key=li,value=&amp;amp;{wang 22} 
key=wang,value=&amp;amp;{wang 22} 

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ä¿®æ”¹ä¸€ä¸‹ä»£ç ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å°†ä¸‹é¢çš„ä»£ç ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;for _, stu := range stus {
    m[stu.Name] = &amp;amp;stu
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ä¿®æ”¹ä¸ºï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;for _, stu := range stus {
	fmt.Printf(&quot;%v\t%p\n&quot;,stu,&amp;amp;stu)
	m[stu.Name] = &amp;amp;stu
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœä¸ºï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;shen&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;xc&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4200&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4020&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;li&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;xc&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4200&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4020&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;wang&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;xc&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4200&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4020&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;key=shen,value=&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;wang&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;key=li,value=&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;wang&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;key=wang,value=&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;wang&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 

&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;Process&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;finished&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;é€šè¿‡ä¸Šé¢çš„æ¡ˆä¾‹ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°&lt;code class=&quot;highlighter-rouge&quot;&gt;stu&lt;/code&gt;&lt;/strong&gt;å˜é‡çš„åœ°å€å§‹ç»ˆä¿æŒä¸å˜ï¼Œæ¯æ¬¡éå†ä»…è¿›è¡Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;struct&lt;/code&gt;å€¼æ‹·è´ï¼Œæ•…&lt;code class=&quot;highlighter-rouge&quot;&gt;m[stu.Name]=&amp;amp;stu&lt;/code&gt;å®é™…ä¸Šä¸€ç›´æŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼Œæœ€ç»ˆè¯¥åœ°å€çš„å€¼ä¸ºéå†çš„æœ€åä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;struct&lt;/code&gt;çš„å€¼æ‹·è´ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å½¢åŒå¦‚ä¸‹ä»£ç ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;var stu student 
for _, stu = range stus {
	m[stu.Name] = &amp;amp;stu
} 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ä¿®æ­£æ–¹æ¡ˆï¼Œå–æ•°ç»„ä¸­åŸå§‹å€¼çš„åœ°å€ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;for i, _ := range stus {
	stu:=stus[i]
	m[stu.Name] = &amp;amp;stu
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;é‡æ–°è¿è¡Œï¼Œæ•ˆæœå¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;shen&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;xc&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;42000&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;060&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;li&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;xc&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;42000&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;wang&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;xc&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;42000&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;key=shen,value=&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;shen&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;key=li,value=&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;li&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;key=wang,value=&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;wang&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 

&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;Process&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;finished&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;3-ä¸‹é¢çš„ä»£ç ä¼šè¾“å‡ºä»€ä¹ˆå¹¶è¯´æ˜åŸå› &quot;&gt;3. ä¸‹é¢çš„ä»£ç ä¼šè¾“å‡ºä»€ä¹ˆï¼Œå¹¶è¯´æ˜åŸå› &lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import (
	&quot;fmt&quot;
	&quot;runtime&quot;
	&quot;sync&quot;
)

func init() {
	fmt.Println(&quot;Current Go Version:&quot;, runtime.Version())
}
func main() {
	runtime.GOMAXPROCS(1)

	count := 10
	wg := sync.WaitGroup{}
	wg.Add(count * 2)
	for i := 0; i &amp;lt; count; i++ {
		go func() {
			fmt.Printf(&quot;[%d]&quot;, i)
			wg.Done()
		}()
	}
	for i := 0; i &amp;lt; count; i++ {
		go func(i int) {
			fmt.Printf(&quot;-%d-&quot;, i)
			wg.Done()
		}(i)
	}
	wg.Wait()
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œæ•ˆæœï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Current Go Version: go1.10.1
-9-[10][10][10][10][10][10][10][10][10][10]-0--1--2--3--4--5--6--7--8-
Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¸¤ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt;å¾ªç¯å†…éƒ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;go func&lt;/code&gt; è°ƒç”¨å‚æ•°içš„æ–¹å¼æ˜¯ä¸åŒçš„ï¼Œå¯¼è‡´ç»“æœå®Œå…¨ä¸åŒã€‚è¿™ä¹Ÿæ˜¯æ–°æ‰‹å®¹æ˜“é‡åˆ°çš„å‘ã€‚&lt;/p&gt;

&lt;p&gt;ç¬¬ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;go func&lt;/code&gt;ä¸­&lt;code class=&quot;highlighter-rouge&quot;&gt;i&lt;/code&gt;æ˜¯å¤–éƒ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt;çš„ä¸€ä¸ªå˜é‡ï¼Œåœ°å€ä¸å˜åŒ–ã€‚éå†å®Œæˆåï¼Œæœ€ç»ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;i=10&lt;/code&gt;ã€‚æ•…&lt;code class=&quot;highlighter-rouge&quot;&gt;go func&lt;/code&gt;æ‰§è¡Œæ—¶ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;i&lt;/code&gt;çš„å€¼å§‹ç»ˆæ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;10&lt;/code&gt;ï¼ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;10&lt;/code&gt;æ¬¡éå†å¾ˆå¿«å®Œæˆï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ç¬¬äºŒä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;go func&lt;/code&gt;ä¸­&lt;code class=&quot;highlighter-rouge&quot;&gt;i&lt;/code&gt;æ˜¯å‡½æ•°å‚æ•°ï¼Œä¸å¤–éƒ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt;ä¸­çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;i&lt;/code&gt;å®Œå…¨æ˜¯ä¸¤ä¸ªå˜é‡ã€‚å°¾éƒ¨(&lt;code class=&quot;highlighter-rouge&quot;&gt;i&lt;/code&gt;)å°†å‘ç”Ÿå€¼æ‹·è´ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;go func&lt;/code&gt;å†…éƒ¨æŒ‡å‘å€¼æ‹·è´åœ°å€ã€‚&lt;/p&gt;

&lt;h3 id=&quot;4-ä¸‹é¢ä»£ç ä¼šè¾“å‡ºä»€ä¹ˆ&quot;&gt;4. ä¸‹é¢ä»£ç ä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿ&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import &quot;fmt&quot;

type People struct{}

func (p *People) ShowA() {
	fmt.Println(&quot;showA&quot;)
	p.ShowB()
}
func (p *People) ShowB() {
	fmt.Println(&quot;showB&quot;)
}

type Teacher struct {
	People
}

func (t *Teacher) ShowB() {
	fmt.Println(&quot;teacher showB&quot;)
}

func main() {
	t := Teacher{}
	t.ShowA()
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;showA
showB

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Go&lt;/code&gt;ä¸­æ²¡æœ‰ç»§æ‰¿,ä¸Šé¢è¿™ç§å†™æ³•å«ç»„åˆã€‚&lt;/p&gt;

&lt;p&gt;ä¸Šé¢çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;t.ShowA()&lt;/code&gt;ç­‰ä»·äº&lt;code class=&quot;highlighter-rouge&quot;&gt;t.People.ShowA()&lt;/code&gt;ï¼Œå°†ä¸Šé¢çš„ä»£ç ä¿®æ”¹å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func main() {
	t := Teacher{}
	t.ShowA()
	fmt.Println(&quot;---------------&quot;)
	t.People.ShowA()
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœä¸ºï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;showA
showB
---------------
showA
showB

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;5-ä¸‹é¢ä»£ç ä¼šè§¦å‘å¼‚å¸¸å—è¯·è¯¦ç»†è¯´æ˜&quot;&gt;5. ä¸‹é¢ä»£ç ä¼šè§¦å‘å¼‚å¸¸å—ï¼Ÿè¯·è¯¦ç»†è¯´æ˜&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

func main() {
	runtime.GOMAXPROCS(1)
	int_chan := make(chan int, 1)
	string_chan := make(chan string, 1)
	int_chan &amp;lt;- 1
	string_chan &amp;lt;- &quot;hello&quot;
	select {
    	case value := &amp;lt;-int_chan:
    		fmt.Println(value)
    	case value := &amp;lt;-string_chan:
    		panic(value)
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æœ‰å¯èƒ½ä¼šå‘ç”Ÿå¼‚å¸¸ï¼Œå¦‚æœæ²¡æœ‰&lt;code class=&quot;highlighter-rouge&quot;&gt;selct&lt;/code&gt;è¿™æ®µä»£ç ï¼Œå°±ä¼šå‡ºç°çº¿ç¨‹é˜»å¡ï¼Œå½“æœ‰&lt;code class=&quot;highlighter-rouge&quot;&gt;selct&lt;/code&gt;è¿™ä¸ªè¯­å¥åï¼Œç³»ç»Ÿä¼šéšæœºæŠ½å–ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;case&lt;/code&gt;è¿›è¡Œåˆ¤æ–­ï¼Œåªæœ‰æœ‰å…¶ä¸­ä¸€æ¡è¯­å¥æ­£å¸¸&lt;code class=&quot;highlighter-rouge&quot;&gt;return&lt;/code&gt;ï¼Œæ­¤ç¨‹åºå°†ç«‹å³æ‰§è¡Œã€‚&lt;/p&gt;

&lt;h3 id=&quot;6-ä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆ&quot;&gt;6. ä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import &quot;fmt&quot;

func calc(index string, a, b int) int {
	ret := a + b
	fmt.Println(index, a, b, ret)
	return ret
}

func main() {
	a := 1
	b := 2
	defer calc(&quot;1&quot;, a, calc(&quot;10&quot;, a, b))
	a = 0
	defer calc(&quot;2&quot;, a, calc(&quot;20&quot;, a, b))
	b = 1
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;10 1 2 3
20 0 2 2
2 0 2 2
1 1 3 4

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åœ¨è§£é¢˜å‰éœ€è¦æ˜ç¡®ä¸¤ä¸ªæ¦‚å¿µï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt;æ˜¯åœ¨å‡½æ•°æœ«å°¾çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;return&lt;/code&gt;å‰æ‰§è¡Œï¼Œå…ˆè¿›åæ‰§è¡Œã€‚&lt;/li&gt;
  &lt;li&gt;å‡½æ•°è°ƒç”¨æ—¶ &lt;code class=&quot;highlighter-rouge&quot;&gt;int&lt;/code&gt; å‚æ•°å‘ç”Ÿå€¼æ‹·è´ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸ç®¡ä»£ç é¡ºåºå¦‚ä½•ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;defer calc func&lt;/code&gt;ä¸­å‚æ•°&lt;code class=&quot;highlighter-rouge&quot;&gt;b&lt;/code&gt;å¿…é¡»å…ˆè®¡ç®—ï¼Œæ•…ä¼šåœ¨è¿è¡Œåˆ°ç¬¬ä¸‰è¡Œæ—¶ï¼Œæ‰§è¡Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;calc(&quot;10&quot;,a,b)&lt;/code&gt;è¾“å‡ºï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;10 1 2 3&lt;/code&gt;å¾—åˆ°å€¼&lt;code class=&quot;highlighter-rouge&quot;&gt;3&lt;/code&gt;ï¼Œå°†&lt;code class=&quot;highlighter-rouge&quot;&gt;cal(&quot;1&quot;,1,3)&lt;/code&gt;å­˜æ”¾åˆ°å»¶åæ‰§æ‰§è¡Œå‡½æ•°é˜Ÿåˆ—ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;æ‰§è¡Œåˆ°ç¬¬äº”è¡Œæ—¶ï¼Œç°è¡Œè®¡ç®—&lt;code class=&quot;highlighter-rouge&quot;&gt;calc(&quot;20&quot;, a, b)&lt;/code&gt;å³&lt;code class=&quot;highlighter-rouge&quot;&gt;calc(&quot;20&quot;, 0, 2)&lt;/code&gt;è¾“å‡ºï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;20 0 2 2&lt;/code&gt;å¾—åˆ°å€¼&lt;code class=&quot;highlighter-rouge&quot;&gt;2&lt;/code&gt;,å°†&lt;code class=&quot;highlighter-rouge&quot;&gt;cal(&quot;2&quot;,0,2)&lt;/code&gt;å­˜æ”¾åˆ°å»¶åæ‰§è¡Œå‡½æ•°é˜Ÿåˆ—ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;æ‰§è¡Œåˆ°æœ«å°¾è¡Œï¼ŒæŒ‰é˜Ÿåˆ—å…ˆè¿›åå‡ºåŸåˆ™ä¾æ¬¡æ‰§è¡Œï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;cal(&quot;2&quot;,0,2)ã€cal(&quot;1&quot;,1,3) &lt;/code&gt;ï¼Œä¾æ¬¡è¾“å‡ºï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;2 0 2 2ã€1 1 3 4&lt;/code&gt; ã€‚&lt;/p&gt;

&lt;h3 id=&quot;7-è¯·å†™å‡ºä»¥ä¸‹è¾“å…¥å†…å®¹&quot;&gt;7. è¯·å†™å‡ºä»¥ä¸‹è¾“å…¥å†…å®¹&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import &quot;fmt&quot;

func main() {
	s := make([]int, 5)
	fmt.Printf(&quot;%p\n&quot;, s)
	s = append(s, 1, 2, 3)
	fmt.Printf(&quot;%p\n&quot;, s) //new pointer
	fmt.Println(s)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœ:&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;0xc4200180c0
0xc42001c0a0
[0 0 0 0 0 1 2 3]

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;8-ä¸‹é¢çš„ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜&quot;&gt;8. ä¸‹é¢çš„ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
package main

import (
	&quot;fmt&quot;
	&quot;sync&quot;
)

type UserAges struct {
	ages map[string]int
	sync.Mutex
}

func (ua *UserAges) Add(name string, age int) {
	ua.Lock()
	defer ua.Unlock()
	ua.ages[name] = age
}

func (ua *UserAges) Get(name string) int {
	if age, ok := ua.ages[name]; ok {
		return age
	}
	return -1
}

func main() {
	count := 1000
	gw := sync.WaitGroup{}
	gw.Add(count * 3)
	u := UserAges{ages: map[string]int{}}
	add := func(i int) {
		u.Add(fmt.Sprintf(&quot;user_%d&quot;, i), i)
		gw.Done()
	}
	
	for i := 0; i &amp;lt; count; i++ {
		go add(i)
		go add(i)
	}
	
	for i := 0; i &amp;lt; count; i++ {
		go func(i int) {
			defer gw.Done()
			u.Get(fmt.Sprintf(&quot;user_%d&quot;, i))
		}(i)
	}
	gw.Wait()
	fmt.Println(&quot;Done&quot;)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¾“å‡ºç»“æœï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;fatal error: concurrent map read and map write

goroutine 2022 [running]:
runtime.throw(0x10c5472, 0x21)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ç»“è®ºï¼š&lt;/strong&gt; åœ¨æ‰§è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;Get&lt;/code&gt; æ–¹æ³•æ—¶å¯èƒ½è¢«&lt;code class=&quot;highlighter-rouge&quot;&gt;panic&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è™½ç„¶æœ‰ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;sync.Mutex&lt;/code&gt;åšå†™é”ï¼Œä½†æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt;æ˜¯å¹¶å‘è¯»å†™ä¸å®‰å…¨çš„ã€‚&lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt;å±äºå¼•ç”¨ç±»å‹ï¼Œå¹¶å‘è¯»å†™æ—¶å¤šä¸ªåç¨‹è§æ˜¯é€šè¿‡æŒ‡é’ˆè®¿é—®åŒä¸€ä¸ªåœ°å€ï¼Œå³è®¿é—®å…±äº«å˜é‡ï¼Œæ­¤æ—¶åŒæ—¶è¯»å†™èµ„æºå­˜åœ¨ç«äº‰å…³ç³»ã€‚æ‰€ä»¥ä¼šæŠ¥é”™è¯¯ä¿¡æ¯:&lt;code class=&quot;highlighter-rouge&quot;&gt;fatal error: concurrent map read and map write&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœç¬¬ä¸€æ¬¡æ²¡å¤ç°&lt;code class=&quot;highlighter-rouge&quot;&gt;panic&lt;/code&gt;é—®é¢˜ï¼Œå¯ä»¥å†æ¬¡è¿è¡Œï¼Œå¤ç°è¯¥é—®é¢˜ã€‚é‚£ä¹ˆå¦‚ä½•æ”¹å–„å‘¢? åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;Go1.9&lt;/code&gt;æ–°ç‰ˆæœ¬ä¸­å°†æä¾›å¹¶å‘å®‰å…¨çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt;ã€‚é¦–å…ˆéœ€è¦äº†è§£ä¸¤ç§é”çš„ä¸åŒï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sync.Mutex&lt;/code&gt;äº’æ–¥é”&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sync.RWMutex&lt;/code&gt;è¯»å†™é”ï¼ŒåŸºäºäº’æ–¥é”çš„å®ç°ï¼Œå¯ä»¥åŠ å¤šä¸ªè¯»é”æˆ–è€…ä¸€ä¸ªå†™é”ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;RWMutexç›¸å…³æ–¹æ³•ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;type RWMutex
    func (rw *RWMutex) Lock() 
    func (rw *RWMutex) RLock()
    func (rw *RWMutex) RLocker() Locker
    func (rw *RWMutex) RUnlock()
    func (rw *RWMutex) Unlock()
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ä»£ç æ”¹è¿›å¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import (
	&quot;fmt&quot;
	&quot;sync&quot;
)

type UserAges struct {
	ages map[string]int
	sync.RWMutex
}

func (ua *UserAges) Add(name string, age int) {
	ua.Lock()
	defer ua.Unlock()
	ua.ages[name] = age
}

func (ua *UserAges) Get(name string) int {
	ua.RLock()
	defer ua.RUnlock()
	if age, ok := ua.ages[name]; ok {
		return age
	}

	return -1
}

func main() {
	count := 10000
	gw := sync.WaitGroup{}
	gw.Add(count * 3)
	u := UserAges{ages: map[string]int{}}
	add := func(i int) {
		u.Add(fmt.Sprintf(&quot;user_%d&quot;, i), i)
		gw.Done()
	}
	for i := 0; i &amp;lt; count; i++ {
		go add(i)
		go add(i)
	}
	for i := 0; i &amp;lt; count; i++ {
		go func(i int) {
			defer gw.Done()
			u.Get(fmt.Sprintf(&quot;user_%d&quot;, i))
			fmt.Print(&quot;.&quot;)
		}(i)
	}
	gw.Wait()
	fmt.Println(&quot;Done&quot;)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;.
.
.
.
Done

Process finished with exit code 0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;9-ä¸‹é¢çš„è¿­ä»£ä¼šæœ‰ä»€ä¹ˆé—®é¢˜&quot;&gt;9. ä¸‹é¢çš„è¿­ä»£ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main

import &quot;fmt&quot;
import &quot;sync&quot;
import &quot;time&quot;

type ThreadSafeSet struct {
	sync.RWMutex
	s []int
}

func (set *ThreadSafeSet) Iter() &amp;lt;-chan interface{} {
	ch := make(chan interface{})
	go func() {
		set.RLock()

		for elem := range set.s {
			ch &amp;lt;- elem
			fmt.Print(&quot;get:&quot;, elem, &quot;,&quot;)
		}

		close(ch)
		set.RUnlock()

	}()
	return ch
}

func main() {
	//read()
	unRead()
}
func read() {
	set := ThreadSafeSet{}
	set.s = make([]int, 100)
	ch := set.Iter()
	closed := false
	for {
		select {
		case v, ok := &amp;lt;-ch:
			if ok {
				fmt.Print(&quot;read:&quot;, v, &quot;,&quot;)
			} else {
				closed = true
			}
		}
		if closed {
			fmt.Print(&quot;closed&quot;)
			break
		}
	}
	fmt.Print(&quot;Done&quot;)
}

func unRead() {
	set := ThreadSafeSet{}
	set.s = make([]int, 100)
	ch := set.Iter()
	_ = ch
	time.Sleep(5 * time.Second)
	fmt.Print(&quot;Done&quot;)
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ç»“è®ºï¼š&lt;/strong&gt;å†…éƒ¨è¿­ä»£å‡ºç°é˜»å¡ã€‚é»˜è®¤åˆå§‹åŒ–æ—¶æ— ç¼“å†²åŒºï¼Œéœ€è¦ç­‰å¾…æ¥æ”¶è€…è¯»å–åæ‰èƒ½ç»§ç»­å†™å…¥ã€‚&lt;/p&gt;

&lt;p&gt;chanåœ¨ä½¿ç”¨makeåˆå§‹åŒ–æ—¶å¯é™„å¸¦ä¸€ä¸ªå¯é€‰å‚æ•°æ¥è®¾ç½®ç¼“å†²åŒºã€‚é»˜è®¤æ— ç¼“å†²ï¼Œé¢˜ç›®ä¸­ä¾¿åˆå§‹åŒ–çš„æ˜¯æ— ç¼“å†²åŒºçš„chanï¼Œè¿™æ ·åªæœ‰å†™å…¥çš„å…ƒç´ ç›´åˆ°è¢«è¯»å–åæ‰èƒ½ç»§ç»­å†™å…¥ï¼Œä¸ç„¶å°±ä¸€ç›´é˜»å¡ã€‚&lt;/p&gt;

&lt;p&gt;è®¾ç½®ç¼“å†²åŒºå¤§å°åï¼Œå†™å…¥æ•°æ®æ—¶å¯è¿ç»­å†™å…¥åˆ°ç¼“å†²åŒºä¸­ï¼Œç›´åˆ°ç¼“å†²åŒºè¢«å æ»¡ã€‚ä»chanä¸­æ¥æ”¶ä¸€æ¬¡ä¾¿å¯ä»ç¼“å†²åŒºä¸­é‡Šæ”¾ä¸€æ¬¡ã€‚å¯ä»¥ç†è§£ä¸ºchanæ˜¯å¯ä»¥è®¾ç½®ååé‡çš„å¤„ç†æ± ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ch := make(chan interface{}) &lt;/code&gt;å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;ch := make(chan interface{},1)&lt;/code&gt;æ˜¯ä¸ä¸€æ ·çš„
æ— ç¼“å†²çš„ ä¸ä»…ä»…æ˜¯åªèƒ½å‘ &lt;code class=&quot;highlighter-rouge&quot;&gt;ch&lt;/code&gt; é€šé“æ”¾ ä¸€ä¸ªå€¼ è€Œæ˜¯ä¸€ç›´è¦æœ‰äººæ¥æ”¶ï¼Œé‚£ä¹ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;ch &amp;lt;- elem&lt;/code&gt;æ‰ä¼šç»§ç»­ä¸‹å»ï¼Œè¦ä¸ç„¶å°±ä¸€ç›´é˜»å¡ç€ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰æ¥æ”¶è€…æ‰å»æ”¾ï¼Œæ²¡æœ‰æ¥æ”¶è€…å°±é˜»å¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;è€Œç¼“å†²ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;1&lt;/code&gt;åˆ™å³ä½¿æ²¡æœ‰æ¥æ”¶è€…ä¹Ÿä¸ä¼šé˜»å¡ï¼Œå› ä¸ºç¼“å†²å¤§å°æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;1&lt;/code&gt;åªæœ‰å½“ æ”¾ç¬¬äºŒä¸ªå€¼çš„æ—¶å€™ ç¬¬ä¸€ä¸ªè¿˜æ²¡è¢«äººæ‹¿èµ°ï¼Œè¿™æ—¶å€™æ‰ä¼šé˜»å¡&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;10-ä»¥ä¸‹ä»£ç èƒ½ç¼–è¯‘è¿‡å»å—ä¸ºä»€ä¹ˆ&quot;&gt;10. ä»¥ä¸‹ä»£ç èƒ½ç¼–è¯‘è¿‡å»å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main
import (
	&quot;fmt&quot;
)
type People interface {
	Speak(string) string
}
type Stduent struct{}
func (stu *Stduent) Speak(think string) (talk string) {
	if think == &quot;bitch&quot; {
		talk = &quot;You are a good boy&quot;
	} else {
		talk = &quot;hi&quot;
	}
	return
}
func main() {
	var peo People = Stduent{}
	think := &quot;bitch&quot;
	fmt.Println(peo.Speak(think))
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ç»“è®ºï¼š&lt;/strong&gt;ç¼–è¯‘å¤±è´¥ï¼Œå€¼ç±»å‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;Student{}&lt;/code&gt; æœªå®ç°æ¥å£&lt;code class=&quot;highlighter-rouge&quot;&gt;People&lt;/code&gt;çš„æ–¹æ³•ï¼Œä¸èƒ½å®šä¹‰ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;People&lt;/code&gt; ç±»å‹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ä¸¤ç§æ­£ç¡®ä¿®æ”¹æ–¹æ³•ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æ–¹æ³•ä¸€&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main
import (
	&quot;fmt&quot;
)
type People interface {
	Speak(string) string
}

type Stduent struct{}

func (stu Stduent) Speak(think string) (talk string) {
	if think == &quot;bitch&quot; {
		talk = &quot;You are a good boy&quot;
	} else {
		talk = &quot;hi&quot;
	}
	return
}
func main() {
	var peo People = Stduent{}
	think := &quot;hi&quot;
	fmt.Println(peo.Speak(think))
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;æ–¹æ³•äºŒ&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;package main
import (
	&quot;fmt&quot;
)
type People interface {
	Speak(string) string
}

type Stduent struct{}

func (stu Stduent) Speak(think string) (talk string) {
	if think == &quot;bitch&quot; {
		talk = &quot;You are a good boy&quot;
	} else {
		talk = &quot;hi&quot;
	}
	return
}
func main() {
	var peo People = &amp;amp;Stduent{}
	think := &quot;bitch&quot;
	fmt.Println(peo.Speak(think))
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ€»ç»“ï¼š&lt;/strong&gt;æŒ‡é’ˆç±»å‹çš„ç»“æ„ä½“å¯¹è±¡å¯ä»¥åŒæ—¶è°ƒç”¨ç»“æ„ä½“å€¼ç±»å‹å’ŒæŒ‡é’ˆç±»å‹å¯¹åº”çš„æ–¹æ³•ã€‚è€Œå€¼ç±»å‹çš„ç»“æ„ä½“å¯¹è±¡åªèƒ½è°ƒç”¨å€¼ç±»å‹å¯¹åº”çš„æ¥å£æ–¹æ³•ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å…³æ³¨åŒºå—é“¾éƒ¨è½å®æ—¶è·å–æœ€æ–°æŠ€æœ¯æ–‡ç« &quot;&gt;å…³æ³¨åŒºå—é“¾éƒ¨è½ï¼Œå®æ—¶è·å–æœ€æ–°æŠ€æœ¯æ–‡ç« &lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;http://om1c35wrq.bkt.clouddn.com/%E5%8C%BA%E5%9D%97%E9%93%BE%E9%83%A8%E8%90%BD-1.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Tue, 24 Apr 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/04/24/golang-interview/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/04/24/golang-interview/</guid>
        
        <category>ç¬”è¯•é¢˜</category>
        
        
      </item>
    
  </channel>
</rss>
